
<form ng-class="{deprecated: vm.attachment.getIn(['file', 'is_deprecated'])}" ng-if="vm.attachment.getIn(['file', 'id'])" ng-submit="vm.save()" class="single-attachment">
  <div class="attachment-name"><a tg-attachment-link="vm.attachment" href="{{::vm.attachment.getIn(['file', 'url'])}}" title="{{::vm.attachment.get(['file', 'name'])}}" target="_blank" download="{{::vm.attachment.getIn(['file', 'name'])}}" class="e2e-attachment-link">
      <tg-svg svg-icon="icon-attachment"></tg-svg><span>{{::vm.attachment.getIn(['file', 'name'])}}</span></a></div>
  <div ng-if="!vm.attachment.get('editable') &amp;&amp; vm.attachment.getIn(['file', 'description'])" class="attachment-comments"><span ng-if="vm.attachment.getIn(['file', 'is_deprecated'])" class="deprecated-file">{{'ATTACHMENT.DEPRECATED' | translate}}</span><span>{{vm.attachment.getIn(['file', 'description'])}}</span></div>
  <div class="attachment-size"><span>{{::vm.attachment.getIn(['file', 'size']) | sizeFormat}}</span></div>
  <div ng-if="vm.attachment.get('editable')" class="editable editable-attachment-comment">
    <input type="text" name="description" maxlength="140" ng-model="vm.form.description" tg-auto-select="tg-auto-select" ng-keydown="$event.which === 27 &amp;&amp; vm.editMode(false)" placeholder="{{'ATTACHMENT.DESCRIPTION' | translate}}"/>
  </div>
  <div ng-if="vm.attachment.get('editable')" class="editable editable-attachment-deprecated">
    <input type="checkbox" ng-model="vm.form.is_deprecated" ng-checked="vm.attachment.getIn(['file', 'is_deprecated'])" name="is-deprecated" id="attach-{{::vm.attachment.getIn(['file', 'id'])}}-is-deprecated"/>
    <label for="attach-{{::vm.attachment.getIn(['file', 'id'])}}-is-deprecated" translate="{{'ATTACHMENT.DEPRECATED_FILE' | translate}}" class="is_deprecated"></label>
  </div>
  <div ng-if="vm.attachment.get('editable')" class="attachment-settings">
    <div tg-loading="vm.attachment.get('loading')"><a href="" title="{{'COMMON.SAVE' | translate}}" ng-click="vm.save()" class="editable-settings e2e-save">
        <tg-svg svg-icon="icon-save"></tg-svg></a></div>
    <div><a href="" title="{{'COMMON.CANCEL' | translate}}" ng-click="vm.editMode(false)" class="editable-settings e2e-cancel">
        <tg-svg svg-icon="icon-close"></tg-svg></a></div>
  </div>
  <div ng-if="!vm.attachment.get('editable')" tg-check-permission="modify_{{vm.type}}" class="attachment-settings"><a href="" title="{{'COMMON.EDIT' | translate}}" ng-click="vm.editMode(true)" class="settings e2e-edit">
      <tg-svg svg-icon="icon-edit" class="drag"></tg-svg></a><a href="" title="{{'COMMON.DELETE' | translate}}" ng-click="vm.delete()" class="settings e2e-delete">
      <tg-svg svg-icon="icon-trash" class="drag"></tg-svg></a><a href="" title="{{'COMMON.DRAG' | translate}}" class="settings">
      <tg-svg svg-icon="icon-drag" class="drag"></tg-svg></a></div>
</form>