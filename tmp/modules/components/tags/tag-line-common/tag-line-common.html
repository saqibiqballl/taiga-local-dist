
<div class="tags-container">
  <div ng-if="tag[1] &amp;&amp; !vm.disableColorSelection" ng-repeat="tag in vm.tags" class="tag-wrapper">
    <tg-tag tag="tag" loading-remove-tag="vm.loadingRemoveTag" project="vm.project" on-delete-tag="vm.onDeleteTag({tag: tag})" has-permissions="vm.checkPermissions()"></tg-tag>
  </div>
  <div ng-if="!tag[1] || vm.disableColorSelection" ng-repeat="tag in vm.tags" class="tag-wrapper">
    <tg-tag tag="tag" loading-remove-tag="vm.loadingRemoveTag" on-delete-tag="vm.onDeleteTag({tag: tag})" has-permissions="vm.checkPermissions()"></tg-tag>
  </div>
  <button variant="secondary" ng-if="!vm.addTag &amp;&amp; vm.checkPermissions()" title="{{'COMMON.TAGS.ADD' | translate}}" ng-click="vm.displayTagInput()" class="btn-filter ng-animate-disabled e2e-show-tag-input"><span translate="COMMON.TAGS.ADD" class="add-tag-text"></span>
    <tg-svg svg-icon="icon-add" svg-title-translate="COMMON.TAGS.ADD"></tg-svg>
  </button>
  <div novalidate="novalidate" ng-if="vm.addTag &amp;&amp; vm.checkPermissions()" tg-loading="vm.loadingAddTag" class="add-tag-input">
    <input type="text" placeholder="{{'COMMON.TAGS.PLACEHOLDER' | translate}}" tg-autofocus="tg-autofocus" ng-model="vm.newTag.name" ng-model-options="{debounce: 200}" class="tag-input e2e-add-tag-input"/>
    <tg-tags-dropdown ng-if="!vm.disableColorSelection" ng-show="vm.newTag.name.length" color-array="vm.colorArray" tag="vm.newTag" on-select-tag="vm.addNewTag(name, color)"></tg-tags-dropdown>
    <tg-color-selector ng-if="!vm.disableColorSelection" on-select-color="vm.selectColor(color)" init-color="vm.newTag.color" is-color-required="false"></tg-color-selector>
    <tg-svg ng-show="vm.newTag.name.length" svg-icon="icon-save" svg-title-translate="COMMON.TAGS.ADD" ng-click="vm.addNewTag(vm.newTag.name, vm.newTag.color)" class="save"></tg-svg>
  </div>
</div>