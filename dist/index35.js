import{r as d,au as T,az as b}from"./index.js";import{P as u}from"./index34.js";function k(e){return typeof e=="number"&&Number.isInteger(e)?e:void 0}function G(e){return typeof e=="boolean"?e:void 0}function p(e){return{type:"active",page:e}}function R(e){return{type:"page",page:e}}function L(e){return{type:"<",page:e}}function N(e){return{type:">",page:e}}function B(e){return{type:`…${e}`,page:void 0}}function*J(e,t){for(;;){const r=e.next(),n=t.next();if(r.done&&n.done)break;yield[r.value,n.value]}}function Q(e,t){let r;for(const n of e){if(!t(n))break;r=n}return r}function F(e){const t=e.next();return t.done?void 0:t.value}function*I(e,t,r){for(const n of X(e,t,r))yield n.map(a=>a==="…"?B(r):R(a))}function*X(e,t,r){const n=t-e+1;for(let a=1;a<n;a++){const i=Y(e,t,a,r);i&&(yield i)}yield x(e,t)}function Y(e,t,r,n){if(r<3)return;const a=r-2;return n==="L"?[e,"…",...x(t-(a-1),t)]:[...x(e,e+(a-1)),"…",t]}function x(e,t){return t<e?[]:Array.from(Array(t-e+1).keys(),r=>r+e)}function*Z({current:e,total:t,narrowBehaviour:r,renderNav:n}){if(t<1)return;const a=Math.max(1,Math.min(e,t)),i=ee(a,t,n);for(const o of i)r&&(yield*r(o)),yield o,yield*i}function*ee(e,t,r){const n=L(e>1?e-1:void 0),a=N(e<t?e+1:void 0),i=p(e),o=I(1,e-1,"L"),s=I(e+1,t,"R"),c=te(o,s);for(const{leftRange:h,rightRange:y}of c)r?yield[n,...h,i,...y,a]:yield[...h,i,...y]}function*te(e,t){const r=J(e,t),n=r.next();if(n.done)return;let[a=[],i=[]]=n.value;yield{leftRange:a,rightRange:i};for(const[o,s]of r)s&&(i=s,yield{leftRange:a,rightRange:i}),o&&(a=o,yield{leftRange:a,rightRange:i})}function ne(e,t){const r=(t==null?void 0:t.previousLabel)||"«",n=(t==null?void 0:t.ariaPreviousLabel)||"Previous",a=(t==null?void 0:t.nextLabel)||"»",i=(t==null?void 0:t.ariaNextLabel)||"Next";return e.map(({type:o,page:s})=>{switch(o){case"<":return{type:"previous",key:`previous${s===void 0?"_disabled":""}`,label:r,a11yLabel:r===n?void 0:n,gotoPage:s};case">":return{type:"next",key:`next${s===void 0?"_disabled":""}`,label:a,a11yLabel:a===i?void 0:i,gotoPage:s};case"…L":case"…R":return{type:"ellipsis",key:`ellipsis_${o==="…L"?"l":"r"}`,label:"…",a11yHidden:!0,gotoPage:void 0};default:return{type:"page",key:`${o}_${s}`,label:s.toString(),gotoPage:s,active:o==="active"}}})}function re(e){const t=getComputedStyle(e),r=t.getPropertyValue("--pagination-override-margin-inline-start"),n=t.getPropertyValue("--pagination-override-margin-inline-end");return m(r||t.marginLeft)+w(e)+m(n||t.marginRight)}function ae(e){const t=getComputedStyle(e);return e.getBoundingClientRect().width-m(t.borderLeftWidth)-m(t.paddingLeft)-m(t.paddingRight)-m(t.borderRightWidth)}function ie(e){const t=getComputedStyle(e);return m(t.marginLeft)+m(t.borderLeftWidth)+m(t.paddingLeft)+m(t.paddingRight)+m(t.borderRightWidth)+m(t.marginRight)}function w(e){return e.getBoundingClientRect().width}function m(e){return e?parseInt(e):0}const z=typeof window<"u"?d.useLayoutEffect:d.useEffect;function se(e){const[t,r]=d.useState(),n=d.useRef(void 0),a=d.useCallback(()=>{const i=e?ae(e):void 0;n.current!==i&&(n.current=i,r(i))},[e]);return z(a),d.useEffect(()=>{if(!e)return;const i=new ResizeObserver(oe(()=>T.flushSync(a)));return i.observe(e),()=>{i.disconnect()}},[e,a]),t}function oe(e){return(t,r)=>{const n=t.map(s=>s.target),a=n.map(s=>s.getBoundingClientRect());e();const i=n.map(s=>s.getBoundingClientRect());n.filter((s,c)=>!ce(a[c],i[c])).forEach(s=>ue(s,r))}}function ue(e,t){t.unobserve(e),requestAnimationFrame(()=>{t.observe(e)})}function ce(e,t){return e.width===t.width&&e.height===t.height}function le(e){const[t,r]=d.useState(null),n=(t==null?void 0:t.parentElement)??void 0,a=se(e===void 0?n:void 0);return{width:e??a,ref:r}}function fe(e,t){const r=d.useRef(null);return z(()=>{const n=e(r.current);if(!n)return;const a=new Map(n.map(o=>[o,w(o)])),i=new ResizeObserver(o=>{o.map(c=>a.get(c.target)-w(c.target)).some(c=>c<-.5||c>.5)&&T.flushSync(t)});return n.forEach(o=>i.observe(o)),()=>i.disconnect()}),r}function de(){const[e,t]=d.useState(void 0),r=d.useCallback(()=>t(void 0),[]);return e?{widthCalculator:e,clearCache:r}:{metricsRender:{items:me,ref(n){const a=ge(n);a&&t(()=>he(a))}},clearCache:r}}function ge(e){if(e)return[ie(e),...Array.from(e.children).map(re)]}function he([e,t,r,n,a,i,o,s,c,h]){const y=({type:l,page:g})=>{switch(l){case"page":return t+(r-t)*(g.toString().length-1);case"active":return n+(a-n)*(g.toString().length-1);case"<":return g!==void 0?i:o;case">":return g!==void 0?s:c;case"…L":case"…R":return h;default:return l}};return l=>e+l.reduce((g,v)=>g+y(v),0)}const me=[R(8),R(88),p(8),p(88),L(0),L(void 0),N(0),N(void 0),B("L")];function ye(e,t){const{widthCalculator:r,metricsRender:n,clearCache:a}=de(),i=fe(be,a),{width:o=0,ref:s}=le(t),c=d.useCallback(l=>{i.current=l,s==null||s(l)},[i,s]),[h,y]=d.useState(!0);return h?{visible:!1,items:F(e())??[],ref(g){y(!1),c(g)},clearCache:a}:n?{visible:!1,items:n.items,ref(l){n.ref(l),c(l)},clearCache:a}:{visible:!0,items:ve(e,r,o),ref:c,clearCache:a}}function ve(e,t,r){const n=e(),a=F(n)??[];return Q(n,o=>t(o)<r)??a}function be(e){return e&&Array.from(e.children)}function Ce(e,t,r,n){const a=()=>Z({current:k(e)??0,total:k(t)??0,narrowBehaviour:n==null?void 0:n.narrowBehaviour,renderNav:G(n==null?void 0:n.renderNav)??!0}),{visible:i,items:o,ref:s,clearCache:c}=ye(a,r),h=S(n==null?void 0:n.previousLabel),y=S(n==null?void 0:n.nextLabel);d.useEffect(()=>()=>c(),[c,h,y]);const l=ne(o,n);return{visible:i,items:l,ref:s,clearCache:c}}function S(e){if(d.isValidElement(e))switch(typeof e.type){case"string":return`element-str-${e.type}`;case"function":return`element-fn-${e.type.name}`;default:return"element"}else return Array.isArray(e)?"element-array":e}function pe(e){return t=>{t.preventDefault(),e()}}function Re({a11yLabel:e,label:t}){return e?b.createElement("span",{"aria-hidden":"true"},t):t}const Le=d.memo($),Pe=Le;function $(e){const{current:t,total:r,onPageChange:n,maxWidth:a,narrowBehaviour:i,className:o,extraClassName:s="justify-content-center",pageItemClassName:c="page-item",pageLinkClassName:h="page-link",activeItemClassName:y="active",disabledItemClassName:l="disabled",navClassName:g,previousClassName:v,nextClassName:C,previousLabel:M,nextLabel:O,ariaPreviousLabel:_,ariaNextLabel:q,renderNav:D=!0,ariaCurrentAttr:H=!0,linkHref:K="hash",labelBehaviour:P=Re}=e,{visible:V,items:E,ref:j,clearCache:W}=Ce(t,r,a,{narrowBehaviour:i,previousLabel:M,nextLabel:O,ariaPreviousLabel:_,ariaNextLabel:q,renderNav:D});if(d.useEffect(()=>()=>W(),[W,o,c,h,y,l,g,v,C]),E.length===0)return null;function U(){return o!==void 0?o:s?`pagination ${s}`:"pagination"}return b.createElement("ul",{className:U(),ref:j,...!V&&{style:{visibility:"hidden"}}},E.map(f=>f.gotoPage!==void 0?b.createElement("li",{key:f.key,className:A([c,f.active&&y,f.type==="next"&&(C??g),f.type==="previous"&&(v??g)]),"aria-current":f.active&&H?"page":void 0},b.createElement("a",{className:h,href:Ne(K,f.gotoPage),onClick:pe(()=>n(f.gotoPage)),"aria-label":f.a11yLabel},P(f))):b.createElement("li",{key:f.key,className:A([c,l,f.type==="next"&&(C??g),f.type==="previous"&&(v??g)]),"aria-hidden":f.a11yHidden},b.createElement("span",{className:h,"aria-label":f.a11yLabel},P(f)))))}function A(e){return e.filter(t=>t).join(" ")}function Ne(e,t){return typeof e=="function"?e(t):e==="hash"?"#":void 0}$.propTypes={current:u.number.isRequired,total:u.number.isRequired,onPageChange:u.func.isRequired,maxWidth:u.number,narrowBehaviour:u.func,className:u.string,extraClassName:u.string,pageItemClassName:u.string,pageLinkClassName:u.string,activeItemClassName:u.string,disabledItemClassName:u.string,disabledLinkClassName:u.string,navClassName:u.string,previousClassName:u.string,nextClassName:u.string,previousLabel:u.oneOfType([u.string,u.element]),nextLabel:u.oneOfType([u.string,u.element]),ariaPreviousLabel:u.string,ariaNextLabel:u.string,renderNav:u.bool,ariaCurrentAttr:u.bool,linkHref:u.oneOfType([u.func,u.oneOf(["hash","omit"])]),labelBehaviour:u.func};export{Pe as R};
