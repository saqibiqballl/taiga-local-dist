import{j as e,W as se,X as ae,r as d,C as we,T as le,u as Ne,K as ke}from"./index.js";import{D as Se}from"./DropdownEditMenu.js";import{D as Ce}from"./DeleteModal.js";import{t as W}from"./toastr.js";import{M as ve}from"./MuiDialog.js";import{M as Ae}from"./MultiSelectDropdown.js";import{i as Ee,G as De,f as fe,S as Me}from"./index37.js";import{d as _e,a as Le}from"./ZoomIn.js";import{G as ie}from"./Grid.js";import{R as Pe}from"./index35.js";import{a as Fe}from"./index.module.js";import{u as ze}from"./index38.js";import"./createSvgIcon2.js";import"./createSvgIcon.js";import"./resolveComponentProps.js";import"./IconButton.js";import"./Menu.js";import"./Modal.js";import"./Backdrop.js";import"./useTheme.js";import"./useSlotProps.js";import"./Paper.js";import"./Grow.js";import"./DialogTitle.js";import"./index34.js";import"./tslib.es6.js";function Ie({selectedItems:s,handleDeleteItems:l}){return e.jsx("div",{"data-name":"feature_mediaCloud_network_vis_deleteNetwork",className:`${s.length<1&&"hidden"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"hidden xl:block text-sm italic mr-2 whitespace-nowrap",children:[e.jsx("span",{children:s.length})," items selected"]}),e.jsx("button",{className:"btn bg-white dark:bg-slate-800 border-slate-200 dark:border-slate-700 hover:border-slate-300 dark:hover:border-slate-600 text-rose-500",onClick:()=>{l()},children:"Delete"})]})})}const be=async s=>{var l;try{return(await se.delete(`${ae.networkVis}/delete`,{data:{IDS:s}})).data}catch(t){(l=t==null?void 0:t.response)!=null&&l.data&&W.error(t.response.data.message)}};function Te({setCheckListRendered:s,data:l,reloadData:t,setLoadProjectModalOpen:u,setLoadProject:i}){const[c,h]=d.useState(!1),g=async()=>{const v=await be([l._id]);v&&v.message&&(W.success(v.message),setTimeout(()=>{t()},100))},n=()=>{u(!0),i(l)};return e.jsxs(e.Fragment,{children:[e.jsxs(Se,{align:"right",children:[e.jsx("li",{children:e.jsx("button",{"data-name":"",className:"font-medium text-sm text-slate-600 dark:text-slate-300 hover:text-slate-700 dark:hover:text-slate-200 flex py-1 px-3",onClick:()=>{n()},children:"Load"})}),e.jsx("li",{children:e.jsx("button",{"data-name":"feature_mediaCloud_network_vis_deleteNetwork",className:"font-medium text-sm text-rose-500 hover:text-rose-600 flex py-1 px-3",onClick:()=>h(!0),children:"Delete"})})]}),e.jsx(Ce,{isOpen:c,onClose:()=>h(!1),onConfirm:g,title:"Delete Network",description:`Are you sure you want to delete ${l.name}`,confirmText:"Delete",cancelText:"Cancel"})]})}const Re=({orgFilters:s,setSources:l})=>{const[t,u]=d.useState([]),[i,c]=d.useState([]);d.useEffect(()=>{(s==null?void 0:s.length)>0&&u(s)},[s]);const h=t.map(g=>({value:g.entity1_id,label:g.Source,source_Ext:g.Source_Ext}));return e.jsx("section",{className:"flex flex-col mt-0 h-full overflow-hidden",children:e.jsx("div",{className:"space-y-4 divide-y-[1.5px] overflow-x-hidden flex-grow divide-slate-300 p-2 hoverscroll",style:{height:"350px"},children:e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"inline-block font-bold mb-3 text-sm mt-3 text-slate-700",children:"Filter by Sources"}),e.jsx(Ae,{options:h,selectedValues:i,onSelectionChange:g=>{c(g),l(g)},placeholder:"Sources"})]})})})},re={org:"#57A835",person:"#DB4139"};var B=0,G=1,ee=2,U=3;function Oe(s,l){return s+"ยง"+l}function pe(){return .01*(.5-Math.random())}var Ve=function(l,t){var u=l.margin,i=l.ratio,c=l.expansion,h=l.gridSize,g=l.speed,n,v,f,k,o,b,S=!0,j=t.length,w=j/U|0,C=new Float32Array(w),A=new Float32Array(w),a=1/0,x=1/0,p=-1/0,r=-1/0;for(n=0;n<j;n+=U)f=t[n+B],k=t[n+G],b=t[n+ee]*i+u,a=Math.min(a,f-b),p=Math.max(p,f+b),x=Math.min(x,k-b),r=Math.max(r,k+b);var y=p-a,D=r-x,m=(a+p)/2,_=(x+r)/2;a=m-c*y/2,p=m+c*y/2,x=_-c*D/2,r=_+c*D/2;var L=new Array(h*h),I=L.length,E;for(E=0;E<I;E++)L[E]=[];var X,F,q,N,P,z,Z,O,T,H;for(n=0;n<j;n+=U)for(f=t[n+B],k=t[n+G],b=t[n+ee]*i+u,X=f-b,F=f+b,q=k-b,N=k+b,P=Math.floor(h*(X-a)/(p-a)),z=Math.floor(h*(F-a)/(p-a)),Z=Math.floor(h*(q-x)/(r-x)),O=Math.floor(h*(N-x)/(r-x)),T=P;T<=z;T++)for(H=Z;H<=O;H++)L[T*h+H].push(n);var Y,ce=new Set,V,M,de,ue,he,me,K,xe,ne,J,Q,$,ge;for(E=0;E<I;E++)for(Y=L[E],n=0,o=Y.length;n<o;n++)for(V=Y[n],de=t[V+B],he=t[V+G],K=t[V+ee],v=n+1;v<o;v++)M=Y[v],ne=Oe(V,M),!(I>1&&ce.has(ne))&&(I>1&&ce.add(ne),ue=t[M+B],me=t[M+G],xe=t[M+ee],J=ue-de,Q=me-he,$=Math.sqrt(J*J+Q*Q),ge=$<K*i+u+(xe*i+u),ge&&(S=!1,M=M/U|0,$>0?(C[M]+=J/$*(1+K),A[M]+=Q/$*(1+K)):(C[M]+=y*pe(),A[M]+=D*pe())));for(n=0,v=0;n<j;n+=U,v++)t[n+B]+=C[v]*.1*g,t[n+G]+=A[v]*.1*g;return{converged:S}},R={},oe=3;R.validateSettings=function(s){return"gridSize"in s&&typeof s.gridSize!="number"||s.gridSize<=0?{message:"the `gridSize` setting should be a positive number."}:"margin"in s&&typeof s.margin!="number"||s.margin<0?{message:"the `margin` setting should be 0 or a positive number."}:"expansion"in s&&typeof s.expansion!="number"||s.expansion<=0?{message:"the `expansion` setting should be a positive number."}:"ratio"in s&&typeof s.ratio!="number"||s.ratio<=0?{message:"the `ratio` setting should be a positive number."}:"speed"in s&&typeof s.speed!="number"||s.speed<=0?{message:"the `speed` setting should be a positive number."}:null};R.graphToByteArray=function(s,l){var t=s.order,u=new Float32Array(t*oe),i=0;return s.forEachNode(function(c,h){typeof l=="function"&&(h=l(c,h)),u[i]=h.x,u[i+1]=h.y,u[i+2]=h.size||1,i+=oe}),u};R.assignLayoutChanges=function(s,l,t){var u=0;s.forEachNode(function(i){var c={x:l[u],y:l[u+1]};typeof t=="function"&&(c=t(i,c)),s.mergeNodeAttributes(i,c),u+=oe})};R.collectLayoutChanges=function(s,l,t){var u={},i=0;return s.forEachNode(function(c){var h={x:l[i],y:l[i+1]};typeof t=="function"&&(h=t(c,h)),u[c]=h,i+=oe}),u};R.createWorker=function(l){var t=window.URL||window.webkitURL,u=l.toString(),i=t.createObjectURL(new Blob(["("+u+").call(this);"],{type:"text/javascript"})),c=new Worker(i);return t.revokeObjectURL(i),c};var $e={gridSize:20,margin:5,expansion:1.1,ratio:1,speed:3},Be=Ee,Ge=Ve,te=R,Ue=$e,We=500;function ye(s,l,t){if(!Be(l))throw new Error("graphology-layout-noverlap: the given graph is not a valid graphology instance.");typeof t=="number"?t={maxIterations:t}:t=t||{};var u=t.maxIterations||We;if(typeof u!="number"||u<=0)throw new Error("graphology-layout-force: you should provide a positive number of maximum iterations.");var i=Object.assign({},Ue,t.settings),c=te.validateSettings(i);if(c)throw new Error("graphology-layout-noverlap: "+c.message);var h=te.graphToByteArray(l,t.inputReducer),g=!1,n;for(n=0;n<u&&!g;n++)g=Ge(i,h).converged;if(s){te.assignLayoutChanges(l,h,t.outputReducer);return}return te.collectLayoutChanges(l,h,t.outputReducer)}var Xe=ye.bind(null,!1);Xe.assign=ye.bind(null,!0);const qe=({networkData:s})=>{const l=d.createRef(),[t,u]=d.useState(null),[i,c]=d.useState(null),[h,g]=d.useState(null),n=()=>{const o=[],b=[],S=new Set,j=new Map,w=9e4,C=(a,x)=>{let p,r,y=0;const D=100;do{const m=Math.random()*2*Math.PI,_=Math.random()*500;if(p=500+_*Math.cos(m),r=500+_*Math.sin(m),y++,y>D){console.warn("Couldn't find a non-overlapping position after max attempts");break}}while(a.some(m=>A({x:p,y:r},m,x)));return{x:p,y:r}},A=(a,x,p)=>{const r=a.x-x.x,y=a.y-x.y;return Math.sqrt(r*r+y*y)<p};return s.forEach(({Source:a,entity1_id:x,Source_Ext:p,Target:r,entity2_id:y,Target_Ext:D})=>{if(!S.has(a)){const m=p==="Org"?re.org:p==="Person"&&re.person,{x:_,y:L}=C(o,w);o.push({key:a,attributes:{id:x,label:a,size:10,color:m,x:_,y:L}}),S.add(a),j.set(x,a)}j.has(x)&&j.has(y)&&b.push({key:`${x}-${y}`,source:j.get(x),target:j.get(y),attributes:{type:"arrow",size:1,color:"gray"}})}),{nodes:o,edges:b}},v=()=>{if(i){const o=i.getState().ratio/1.5;i.animate({ratio:o},{duration:200})}},f=()=>{if(i){const o=i.getState().ratio*1.5;i.animate({ratio:o},{duration:200})}},k=d.useMemo(n,[s]);return d.useEffect(()=>{const o=new De({directed:!0,multi:!0}),{nodes:b,edges:S}=k;b.forEach(r=>{o.addNode(r.key,r.attributes)}),S.forEach(r=>{o.addEdge(r.source,r.target,r.attributes)});const j=fe.inferSettings(o);fe.assign(o,{settings:j,iterations:50});const w=new Me(o,l.current,{allowInvalidContainer:!0}),C=w.getCamera();c(C),u(w),w.on("enterNode",r=>{g(r.node),A(r.node),a(r.node)}),w.on("leaveNode",()=>{g(null),x()});const A=r=>{const y=m=>m===r||o.neighbors(r).includes(m)?o.getNodeAttribute(m,"originalColor"):"#eee",D=m=>o.extremities(m).includes(r)?o.getEdgeAttribute(m,"originalColor"):"#eee";o.forEachNode(m=>{o.getNodeAttribute(m,"originalColor")||o.setNodeAttribute(m,"originalColor",o.getNodeAttribute(m,"color")),o.getNodeAttribute(m,"originalLabel")||o.setNodeAttribute(m,"originalLabel",o.getNodeAttribute(m,"label")),o.setNodeAttribute(m,"color",y(m)),o.setNodeAttribute(m,"label",m===r||o.neighbors(r).includes(m)?o.getNodeAttribute(m,"originalLabel"):"")}),o.forEachEdge(m=>{o.getEdgeAttribute(m,"originalColor")||o.setEdgeAttribute(m,"originalColor",o.getEdgeAttribute(m,"color")),o.setEdgeAttribute(m,"color",D(m))}),w.refresh()},a=r=>{t.getGraph().forEachNeighbor(r,y=>{t.getGraph().setNodeAttribute(y,"color","rgba(255, 215, 0, 0.7)")}),t.refresh()},x=()=>{o.forEachNode(r=>{o.setNodeAttribute(r,"color",o.getNodeAttribute(r,"originalColor"))}),o.forEachEdge(r=>{o.setEdgeAttribute(r,"color",o.getEdgeAttribute(r,"originalColor"))}),w.refresh()},p=b.length>50?.5:1;return C.animate({x:.5,y:.5,ratio:p},{duration:200}),()=>{w.kill()}},[k]),e.jsxs("div",{className:"relative w-full h-screen",children:[e.jsx("div",{ref:l,style:{height:"83vh",width:"100%"}}),e.jsxs("div",{className:"fixed bottom-4 right-4 flex flex-col gap-2 z-10",children:[e.jsx("button",{onClick:v,className:"btn bg-gray-900 text-gray-100 hover:bg-gray-800 dark:bg-gray-100 dark:text-gray-800 dark:hover:bg-white",children:e.jsx(_e,{})}),e.jsx("button",{onClick:f,className:"btn bg-gray-900 text-gray-100 hover:bg-gray-800 dark:bg-gray-100 dark:text-gray-800 dark:hover:bg-white",children:e.jsx(Le,{})})]})]})},Ze=({networkData:s})=>{const[l,t]=d.useState([]),[u,i]=d.useState([]),[c,h]=d.useState([]);d.useEffect(()=>{if(s.network){const n=new Set(c),v=(c==null?void 0:c.length)>0?s.network.filter(f=>n.has(f.entity1_id)||n.has(f.entity2_id)):s.network;t(v),i(s.orgFilters)}},[c,s]);const g=n=>e.jsx("div",{className:"w-5 h-5 rounded-full",style:{backgroundColor:n}});return e.jsx("div",{className:"flex h-[100dvh] overflow-hidden px-2",children:e.jsx("div",{className:"relative flex flex-col flex-1 overflow-y-hidden overflow-x-hidden",children:e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("h2",{className:"text-sm font-bold mb-2",children:"Categories"}),e.jsxs("div",{className:"flex text-center space-x-2",children:[e.jsx("h3",{className:"text-sm",children:" Org  "})," ",g(re.org),e.jsx("h3",{className:"text-sm",children:" Person  "})," ",g(re.person)]})]}),e.jsxs(ie,{container:!0,spacing:{xs:2,md:2},columns:{xs:4,sm:8,md:12},children:[e.jsx(ie,{item:!0,xs:2,sm:2,md:3,children:e.jsx("div",{className:"md:sticky md:top-16 md:h-[calc(100dvh-64px)] md:overflow-x-hidden md:overflow-y-auto no-scrollbar",children:e.jsx("div",{className:"",children:e.jsx("div",{className:"w-full max-w-sm",children:e.jsx(Re,{orgFilters:u,setSources:h})})})})}),e.jsx(ie,{item:!0,xs:6,sm:6,md:9,children:e.jsx("div",{className:"md:sticky md:top-16 md:h-[calc(100dvh-64px)] md:overflow-x-hidden md:overflow-y-auto no-scrollbar",children:e.jsx("div",{className:"",children:e.jsx(qe,{networkData:l})})})})]})]})})})},je=Ze;function He({loading:s,setCheckListRendered:l,selectedItems:t,data:u,total:i,reloadData:c}){var w,C,A;const[h,g]=d.useState(!1),[n,v]=d.useState([]),[f,k]=d.useState([]),[o,b]=d.useState(!1);d.useEffect(()=>{g(!1),v([])},[u]);const S=()=>{g(!h),v(u.map(a=>`${a._id}`)),h&&v([])},j=a=>{const{id:x,checked:p}=a.target;g(!1),v([...n,x]),p||v(n.filter(r=>r!==x))};return d.useEffect(()=>{t(n)},[n]),e.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow-xs rounded-xl relative",children:[e.jsx("header",{className:"px-5 py-4",children:e.jsxs("h2",{className:"font-semibold text-slate-700 dark:text-slate-100",children:["All Networks"," ",e.jsx("span",{className:"text-slate-400 dark:text-slate-500 font-medium",children:i})]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"table-auto w-full dark:text-gray-300",children:[e.jsx("thead",{className:"text-xs font-semibold uppercase text-slate-500 dark:text-slate-400 bg-slate-50 dark:bg-slate-900/20 border-t border-b border-slate-200 dark:border-slate-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-2 first:pl-5 last:pr-5 py-3 whitespace-nowrap w-px",children:e.jsx("div",{className:"flex items-center",children:e.jsxs("label",{className:"inline-flex",children:[e.jsx("span",{className:"sr-only",children:"Select all"}),e.jsx("input",{className:"w-4 h-4 text-violet-600 bg-gray-100 border-gray-300 rounded focus:ring-violet-500 dark:focus:ring-violet-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-slate-300",type:"checkbox",checked:h,onChange:S})]})})}),e.jsx("th",{className:"px-2 first:pl-5 last:pr-5 py-3 whitespace-nowrap",children:e.jsx("div",{className:"font-semibold text-left",children:"Project Name"})}),e.jsx("th",{className:"px-2 first:pl-5 last:pr-5 py-3 whitespace-nowrap",children:e.jsx("div",{className:"font-semibold text-left",children:" Nodes"})}),e.jsx("th",{className:"px-2 first:pl-5 last:pr-5 py-3 whitespace-nowrap",children:e.jsx("div",{className:"font-semibold text-left"})})]})}),e.jsx("tbody",{className:"text-sm divide-y divide-slate-200 dark:divide-slate-700",children:s?e.jsx("tr",{children:e.jsx("td",{colSpan:"100%",style:{textAlign:"center",padding:"22px"},children:e.jsx(we,{})})}):u.map(a=>{var x,p,r;return e.jsxs("tr",{children:[e.jsx("td",{className:"px-2 first:pl-5 last:pr-5 py-3 whitespace-nowrap w-px",children:e.jsx("div",{className:"flex items-center",children:e.jsx("label",{className:"inline-flex",children:e.jsx("input",{id:a==null?void 0:a._id,className:"w-4 h-4 text-violet-600 bg-gray-100 border-gray-300 rounded focus:ring-violet-500 dark:focus:ring-violet-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-slate-300",type:"checkbox",onChange:j,checked:n.includes(`${a==null?void 0:a._id}`)})})})}),e.jsx("td",{className:"px-2 first:pl-5 last:pr-5 py-3 whitespace-nowrap",children:e.jsx("div",{className:"text-left font-medium text-emerald-500 cursor-pointer",onClick:()=>{b(!0),k(a)},children:(x=a==null?void 0:a._source)==null?void 0:x.projectName})}),e.jsx("td",{className:"px-2 first:pl-5 last:pr-5 py-3 whitespace-nowrap",children:e.jsx("div",{className:"text-left font-medium text-emerald-500",children:(r=(p=a==null?void 0:a._source)==null?void 0:p.network)==null?void 0:r.length})}),e.jsx("td",{className:"px-2 first:pl-5 last:pr-5 py-3 whitespace-nowrap w-px",children:e.jsx(Te,{setCheckListRendered:l,data:a,reloadData:c,setLoadProjectModalOpen:b,setLoadProject:k})})]},a==null?void 0:a._id)})})]})}),e.jsx(ve,{id:"ProjectVisualization-1234",open:o,setOpen:b,isAction:!1,title:`${(w=f==null?void 0:f._source)==null?void 0:w.projectName}`,maxWidth:"xl",fullScreen:!0,children:e.jsx("div",{className:" w-full h-full",children:e.jsx(je,{networkData:{network:((C=f==null?void 0:f._source)==null?void 0:C.network)??null,orgFilters:((A=f==null?void 0:f._source)==null?void 0:A.orgFilter)??[]}})})})]})}function Ye({open:s,setOpen:l,loadData:t}){const[u,i]=d.useState(null),[c,h]=d.useState([]),[g,n]=d.useState(""),[v,f]=d.useState(!1),[k,o]=d.useState([]),b=()=>{i(null),h([]),l(!1),n(""),f(!1)},S=d.useCallback(async a=>{const x=a[0];i(x.name);const p=new FormData;p.append("file",x);const r=await se.post(`${ae.networkVis}/upload-excel`,p,{headers:{"Content-Type":"multipart/form-data"}});h(r.data.data.network),o(r.data.data.orgFilters)},[]),{getRootProps:j,getInputProps:w,isDragActive:C}=ze({onDrop:S,accept:".xlsx, .xls, .csv"}),A=async()=>{f(!0);try{const a={projectName:g,networkData:c},x=await se.post(`${ae.networkVis}/save`,a);x.status===200&&(W.success(x.data.message),f(!1),b(),t())}catch(a){console.log("error",a),W.error(a.response.data.message??"An error occurred while saving the project."),f(!1)}};return e.jsx(e.Fragment,{children:e.jsxs(ve,{id:"CreateNetworkModal",open:s,setOpen:l,isAction:!1,maxWidth:"xl",loading:v,title:"Create Network Project",fullScreen:!0,children:[c.length===0&&e.jsxs("div",{...j(),className:"border-2 border-dashed border-gray-300 rounded-xl p-6 text-center cursor-pointer bg-gray-100 hover:bg-gray-200",children:[e.jsx("input",{...w()}),C?e.jsx(le,{variant:"body1",children:"Drop the file here..."}):e.jsx(le,{variant:"body1",children:"Drag & drop an XLSX file here, or click to select one"}),u&&e.jsxs(le,{variant:"body2",children:["Uploaded: ",u]})]}),c.length>0&&e.jsxs("div",{className:"flex justify-center items-center mt-2 gap-2",children:[e.jsx("input",{id:"action-search",className:"form-input p-1 bg-white dark:bg-slate-800",type:"text",placeholder:"Project Name",value:g,onChange:a=>n(a.target.value)}),e.jsxs("button",{onClick:()=>{A()},className:"btn bg-gray-900 text-gray-100 hover:bg-gray-800 dark:bg-gray-100 dark:text-gray-800 dark:hover:bg-white disabled:border-gray-200 dark:disabled:border-gray-700 disabled:bg-white dark:disabled:bg-gray-800 disabled:text-gray-300 dark:disabled:text-gray-600 disabled:cursor-not-allowed",disabled:g=="",children:[v&&e.jsx("svg",{className:"animate-spin fill-current shrink-0",width:"16",height:"16",viewBox:"0 0 16 16",children:e.jsx("path",{d:"M8 16a7.928 7.928 0 01-3.428-.77l.857-1.807A6.006 6.006 0 0014 8c0-3.309-2.691-6-6-6a6.006 6.006 0 00-5.422 8.572l-1.806.859A7.929 7.929 0 010 8c0-4.411 3.589-8 8-8s8 3.589 8 8-3.589 8-8 8z"})}),"Save Project"]})]}),c.length>0&&e.jsx(je,{networkData:{network:c??null,orgFilters:k??[]}})]})})}function Nt(){const[s,l]=d.useState([]),[t,u]=d.useState([]),[i,c]=d.useState(!1),[h,g]=d.useState(""),[n,v]=d.useState(),[f,k]=d.useState(),[o,b]=d.useState(10),[S,j]=d.useState(1),[w,C]=d.useState(0),[A,a]=d.useState(0),[x,p]=d.useState(!1),r=Ne(),y=r==null?void 0:r.userPermissions,D="module_mediaCloud",m="submodule_mediaCloud_network_vis",_=d.useMemo(()=>ke(y,D,m),[y]),[L,I]=d.useState(!1),[E]=Fe(h,500);d.useEffect(()=>{requestAnimationFrame(()=>{document.querySelectorAll("[data-name]").forEach(z=>{const Z=z.getAttribute("data-name"),O=_.find(T=>T.id===Z);O&&(O.enable||z.remove())})})},[_,L]);const X=N=>{l([...N])};d.useEffect(()=>{const N=setTimeout(()=>{i||F()},100);return()=>clearTimeout(N)},[E,S,f,n]),d.useEffect(()=>{j(1)},[E]);const F=async()=>{c(!0);try{const N={pageSize:o,page:S,searchValue:E,from:f?new Date(f):void 0,to:n?new Date(n):void 0},P=await se.post(`${ae.networkVis}/all`,N);if(P.status===200){const z=P.data.total;a(Math.ceil(z/o)),C(P.data.total),u(P.data.data),l([])}c(!1)}catch(N){console.error(N),c(!1)}},q=async()=>{const N=await be(s);N&&N.message&&(l([]),W.success(N.message),setTimeout(()=>{F()},100))};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"p-6 p-space-y-6",children:[e.jsxs("div",{className:"sm:flex sm:justify-between sm:items-center mb-8",children:[e.jsx("div",{className:"mb-4 sm:mb-0",children:e.jsx("h1",{className:"text-2xl md:text-3xl text-slate-700 dark:text-slate-100 font-bold",children:"Network Visualization โจ"})}),e.jsxs("div",{className:"grid grid-flow-col sm:auto-cols-max justify-start sm:justify-end gap-1",children:[e.jsx(Ie,{selectedItems:s,handleDeleteItems:q}),e.jsxs("div",{className:"relative",children:[e.jsx("label",{htmlFor:"action-search",className:"sr-only",children:"Search"}),e.jsx("input",{id:"action-search",className:"form-input pl-9 bg-white dark:bg-slate-800",type:"search",placeholder:"Search...",value:h,onChange:N=>g(N.target.value)}),e.jsx("button",{className:"absolute inset-0 right-auto group",type:"submit","aria-label":"Search",children:e.jsxs("svg",{className:"w-4 h-4 shrink-0 fill-current text-slate-400 dark:text-slate-500 group-hover:text-slate-500 dark:group-hover:text-slate-400 ml-3 mr-2",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{d:"M7 14c-3.86 0-7-3.14-7-7s3.14-7 7-7 7 3.14 7 7-3.14 7-7 7zM7 2C4.243 2 2 4.243 2 7s2.243 5 5 5 5-2.243 5-5-2.243-5-5-5z"}),e.jsx("path",{d:"M15.707 14.293L13.314 11.9a8.019 8.019 0 01-1.414 1.414l2.393 2.393a.997.997 0 001.414 0 .999.999 0 000-1.414z"})]})})]}),e.jsx("button",{"data-name":"feature_mediaCloud_network_vis_createNetwork",className:"btn bg-gray-900 text-gray-100 hover:bg-gray-800 dark:bg-gray-100 dark:text-gray-800 dark:hover:bg-white",onClick:()=>{p(!0)},children:"Create Network Project"})]})]}),e.jsx(Ye,{open:x,setOpen:p,loadData:F}),e.jsx(He,{selectedItems:X,loading:i,data:t,total:w,reloadData:F,setCheckListRendered:I}),e.jsx("div",{className:"mt-8",children:e.jsx(Pe,{current:S,total:A,onPageChange:j})})]})})}export{Nt as default};
