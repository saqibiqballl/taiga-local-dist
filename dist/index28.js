import{r as o,az as re,ao as Ce,j as e,M as he,s as fe,J as Ue,B as je,u as et,K as tt}from"./index.js";import{W as ye}from"./connection2.js";import{r as Oe}from"./createSvgIcon2.js";import{R as qe}from"./index35.js";import{a as we}from"./apiBaseEndPoints.js";import{T as rt,a as at}from"./Tabs.js";import{b as st,D as nt,a as lt,c as it}from"./DialogTitle.js";import{G as ge}from"./Grid.js";import{t as _e}from"./toastr.js";import{w as Ae}from"./socket.js";import{T as ot,t as ct}from"./Tooltip.js";import{D as ee}from"./Divider.js";function ut(t,a,r){return a in t?Object.defineProperty(t,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[a]=r,t}function Re(t,a){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);a&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),r.push.apply(r,s)}return r}function De(t){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?Re(Object(r),!0).forEach(function(s){ut(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Re(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function dt(t,a){if(t==null)return{};var r={},s=Object.keys(t),l,c;for(c=0;c<s.length;c++)l=s[c],!(a.indexOf(l)>=0)&&(r[l]=t[l]);return r}function ht(t,a){if(t==null)return{};var r=dt(t,a),s,l;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(l=0;l<c.length;l++)s=c[l],!(a.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(r[s]=t[s])}return r}function ft(t,a){return pt(t)||gt(t,a)||mt(t,a)||xt()}function pt(t){if(Array.isArray(t))return t}function gt(t,a){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],s=!0,l=!1,c=void 0;try{for(var g=t[Symbol.iterator](),v;!(s=(v=g.next()).done)&&(r.push(v.value),!(a&&r.length===a));s=!0);}catch(k){l=!0,c=k}finally{try{!s&&g.return!=null&&g.return()}finally{if(l)throw c}}return r}}function mt(t,a){if(t){if(typeof t=="string")return Le(t,a);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Le(t,a)}}function Le(t,a){(a==null||a>t.length)&&(a=t.length);for(var r=0,s=new Array(a);r<a;r++)s[r]=t[r];return s}function xt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bt(t,a,r){return a in t?Object.defineProperty(t,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[a]=r,t}function $e(t,a){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);a&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),r.push.apply(r,s)}return r}function Ie(t){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?$e(Object(r),!0).forEach(function(s){bt(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$e(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function vt(){for(var t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return function(s){return a.reduceRight(function(l,c){return c(l)},s)}}function ae(t){return function a(){for(var r=this,s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];return l.length>=t.length?t.apply(this,l):function(){for(var g=arguments.length,v=new Array(g),k=0;k<g;k++)v[k]=arguments[k];return a.apply(r,[].concat(l,v))}}}function de(t){return{}.toString.call(t).includes("Object")}function jt(t){return!Object.keys(t).length}function ne(t){return typeof t=="function"}function yt(t,a){return Object.prototype.hasOwnProperty.call(t,a)}function wt(t,a){return de(a)||E("changeType"),Object.keys(a).some(function(r){return!yt(t,r)})&&E("changeField"),a}function St(t){ne(t)||E("selectorType")}function kt(t){ne(t)||de(t)||E("handlerType"),de(t)&&Object.values(t).some(function(a){return!ne(a)})&&E("handlersType")}function Nt(t){t||E("initialIsRequired"),de(t)||E("initialType"),jt(t)&&E("initialContent")}function Ct(t,a){throw new Error(t[a]||t.default)}var Ot={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},E=ae(Ct)(Ot),ce={changes:wt,selector:St,handler:kt,initial:Nt};function Pt(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};ce.initial(t),ce.handler(a);var r={current:t},s=ae(_t)(r,a),l=ae(zt)(r),c=ae(ce.changes)(t),g=ae(Mt)(r);function v(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(D){return D};return ce.selector(m),m(r.current)}function k(m){vt(s,l,c,g)(m)}return[v,k]}function Mt(t,a){return ne(a)?a(t.current):a}function zt(t,a){return t.current=Ie(Ie({},t.current),a),a}function _t(t,a,r){return ne(a)?a(t.current):Object.keys(r).forEach(function(s){var l;return(l=a[s])===null||l===void 0?void 0:l.call(a,t.current[s])}),r}var At={create:Pt},Rt={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.52.2/min/vs"}};function Dt(t){return function a(){for(var r=this,s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];return l.length>=t.length?t.apply(this,l):function(){for(var g=arguments.length,v=new Array(g),k=0;k<g;k++)v[k]=arguments[k];return a.apply(r,[].concat(l,v))}}}function Lt(t){return{}.toString.call(t).includes("Object")}function $t(t){return t||Ve("configIsRequired"),Lt(t)||Ve("configType"),t.urls?(It(),{paths:{vs:t.urls.monacoBase}}):t}function It(){console.warn(We.deprecation)}function Vt(t,a){throw new Error(t[a]||t.default)}var We={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},Ve=Dt(Vt)(We),Ft={config:$t},Ht=function(){for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return function(l){return r.reduceRight(function(c,g){return g(c)},l)}};function Ge(t,a){return Object.keys(a).forEach(function(r){a[r]instanceof Object&&t[r]&&Object.assign(a[r],Ge(t[r],a[r]))}),De(De({},t),a)}var Bt={type:"cancelation",msg:"operation is manually canceled"};function me(t){var a=!1,r=new Promise(function(s,l){t.then(function(c){return a?l(Bt):s(c)}),t.catch(l)});return r.cancel=function(){return a=!0},r}var Ut=At.create({config:Rt,isInitialized:!1,resolve:null,reject:null,monaco:null}),Je=ft(Ut,2),le=Je[0],pe=Je[1];function qt(t){var a=Ft.config(t),r=a.monaco,s=ht(a,["monaco"]);pe(function(l){return{config:Ge(l.config,s),monaco:r}})}function Wt(){var t=le(function(a){var r=a.monaco,s=a.isInitialized,l=a.resolve;return{monaco:r,isInitialized:s,resolve:l}});if(!t.isInitialized){if(pe({isInitialized:!0}),t.monaco)return t.resolve(t.monaco),me(xe);if(window.monaco&&window.monaco.editor)return Ke(window.monaco),t.resolve(window.monaco),me(xe);Ht(Gt,Kt)(Xt)}return me(xe)}function Gt(t){return document.body.appendChild(t)}function Jt(t){var a=document.createElement("script");return t&&(a.src=t),a}function Kt(t){var a=le(function(s){var l=s.config,c=s.reject;return{config:l,reject:c}}),r=Jt("".concat(a.config.paths.vs,"/loader.js"));return r.onload=function(){return t()},r.onerror=a.reject,r}function Xt(){var t=le(function(r){var s=r.config,l=r.resolve,c=r.reject;return{config:s,resolve:l,reject:c}}),a=window.require;a.config(t.config),a(["vs/editor/editor.main"],function(r){Ke(r),t.resolve(r)},function(r){t.reject(r)})}function Ke(t){le().monaco||pe({monaco:t})}function Qt(){return le(function(t){var a=t.monaco;return a})}var xe=new Promise(function(t,a){return pe({resolve:t,reject:a})}),Xe={config:qt,init:Wt,__getMonacoInstance:Qt},Yt={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},be=Yt,Zt={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},Et=Zt;function Tt({children:t}){return re.createElement("div",{style:Et.container},t)}var er=Tt,tr=er;function rr({width:t,height:a,isEditorReady:r,loading:s,_ref:l,className:c,wrapperProps:g}){return re.createElement("section",{style:{...be.wrapper,width:t,height:a},...g},!r&&re.createElement(tr,null,s),re.createElement("div",{ref:l,style:{...be.fullWidth,...!r&&be.hide},className:c}))}var ar=rr,Qe=o.memo(ar);function sr(t){o.useEffect(t,[])}var Ye=sr;function nr(t,a,r=!0){let s=o.useRef(!0);o.useEffect(s.current||!r?()=>{s.current=!1}:t,a)}var H=nr;function se(){}function te(t,a,r,s){return lr(t,s)||ir(t,a,r,s)}function lr(t,a){return t.editor.getModel(Ze(t,a))}function ir(t,a,r,s){return t.editor.createModel(a,r,s?Ze(t,s):void 0)}function Ze(t,a){return t.Uri.parse(a)}function or({original:t,modified:a,language:r,originalLanguage:s,modifiedLanguage:l,originalModelPath:c,modifiedModelPath:g,keepCurrentOriginalModel:v=!1,keepCurrentModifiedModel:k=!1,theme:m="light",loading:D="Loading...",options:O={},height:C="100%",width:L="100%",className:x,wrapperProps:B={},beforeMount:d=se,onMount:b=se}){let[p,z]=o.useState(!1),[i,u]=o.useState(!0),P=o.useRef(null),j=o.useRef(null),I=o.useRef(null),A=o.useRef(b),y=o.useRef(d),q=o.useRef(!1);Ye(()=>{let h=Xe.init();return h.then(w=>(j.current=w)&&u(!1)).catch(w=>(w==null?void 0:w.type)!=="cancelation"&&console.error("Monaco initialization: error:",w)),()=>P.current?J():h.cancel()}),H(()=>{if(P.current&&j.current){let h=P.current.getOriginalEditor(),w=te(j.current,t||"",s||r||"text",c||"");w!==h.getModel()&&h.setModel(w)}},[c],p),H(()=>{if(P.current&&j.current){let h=P.current.getModifiedEditor(),w=te(j.current,a||"",l||r||"text",g||"");w!==h.getModel()&&h.setModel(w)}},[g],p),H(()=>{let h=P.current.getModifiedEditor();h.getOption(j.current.editor.EditorOption.readOnly)?h.setValue(a||""):a!==h.getValue()&&(h.executeEdits("",[{range:h.getModel().getFullModelRange(),text:a||"",forceMoveMarkers:!0}]),h.pushUndoStop())},[a],p),H(()=>{var h,w;(w=(h=P.current)==null?void 0:h.getModel())==null||w.original.setValue(t||"")},[t],p),H(()=>{let{original:h,modified:w}=P.current.getModel();j.current.editor.setModelLanguage(h,s||r||"text"),j.current.editor.setModelLanguage(w,l||r||"text")},[r,s,l],p),H(()=>{var h;(h=j.current)==null||h.editor.setTheme(m)},[m],p),H(()=>{var h;(h=P.current)==null||h.updateOptions(O)},[O],p);let X=o.useCallback(()=>{var V;if(!j.current)return;y.current(j.current);let h=te(j.current,t||"",s||r||"text",c||""),w=te(j.current,a||"",l||r||"text",g||"");(V=P.current)==null||V.setModel({original:h,modified:w})},[r,a,l,t,s,c,g]),Q=o.useCallback(()=>{var h;!q.current&&I.current&&(P.current=j.current.editor.createDiffEditor(I.current,{automaticLayout:!0,...O}),X(),(h=j.current)==null||h.editor.setTheme(m),z(!0),q.current=!0)},[O,m,X]);o.useEffect(()=>{p&&A.current(P.current,j.current)},[p]),o.useEffect(()=>{!i&&!p&&Q()},[i,p,Q]);function J(){var w,V,W,K;let h=(w=P.current)==null?void 0:w.getModel();v||((V=h==null?void 0:h.original)==null||V.dispose()),k||((W=h==null?void 0:h.modified)==null||W.dispose()),(K=P.current)==null||K.dispose()}return re.createElement(Qe,{width:L,height:C,isEditorReady:p,loading:D,_ref:I,className:x,wrapperProps:B})}var cr=or;o.memo(cr);function ur(t){let a=o.useRef();return o.useEffect(()=>{a.current=t},[t]),a.current}var dr=ur,ue=new Map;function hr({defaultValue:t,defaultLanguage:a,defaultPath:r,value:s,language:l,path:c,theme:g="light",line:v,loading:k="Loading...",options:m={},overrideServices:D={},saveViewState:O=!0,keepCurrentModel:C=!1,width:L="100%",height:x="100%",className:B,wrapperProps:d={},beforeMount:b=se,onMount:p=se,onChange:z,onValidate:i=se}){let[u,P]=o.useState(!1),[j,I]=o.useState(!0),A=o.useRef(null),y=o.useRef(null),q=o.useRef(null),X=o.useRef(p),Q=o.useRef(b),J=o.useRef(),h=o.useRef(s),w=dr(c),V=o.useRef(!1),W=o.useRef(!1);Ye(()=>{let f=Xe.init();return f.then(S=>(A.current=S)&&I(!1)).catch(S=>(S==null?void 0:S.type)!=="cancelation"&&console.error("Monaco initialization: error:",S)),()=>y.current?_():f.cancel()}),H(()=>{var S,$,M,R;let f=te(A.current,t||s||"",a||l||"",c||r||"");f!==((S=y.current)==null?void 0:S.getModel())&&(O&&ue.set(w,($=y.current)==null?void 0:$.saveViewState()),(M=y.current)==null||M.setModel(f),O&&((R=y.current)==null||R.restoreViewState(ue.get(c))))},[c],u),H(()=>{var f;(f=y.current)==null||f.updateOptions(m)},[m],u),H(()=>{!y.current||s===void 0||(y.current.getOption(A.current.editor.EditorOption.readOnly)?y.current.setValue(s):s!==y.current.getValue()&&(W.current=!0,y.current.executeEdits("",[{range:y.current.getModel().getFullModelRange(),text:s,forceMoveMarkers:!0}]),y.current.pushUndoStop(),W.current=!1))},[s],u),H(()=>{var S,$;let f=(S=y.current)==null?void 0:S.getModel();f&&l&&(($=A.current)==null||$.editor.setModelLanguage(f,l))},[l],u),H(()=>{var f;v!==void 0&&((f=y.current)==null||f.revealLine(v))},[v],u),H(()=>{var f;(f=A.current)==null||f.editor.setTheme(g)},[g],u);let K=o.useCallback(()=>{var f;if(!(!q.current||!A.current)&&!V.current){Q.current(A.current);let S=c||r,$=te(A.current,s||t||"",a||l||"",S||"");y.current=(f=A.current)==null?void 0:f.editor.create(q.current,{model:$,automaticLayout:!0,...m},D),O&&y.current.restoreViewState(ue.get(S)),A.current.editor.setTheme(g),v!==void 0&&y.current.revealLine(v),P(!0),V.current=!0}},[t,a,r,s,l,c,m,D,O,g,v]);o.useEffect(()=>{u&&X.current(y.current,A.current)},[u]),o.useEffect(()=>{!j&&!u&&K()},[j,u,K]),h.current=s,o.useEffect(()=>{var f,S;u&&z&&((f=J.current)==null||f.dispose(),J.current=(S=y.current)==null?void 0:S.onDidChangeModelContent($=>{W.current||z(y.current.getValue(),$)}))},[u,z]),o.useEffect(()=>{if(u){let f=A.current.editor.onDidChangeMarkers(S=>{var M;let $=(M=y.current.getModel())==null?void 0:M.uri;if($&&S.find(R=>R.path===$.path)){let R=A.current.editor.getModelMarkers({resource:$});i==null||i(R)}});return()=>{f==null||f.dispose()}}return()=>{}},[u,i]);function _(){var f,S;(f=J.current)==null||f.dispose(),C?O&&ue.set(c,y.current.saveViewState()):(S=y.current.getModel())==null||S.dispose(),y.current.dispose()}return re.createElement(Qe,{width:L,height:x,isEditorReady:u,loading:k,_ref:q,className:B,wrapperProps:d})}var fr=hr,pr=o.memo(fr),Fe=pr,Pe={},gr=Ce;Object.defineProperty(Pe,"__esModule",{value:!0});var U=Pe.default=void 0,mr=gr(Oe()),xr=e;U=Pe.default=(0,mr.default)((0,xr.jsx)("path",{d:"M12 7c.55 0 1 .45 1 1v4c0 .55-.45 1-1 1s-1-.45-1-1V8c0-.55.45-1 1-1m-.01-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8m1-3h-2v-2h2z"}),"ErrorOutlineRounded");function br({dataToEdit:t,data:a,loading:r,searchValue:s,setSearchValue:l,currentPage:c,setCurrentPage:g,totalPages:v,setSelected:k}){const{choosedSources:m}=he(d=>d.webShotBuzz.cronJobReducer),[D,O]=o.useState(!1),[C,L]=o.useState([]);o.useEffect(()=>{m&&Array.isArray(m)&&m.length>0&&(typeof m[0]=="object"&&!Array.isArray(m[0])&&m[0]!==null?L(m):L(a.filter(d=>m.includes(d._id))))},[m]),o.useEffect(()=>{O(!1)},[a]);const x=()=>{const d=a.map(p=>p._id);let b=[...C];D?b=b.filter(p=>!d.includes(p._id)):a.forEach(p=>{b.some(z=>z._id===p._id)||b.push(p)}),L(b),k(b),O(!D)},B=d=>{const{id:b,checked:p}=d.target,z=a.find(i=>i._id===b);O(!1),L(p?[...C,z]:C.filter(i=>i._id!==b)),k(p?[...C,z]:C.filter(i=>i._id!==b))};return e.jsxs("div",{children:[e.jsx("div",{className:"sm:flex sm:justify-between sm:items-center mb-2",children:e.jsx("input",{className:"form-input",placeholder:"Search...",value:s,onChange:d=>l(d.target.value)})}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 shadow-lg rounded-xl border border-slate-200 dark:border-slate-700",children:[e.jsx("header",{className:"px-5 py-4",children:e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("h2",{className:"font-semibold text-slate-700 dark:text-slate-100",children:["All Sources ",e.jsx("span",{className:"text-slate-400 dark:text-slate-500 font-medium",children:a.length})]}),e.jsx("h2",{className:"font-semibold text-slate-700 dark:text-slate-100",children:e.jsxs("span",{className:"text-slate-400 dark:text-slate-500 font-medium",children:[C.length," selected"]})})]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"table-auto w-full dark:text-gray-300",children:[e.jsx("thead",{className:"text-xs font-semibold uppercase text-slate-500 dark:text-slate-400 bg-slate-50 dark:bg-slate-900/20 border-t border-b border-slate-200 dark:border-slate-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-2 first:pl-5 last:pr-5 py-3 whitespace-nowrap w-px",children:e.jsx("input",{type:"checkbox",checked:D,onChange:x,className:"w-4 h-4 text-violet-600 bg-gray-100 border-gray-300 rounded focus:ring-violet-500 dark:focus:ring-violet-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-slate-300"})}),e.jsx("th",{className:"px-2 first:pl-5 last:pr-5 py-3 whitespace-nowrap",children:e.jsx("div",{className:"font-semibold text-left",children:"Label"})}),e.jsx("th",{className:"px-2 first:pl-5 last:pr-5 py-3 whitespace-nowrap",children:e.jsx("div",{className:"font-semibold text-left",children:"Domain"})}),e.jsx("th",{className:"px-2 first:pl-5 last:pr-5 py-3 whitespace-nowrap",children:e.jsx("div",{className:"font-semibold text-left",children:"Website Type"})})]})}),e.jsx("tbody",{className:"text-sm divide-y divide-slate-200 dark:divide-slate-700",children:a.map(d=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-2 first:pl-5 last:pr-5 py-3 whitespace-nowrap w-px",children:e.jsx("input",{type:"checkbox",id:d._id,onChange:B,checked:C.some(b=>b._id===d._id),className:"w-4 h-4 text-violet-600 bg-gray-100 border-gray-300 rounded focus:ring-violet-500 dark:focus:ring-violet-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-slate-300"})}),e.jsx("td",{className:"px-2 first:pl-5 last:pr-5 py-3 whitespace-nowrap",children:e.jsx("div",{className:"text-left",children:d.label})}),e.jsx("td",{className:"px-2 first:pl-5 last:pr-5 py-3 whitespace-nowrap",children:e.jsx("div",{className:"text-left",children:d.domain_name})}),e.jsx("td",{className:"px-2 first:pl-5 last:pr-5 py-3 whitespace-nowrap",children:e.jsx("div",{className:"text-left text-sky-500",children:Array.isArray(d==null?void 0:d.website_type)?d.website_type.join(", "):""})})]},d._id))})]})})]}),e.jsx("div",{className:"mt-8",children:e.jsx(qe,{current:c,total:v,onPageChange:g})})]})}function vr({dataToEdit:t,data:a,loading:r,searchValue:s,setSearchValue:l,currentPage:c,setCurrentPage:g,totalPages:v,setSelected:k}){const{choosedCollections:m}=he(d=>d.webShotBuzz.cronJobReducer),[D,O]=o.useState(!1),[C,L]=o.useState([]);o.useEffect(()=>{console.log("choosedCollections changed:",m),m&&Array.isArray(m)&&m.length>0&&(typeof m[0]=="object"&&!Array.isArray(m[0])&&m[0]!==null?(console.log("Setting isCheck to choosedCollections"),L(m)):(console.log("Filtering data based on choosedCollections"),L(a.filter(d=>m.includes(d._id)))))},[m,a]),o.useEffect(()=>{O(!1)},[a]);const x=()=>{const d=a.map(p=>p._id);let b=[...C];D?b=b.filter(p=>!d.includes(p._id)):a.forEach(p=>{b.some(z=>z._id===p._id)||b.push(p)}),L(b),k(b),O(!D)},B=d=>{const{id:b,checked:p}=d.target,z=a.find(i=>i._id===b);O(!1),k(p?[...C,z]:C.filter(i=>i._id!==b)),L(p?[...C,z]:C.filter(i=>i._id!==b))};return e.jsxs("div",{children:[e.jsx("div",{className:"sm:flex sm:justify-between sm:items-center mb-2",children:e.jsx("input",{className:"form-input",placeholder:"Search...",value:s,onChange:d=>l(d.target.value)})}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 shadow-lg rounded-xl border border-slate-200 dark:border-slate-700",children:[e.jsx("header",{className:"px-5 py-4",children:e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("h2",{className:"font-semibold text-slate-700 dark:text-slate-100",children:["All Collections ",e.jsx("span",{className:"text-slate-400 dark:text-slate-500 font-medium",children:a.length})]}),e.jsx("h2",{className:"font-semibold text-slate-700 dark:text-slate-100",children:e.jsxs("span",{className:"text-slate-400 dark:text-slate-500 font-medium",children:[C.length," selected"]})})]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"table-auto w-full dark:text-gray-300",children:[e.jsx("thead",{className:"text-xs font-semibold uppercase text-slate-500 dark:text-slate-400 bg-slate-50 dark:bg-slate-900/20 border-t border-b border-slate-200 dark:border-slate-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-2 first:pl-5 last:pr-5 py-3 whitespace-nowrap w-px",children:e.jsx("input",{type:"checkbox",checked:D,onChange:x,className:"w-4 h-4 text-violet-600 bg-gray-100 border-gray-300 rounded focus:ring-violet-500 dark:focus:ring-violet-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-slate-300"})}),e.jsx("th",{className:"px-2 first:pl-5 last:pr-5 py-3 whitespace-nowrap",children:e.jsx("div",{className:"font-semibold text-left",children:"Name"})}),e.jsx("th",{className:"px-2 first:pl-5 last:pr-5 py-3 whitespace-nowrap",children:e.jsx("div",{className:"font-semibold text-left",children:"Description"})}),e.jsx("th",{className:"px-2 first:pl-5 last:pr-5 py-3 whitespace-nowrap",children:e.jsx("div",{className:"font-semibold text-left",children:"Number of Sources"})})]})}),e.jsx("tbody",{className:"text-sm divide-y divide-slate-200 dark:divide-slate-700",children:a.map(d=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-2 first:pl-5 last:pr-5 py-3 whitespace-nowrap w-px",children:e.jsx("input",{type:"checkbox",id:d._id,onChange:B,checked:C.some(b=>b._id===d._id),className:"w-4 h-4 text-violet-600 bg-gray-100 border-gray-300 rounded focus:ring-violet-500 dark:focus:ring-violet-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-slate-300"})}),e.jsx("td",{className:"px-2 first:pl-5 last:pr-5 py-3 whitespace-nowrap",children:e.jsx("div",{className:"text-left",children:d.name})}),e.jsx("td",{className:"px-2 first:pl-5 last:pr-5 py-3 whitespace-nowrap",children:e.jsx("div",{className:"text-left",children:d.description})}),e.jsx("td",{className:"px-2 first:pl-5 last:pr-5 py-3 whitespace-nowrap",children:e.jsx("div",{className:"text-left",children:d.sourceCount})})]},d._id))})]})})]}),e.jsx("div",{className:"mt-8",children:e.jsx(qe,{current:c,total:v,onPageChange:g})})]})}const Se=t=>({type:"sources/setSources",payload:t}),ke=t=>({type:"collections/setCollections",payload:t}),Wr=()=>({type:"/resetSCStates"}),jr=fe(t=>e.jsx(rt,{...t,TabIndicatorProps:{children:e.jsx("span",{className:"MuiTabs-indicatorSpan"})}}))({"& .MuiTabs-indicator":{display:"flex",justifyContent:"center",backgroundColor:"transparent"},"& .MuiTabs-indicatorSpan":{width:"100%",backgroundColor:"#6366f1"}}),He=fe(t=>e.jsx(at,{disableRipple:!0,...t}))(({theme:t})=>({fontWeight:t.typography.fontWeightRegular,fontSize:t.typography.pxToRem(15),marginRight:t.spacing(1),color:"#64748b",textTransform:"uppercase",alignItems:"flex-end","&.Mui-selected":{color:"#6366f1"}})),yr=fe(st)({"&::-webkit-scrollbar":{width:"8px"},"&::-webkit-scrollbar-thumb":{backgroundColor:"rgba(0, 0, 0, 0.2)",borderRadius:"4px"},"&::-webkit-scrollbar-thumb:hover":{backgroundColor:"rgba(0, 0, 0, 0.3)"}});function Be(t){const{children:a,value:r,index:s,...l}=t;return e.jsx("div",{role:"tabpanel",hidden:r!==s,id:`simple-tabpanel-${s}`,"aria-labelledby":`simple-tab-${s}`,...l,children:r===s&&e.jsx(je,{sx:{p:3},children:e.jsx(e.Fragment,{children:a})})})}function wr({loading:t,setParams:a,dataToEdit:r}){const s=Ue(),[l,c]=o.useState(!1),{choosedSources:g,choosedCollections:v}=he(_=>_.webShotBuzz.cronJobReducer),[k,m]=o.useState([]),[D,O]=o.useState(!1),[C,L]=o.useState(""),[x,B]=o.useState(1),[d,b]=o.useState(0),[p,z]=o.useState([]),[i,u]=o.useState(!1),[P,j]=o.useState(""),[I,A]=o.useState(1),[y,q]=o.useState(0),X=async()=>{O(!0);try{const _={pageSize:5,page:x,searchValue:C},f=await ye.post(`${we.sources}/getAdvancedSources`,_);f.status===200&&(b(Math.ceil(f.data.total/5)),m(f.data.source))}catch(_){console.error(_)}finally{O(!1)}},Q=async()=>{u(!0);try{const _={pageSize:5,page:I,searchValue:P},f=await ye.post(`${we.collection}/getAdvancedCollections`,_);f.status===200&&(q(Math.ceil(f.data.total/5)),z(f.data.collections))}catch(_){console.error(_)}finally{u(!1)}};o.useEffect(()=>{X()},[C,x]),o.useEffect(()=>{Q()},[P,I]);const J=async()=>{const _=g==null?void 0:g.flatMap(M=>{var R;return(R=M.screenshot_urls)==null?void 0:R.map(Z=>({source_id:M._id,url:Z}))}),f=v==null?void 0:v.flatMap(M=>{var R;return(R=M.sources)==null?void 0:R.flatMap(Z=>{var Y;return(Y=Z.screenshot_urls)==null?void 0:Y.map(ie=>({collection_id:M._id,source_id:Z._id,url:ie}))})}),S=[..._||[],...f||[]];return[...new Map(S.map(M=>[M.url,M])).values()].forEach(M=>{a(R=>R.urls.some(Y=>(Y==null?void 0:Y.url)===(M==null?void 0:M.url))?R:{...R,urls:[...R.urls,M]})}),!0},h=()=>c(!0),w=()=>{J(),c(!1)},[V,W]=o.useState(0),K=(_,f)=>{W(f)};return e.jsxs(je,{"data-name":"feature_webshotBuzz_takeShot_selectSource",className:"mb-2 dark:bg-gray-800 overflow-auto dark:text-slate-300",children:[e.jsxs(je,{className:"grid grid-flow-col sm:auto-cols-max justify-start sm:justify-end gap-2",children:[e.jsxs("span",{className:"py-2",children:[g.length," Sources"]}),e.jsxs("span",{className:"py-2",children:[v.length," Collections"]}),e.jsxs("button",{className:"btn bg-gray-900 text-gray-100 hover:bg-gray-800 dark:bg-gray-100 dark:text-gray-800 dark:hover:bg-white",onClick:h,disabled:t,children:[e.jsx("svg",{className:"w-4 h-4 fill-current opacity-50 shrink-0",viewBox:"0 0 16 16",children:e.jsx("path",{d:"M15 7H9V1c0-.6-.4-1-1-1S7 .4 7 1v6H1c-.6 0-1 .4-1 1s.4 1 1 1h6v6c0 .6.4 1 1 1s1-.4 1-1V9h6c.6 0 1-.4 1-1s-.4-1-1-1z"})}),e.jsx("span",{className:"hidden xs:block ml-2",children:"Select Sources"})]})]}),e.jsx(nt,{fullWidth:!0,open:l,onClose:w,maxWidth:"lg",sx:{"& .MuiDialog-paper":{borderRadius:"10px"}},children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 overflow-auto dark:text-slate-300",children:[e.jsx(lt,{className:"sticky top-0 px-5 py-4 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700/60 z-10",children:e.jsx("h3",{className:"text-xl md:text-xl text-slate-700 dark:text-slate-100 font-bold",children:"Select Sources"})}),e.jsx(yr,{children:e.jsxs(ge,{container:!0,className:"mt-5",children:[e.jsx(ge,{item:!0,sm:3,children:e.jsxs(jr,{orientation:"vertical",value:V,onChange:K,children:[e.jsx(He,{label:"Collections"}),e.jsx(He,{label:"Sources"})]})}),e.jsxs(ge,{item:!0,sm:9,children:[e.jsx(Be,{value:V,index:0,children:e.jsx(vr,{dataToEdit:r,data:p,loading:i,searchValue:P,setSearchValue:j,currentPage:I,setCurrentPage:A,totalPages:y,selected:v,setSelected:_=>s(ke(_))})}),e.jsx(Be,{value:V,index:1,children:e.jsx(br,{dataToEdit:r,data:k,loading:D,searchValue:C,setSearchValue:L,currentPage:x,setCurrentPage:B,totalPages:d,selected:g,setSelected:_=>s(Se(_))})})]})]})}),e.jsxs(it,{className:"sticky bottom-0 px-5 py-4 bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700/60 z-10",children:[e.jsx("button",{className:"btn bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700/60 hover:border-gray-300 dark:hover:border-gray-600 text-gray-800 dark:text-gray-300",onClick:w,children:e.jsx("span",{className:"hidden xs:block",children:"Cancel"})}),e.jsx("button",{className:"btn bg-gray-900 text-gray-100 hover:bg-gray-800 dark:bg-gray-100 dark:text-gray-800 dark:hover:bg-white",onClick:w,children:e.jsx("span",{className:"hidden xs:block",children:"Select"})})]})]})})]})}var Me={},Sr=Ce;Object.defineProperty(Me,"__esModule",{value:!0});var Ne=Me.default=void 0,kr=Sr(Oe()),Nr=e;Ne=Me.default=(0,kr.default)((0,Nr.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m0 16H5v-4.58l.99.99 4-4 4 4 4-3.99L19 12.43zm0-9.41-1.01-1.01-4 4.01-4-4-4 4-.99-1V5h14z"}),"BrokenImageOutlined");var ze={},Cr=Ce;Object.defineProperty(ze,"__esModule",{value:!0});var Ee=ze.default=void 0,Or=Cr(Oe()),Pr=e;Ee=ze.default=(0,Or.default)((0,Pr.jsx)("path",{d:"M20 2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m0 14H8V4h12zM4 6H2v14c0 1.1.9 2 2 2h14v-2H4zm12 6V9c0-.55-.45-1-1-1h-2v5h2c.55 0 1-.45 1-1m-2-3h1v3h-1zm4 2h1v-1h-1V9h1V8h-2v5h1zm-8 0h1c.55 0 1-.45 1-1V9c0-.55-.45-1-1-1H9v5h1zm0-2h1v1h-1z"}),"PictureAsPdfOutlined");const Mr=({loading:t,screenshotUrls:a})=>{const r=async l=>{},s=a&&a.length>0;return e.jsx("div",{className:"h-full max-h-64 overflow-y-auto bg-violet-900 text-green-500 font-mono p-4 border-4 border-violet-200 rounded-xl",children:e.jsx("div",{className:"space-y-2",children:s?e.jsxs(e.Fragment,{children:[a.slice(-10).map((l,c)=>e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("div",{children:e.jsx("span",{className:(l==null?void 0:l.success)===!0?"text-green-400":"text-red-400",children:(l==null?void 0:l.success)===!0?`${l==null?void 0:l.filename} ➜ Captured ${l.timestamp}`:`${l==null?void 0:l.url} ➜ Failed ${l.timestamp}`})}),(l==null?void 0:l.success)!==!0&&e.jsx("button",{onClick:()=>r(l==null?void 0:l.filename),className:"text-red-500 hover:text-red-700 ml-2","aria-label":"Delete URL",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"size-6",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"})})})]},c)),t&&e.jsx("span",{className:"text-green-400",children:"Screenshots Capturing is in process....."})]}):e.jsx("span",{className:"text-green-400",children:"No Screenshots Captured"})})})},ve=[{label:"Desktop",resolutions:[{label:"QVGA",value:"320x240"},{label:"VGA",value:"640x480"},{label:"SVGA",value:"800x600"},{label:"HD",value:"1280x720"},{label:"SXGA",value:"1280x1024"},{label:"HD+",value:"1600x900"},{label:"FHD",value:"1920x1080"},{label:"2K",value:"2048x1080"},{label:"4K UHD",value:"3840x2160"}]},{label:"Android Devices",resolutions:[{label:"Galaxy S7/S7edge/S6",value:"320x240"},{label:"Galaxy S8/S8+/Note8/S9",value:"360x740"},{label:"Galaxy S10",value:"360x760"},{label:"Google Pixel, Pixel 2",value:"411x731"},{label:"Google Glass",value:"427x240"},{label:"Kindle Fire",value:"800x1280"}]},{label:"iOS Devices",resolutions:[{label:"iPhone X, XS",value:"375x812"},{label:"iPhone 6+, 6s+, 7+, 8+",value:"414x736"},{label:"iPhone XR, iPhone XS Max",value:"414x896"},{label:"iPad 3, 4, Air, Air2, Pro 9.7",value:"768x1024"},{label:"iPad Pro 12.9",value:"1024x1366"}]}],G=fe(({className:t,...a})=>e.jsx(ot,{...a,classes:{popper:t}}))(({theme:t})=>({[`& .${ct.tooltip}`]:{backgroundColor:"hsl(153deg, 53%, 53%)",color:"#fff",boxShadow:t.shadows[1],fontSize:11}})),zr=({setCaptureOptions:t,fromCronJob:a=!1,dataToEdit:r})=>{var q,X,Q,J,h,w,V,W,K,_,f,S,$,M,R,Z,Y,ie;const s=Ue();he(n=>n.webShotBuzz.cronJobReducer);const[l,c]=o.useState([]);o.useEffect(()=>(Ae.on("screenShotsLogs",n=>{c(N=>[...N,n])}),()=>{Ae.off("screenShotsLogs"),s(Se([])),s(ke([]))}),[]);const g=et(),v=g==null?void 0:g.userPermissions,k="module_webshotBuzz",m="submodule_webshotBuzz_takeShot",D=o.useMemo(()=>tt(v,k,m),[v]),[O,C]=o.useState(!1);o.useEffect(()=>{requestAnimationFrame(()=>{document.querySelectorAll("[data-name]").forEach(F=>{const T=F.getAttribute("data-name"),oe=D.find(Te=>Te.id===T);oe&&(oe.enable||F.remove())})})},[D,O]);const[L]=o.useState([{id:1,value:"multiple-imgs",label:"Image",icon:e.jsx(Ne,{})},{id:2,value:"pdf",label:"PDF",icon:e.jsx(Ee,{})}]),[x,B]=o.useState({id:1,value:"multiple-imgs",label:"Image",icon:e.jsx(Ne,{})}),[d,b]=o.useState(!1),[p,z]=(X=(q=ve[0])==null?void 0:q.resolutions[0])==null?void 0:X.value.split("x").map(Number),[i,u]=o.useState({size:((Q=r==null?void 0:r.captureOptions)==null?void 0:Q.size)??((h=(J=ve[0])==null?void 0:J.resolutions[0])==null?void 0:h.value),fullPage:((w=r==null?void 0:r.captureOptions)==null?void 0:w.fullPage)??!0,darkMode:((V=r==null?void 0:r.captureOptions)==null?void 0:V.darkMode)??!1,format:((W=r==null?void 0:r.captureOptions)==null?void 0:W.format)??"png",delay:((K=r==null?void 0:r.captureOptions)==null?void 0:K.delay)??1,width:((_=r==null?void 0:r.captureOptions)==null?void 0:_.width)??p,height:((f=r==null?void 0:r.captureOptions)==null?void 0:f.height)??z,scale:((S=r==null?void 0:r.captureOptions)==null?void 0:S.scale)??100,pdf:{format:(($=r==null?void 0:r.captureOptions)==null?void 0:$.pdf.format)??"resolution",landscape:((M=r==null?void 0:r.captureOptions)==null?void 0:M.pdf.landscape)??!1},script:((R=r==null?void 0:r.captureOptions)==null?void 0:R.script)??"",style:((Z=r==null?void 0:r.captureOptions)==null?void 0:Z.style)??"",urls:((Y=r==null?void 0:r.captureOptions)==null?void 0:Y.urls)??[]}),[P]=o.useState(["png","jpeg","webp"]),[j]=o.useState(["resolution","A4","A3","A2","A1","A0","Letter","Legal"]);o.useEffect(()=>{x.value==="multiple-imgs"?u(n=>({...n,format:P[0]})):x.value==="pdf"&&u(n=>({...n,format:j[0],pdf:{...n.pdf,format:j[0]}}))},[x]);const[I,A]=o.useState(!1);o.useEffect(()=>{i&&t&&x&&x.id&&t({typeId:x.id,...i})},[i,x,t]),o.useEffect(()=>{r&&B(L.find(n=>{var N;return n.id===((N=r==null?void 0:r.captureOptions)==null?void 0:N.typeId)}))},[r]);const y=async()=>{if(!I){A(!0);const n=x.value==="multiple-imgs"?`image/${i.format}`:"application/pdf";try{(await ye.post(`${we.takeShot}/screenshot`,{...i,scale:i.scale/100,size:`${i.width}x${i.height}`,type:x.value,mimeType:n})).data.success&&(u(F=>({...F,urls:[]})),s(Se([])),s(ke([])),_e.success("Screenshot generated successfully"))}catch(N){_e.error(N.response.data.error),console.error(N)}finally{A(!1)}}};return o.useEffect(()=>{if(x.id===2&&i.pdf.format==="resolution"){const[n,N]=i==null?void 0:i.size.split("x").map(Number);let F=n,T=N;!i.pdf.landscape&&n>N&&(F=N,T=n),i.pdf.landscape&&N>n&&(F=N,T=n),u(oe=>({...oe,height:T,width:F}))}},[(ie=i==null?void 0:i.pdf)==null?void 0:ie.landscape,x.id,i==null?void 0:i.size]),e.jsx(e.Fragment,{children:e.jsx("div",{className:"p-6 p-space-y-6",children:e.jsxs("section",{className:"",children:[e.jsx(wr,{loading:I,setParams:u,dataToEdit:r}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow-xs rounded-xl relative p-2",children:[e.jsx("div",{className:"flex items-center justify-center my-4 space-x-10",children:L.map(n=>e.jsxs("div",{className:`flex flex-col items-center justify-center w-32 h-32 text-center bg-white dark:bg-gray-800 cursor-pointer rounded-2xl hover:bg-gray-300 ${x.value===n.value?"border-violet-200 border-dashed border-2":""}`,onClick:()=>{B(n),n.value==="multiple-imgs"&&u({...i,pdf:{...i.pdf,landscape:!1},size:`${p}x${z}`,height:z,width:p})},children:[e.jsx("span",{className:"text-xl font-bold",children:n.value==="multiple-imgs"?"Image":"PDF"}),n.icon]},n.value))}),e.jsxs("div",{className:"flex",children:[e.jsxs("div",{className:"w-1/3",children:[e.jsx("div",{className:"mb-2",children:e.jsxs("div",{className:"p-2",children:[e.jsx("label",{className:"label",children:"Resolutions:"}),e.jsxs(G,{title:" Resolution in which the screenshot will be taken in. [width x height] format.",children:[e.jsx(U,{style:{fontSize:"15px",marginLeft:"5px",color:"lightgreen"}}),"    "]}),e.jsx("select",{className:"w-full p-2 border rounded mt-2 bg-white border-slate-200 dark:bg-gray-800",value:i.size,disabled:x.value==="pdf"&&j.some(n=>n!=="resolution"&&i.format.includes(n)),onChange:n=>{const[N,F]=n.target.value.split("x").map(Number);x.value==="pdf"&&!i.pdf.landscape?u({...i,size:n.target.value,height:N,width:F}):u({...i,size:n.target.value,height:F,width:N})},children:ve.map((n,N)=>e.jsx("optgroup",{label:n.label,children:n.resolutions.map((F,T)=>e.jsxs("option",{value:F.value,children:[F.value," (",F.label,")"]},T))},N))})]})}),e.jsx(ee,{orientation:"horizontal"}),e.jsx("div",{className:"mb-2",children:e.jsxs("label",{className:"inline-flex items-center cursor-pointer p-4 ",children:[e.jsx("input",{type:"checkbox",checked:i.fullPage,onChange:n=>u({...i,fullPage:n.target.checked}),className:"sr-only peer"}),e.jsx("div",{className:"relative w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-violet-300 dark:peer-focus:ring-violet-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-slate-300 peer-checked:bg-violet-500"}),e.jsx("span",{className:"ms-3 text-sm font-medium text-slate-900 dark:text-slate-300",children:"FullSize"}),e.jsx(G,{title:"Unchecked: Crop the screenshot to the viewport size  Checked: Takes screenshot of the entire page",children:e.jsx(U,{style:{fontSize:"15px",marginLeft:"5px",color:"lightgreen"}})})]})}),e.jsx(ee,{orientation:"horizontal"}),e.jsx("div",{className:"mb-2",children:e.jsxs("div",{className:"p-2",children:[e.jsx("label",{className:"label mt-1",children:"Delay in seconds:"})," ",e.jsx(G,{title:"Delay capturing the screenshot. Useful when the site does things after load that you want to capture.",children:e.jsx(U,{style:{fontSize:"15px",marginLeft:"5px",color:"lightgreen"}})}),e.jsx("input",{type:"number",className:"w-full p-2 border border-slate-200 rounded mt-2 bg-white dark:bg-gray-800",min:"1",max:"15",value:i.delay,onChange:n=>u({...i,delay:Number(n.target.value)})})]})})]}),e.jsxs("div",{className:"w-1/3 border-r-2 border-l-2 border-slate-200",children:[e.jsx("div",{className:"mb-2",children:e.jsxs("div",{className:"p-2",children:[e.jsx("label",{className:"label",children:"Width:"}),e.jsx(G,{title:"Width of the screenshot in pixels.",children:e.jsx(U,{style:{fontSize:"15px",marginLeft:"5px",color:"lightgreen"}})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"range",className:`w-full h-2 rounded-xl ${x.value==="pdf"&&j.some(n=>n!=="resolution"&&i.format.includes(n))?"":"bg-gray-200 appearance-none cursor-pointer dark:bg-gray-700"}`,min:"240",max:"8000",disabled:x.value==="pdf"&&j.some(n=>n!=="resolution"&&i.format.includes(n)),value:i.width,onChange:n=>{u({...i,size:`${Number(n.target.value)}x${i.height}`,width:Number(n.target.value)})}}),e.jsx("input",{type:"number",className:"w-20 p-2 border rounded border-slate-200 mt-2 bg-white dark:bg-gray-800",disabled:x.value==="pdf"&&j.some(n=>n!=="resolution"&&i.format.includes(n)),value:i.width,onChange:n=>{u({...i,size:`${Number(n.target.value)}x${i.height}`,width:Number(n.target.value)})}})]})]})}),e.jsx(ee,{orientation:"horizontal"}),e.jsx("div",{className:"mb-2",children:e.jsxs("label",{className:"inline-flex items-center cursor-pointer p-4",children:[e.jsx("input",{type:"checkbox",checked:i.darkMode,onChange:n=>u({...i,darkMode:n.target.checked}),className:"sr-only peer"}),e.jsx("div",{className:"relative w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-violet-300 dark:peer-focus:ring-violet-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-slate-300 peer-checked:bg-violet-500"}),e.jsx("span",{className:"ms-3 text-sm font-medium text-slate-900 dark:text-slate-300",children:"Dark Mode"}),e.jsx(G,{title:"Unchecked: Light mode Checked: Dark mode",children:e.jsx(U,{style:{fontSize:"15px",marginLeft:"5px",color:"lightgreen"}})})]})}),e.jsx(ee,{orientation:"horizontal"}),e.jsx("div",{className:"mb-2",children:e.jsxs("div",{className:"p-2",children:[e.jsx("label",{className:"label",children:"Scale:"}),e.jsx(G,{title:"Scale of the screenshot. [10% - 100%] (default: 100%).",children:e.jsx(U,{style:{fontSize:"15px",marginLeft:"5px",color:"lightgreen"}})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"range",className:"w-full h-2 bg-gray-200 rounded-xl appearance-none cursor-pointer dark:bg-gray-700",min:"10",max:"100",value:i.scale,onChange:n=>u({...i,scale:Number(n.target.value)})}),e.jsx("input",{type:"number",className:"w-20 p-2 border border-slate-200 rounded mt-2 bg-white dark:bg-gray-800",value:i.scale,onChange:n=>u({...i,scale:Number(n.target.value)})})]})]})})]}),e.jsxs("div",{className:"w-1/3",children:[e.jsx("div",{className:"mb-2",children:e.jsxs("div",{className:"p-2",children:[e.jsx("label",{className:"label",children:"Height:"}),e.jsx(G,{title:"Height of the screenshot in pixels.",children:e.jsx(U,{style:{fontSize:"15px",marginLeft:"5px",color:"lightgreen"}})}),e.jsxs("div",{className:"flex items-center justify-center space-x-2 ",children:[e.jsx("input",{type:"range",className:`w-full h-2 rounded-xl ${x.value==="pdf"&&j.some(n=>n!=="resolution"&&i.format.includes(n))?"":"bg-gray-200 appearance-none cursor-pointer dark:bg-gray-700"}`,min:"240",max:"8000",disabled:x.value==="pdf"&&j.some(n=>n!=="resolution"&&i.format.includes(n)),value:i.height,onChange:n=>{u({...i,size:`${i.width}x${Number(n.target.value)}`}),u({...i,height:Number(n.target.value)})}}),e.jsx("input",{type:"number",className:"w-20 p-2 border border-slate-200 rounded mt-2 bg-white dark:bg-gray-800",disabled:x.value==="pdf"&&j.some(n=>n!=="resolution"&&i.format.includes(n)),value:i.height,onChange:n=>{u({...i,size:`${i.width}x${Number(n.target.value)}`}),u({...i,height:Number(n.target.value)})}})]})]})}),x.value==="pdf"&&e.jsxs(e.Fragment,{children:[e.jsx(ee,{orientation:"horizontal"}),e.jsx("div",{className:"mb-2",children:e.jsxs("label",{className:"inline-flex items-center cursor-pointer p-4",children:[e.jsx("input",{type:"checkbox",checked:i.pdf.landscape,onChange:n=>u({...i,pdf:{...i.pdf,landscape:n.target.checked}}),className:"sr-only peer"}),e.jsx("div",{className:"relative w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-violet-300 dark:peer-focus:ring-violet-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-slate-300 peer-checked:bg-violet-500"}),e.jsxs("span",{className:"ms-3 text-sm font-medium text-slate-900 dark:text-slate-300",children:["Pdf Orientation (",i.pdf.landscape?"Landscape":"Portrait",")"]}),e.jsx(G,{title:"Unchecked: Portrait Checked: Landscape",children:e.jsx(U,{style:{fontSize:"15px",marginLeft:"5px",color:"lightgreen"}})})]})})]}),e.jsx(ee,{orientation:"horizontal"}),e.jsx("div",{className:"mb-2",children:e.jsxs("div",{className:"p-2",children:[e.jsxs("label",{className:"label mt-4",children:[x.label," Format:"]}),e.jsx(G,{title:"Paper Format in which the pdf will be genrated based on. select Resolution for [width x height] format.",children:e.jsx(U,{style:{fontSize:"15px",marginLeft:"5px",color:"lightgreen"}})}),e.jsx("select",{className:"w-full p-2 border rounded mt-2 bg-white border-slate-200 dark:bg-gray-800",value:i.format,onChange:n=>{n.target.value!=="resolution"&&u({...i,pdf:{...i.pdf,landscape:!1}}),x.value==="multiple-imgs"?u(N=>({...N,format:n.target.value})):x.value==="pdf"&&u(N=>({...N,format:n.target.value,pdf:{...N.pdf,format:n.target.value}}))},children:x.value==="multiple-imgs"?P.map(n=>e.jsx("option",{value:n,children:n.toUpperCase()},n)):j.map(n=>e.jsx("option",{value:n,children:n.toUpperCase()},n))})]})})]})]}),d&&e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"w-1/2",children:e.jsxs("div",{className:"p-4",children:[e.jsx("label",{children:"Script:"}),e.jsx(G,{title:"Loads the script in the browser before taking screenshot of the page content, (Note: if the script doesnt do anything, add some delay)",children:e.jsx(U,{style:{fontSize:"15px",marginLeft:"5px",color:"lightgreen"}})}),e.jsx(Fe,{height:"50vh",defaultLanguage:"javascript",value:i.script,theme:"vs-dark",onChange:n=>u({...i,script:n})})]})}),e.jsx("div",{className:"w-1/2",children:e.jsxs("div",{className:"p-4",children:[e.jsx("label",{className:"",children:"Style:"}),e.jsx(G,{title:"Loads the style in the browser before taking screenshot of the page content, (Note: if the style doesnt do anything, add some delay)",children:e.jsx(U,{style:{fontSize:"15px",marginLeft:"5px",color:"lightgreen"}})}),e.jsx(Fe,{height:"50vh",defaultLanguage:"css",value:i.style,theme:"vs-dark",onChange:n=>u({...i,style:n})})]})})]}),!a&&e.jsxs("div",{className:"flex items-center justify-end m-4 space-x-4",children:[e.jsx("button",{"data-name":"feature_webshotBuzz_takeShot_addScriptsStyles",disabled:I,onClick:()=>b(!d),className:"btn bg-gray-900 text-gray-100 hover:bg-gray-800 dark:bg-gray-100 dark:text-gray-800 dark:hover:bg-white",children:"Add Scripts/Styles"}),e.jsxs("button",{"data-name":"feature_webshotBuzz_takeShot_captureScreenshots",onClick:y,className:"btn bg-gray-900 text-gray-100 hover:bg-gray-800 dark:bg-gray-100 dark:text-gray-800 dark:hover:bg-white disabled:border-gray-200 dark:disabled:border-gray-700 disabled:bg-white dark:disabled:bg-gray-800 disabled:text-gray-300 dark:disabled:text-gray-600 disabled:cursor-not-allowed",disabled:I,children:[I&&e.jsx("svg",{className:"animate-spin fill-current shrink-0",width:"16",height:"16",viewBox:"0 0 16 16",children:e.jsx("path",{d:"M8 16a7.928 7.928 0 01-3.428-.77l.857-1.807A6.006 6.006 0 0014 8c0-3.309-2.691-6-6-6a6.006 6.006 0 00-5.422 8.572l-1.806.859A7.929 7.929 0 010 8c0-4.411 3.589-8 8-8s8 3.589 8 8-3.589 8-8 8z"})}),"Capture Screenshot"]})]}),e.jsx("div",{className:"h-full overflow-y-auto bg-violetGray-900 text-green-500 font-mono p-4",children:e.jsx(Mr,{loading:I,screenshotUrls:l})})]})]})})})},_r=o.memo(zr),Gr=Object.freeze(Object.defineProperty({__proto__:null,default:_r},Symbol.toStringTag,{value:"Module"}));export{_r as T,ke as a,Gr as i,Wr as r,Se as s};
