import{g as _,f as D,s as P,r as x,l as $,m as k,_ as b,j as e,o as M,p as N,W as U,X as S,Y as F,c as O,Z as E,B as i,T as s}from"./index.js";import{M as L}from"./Paper.js";import{G as l}from"./Grid.js";import"./useTheme.js";function B(o){return _("MuiCard",o)}D("MuiCard",["root"]);const I=["className","raised"],T=o=>{const{classes:t}=o;return N({root:["root"]},B,t)},G=P(L,{name:"MuiCard",slot:"Root",overridesResolver:(o,t)=>t.root})(()=>({overflow:"hidden"})),J=x.forwardRef(function(t,a){const n=$({props:t,name:"MuiCard"}),{className:d,raised:h=!1}=n,u=k(n,I),p=b({},n,{raised:h}),g=T(p);return e.jsx(G,b({className:M(g.root,d),elevation:h?8:void 0,ref:a,ownerState:p},u))}),y=J,z=async o=>{const t=localStorage.getItem("RSS_Fetcher"),a=JSON.parse(t);try{if(a)var n=await U.get(`${S.collection}/getOneCollection/${o}`);else var n=await F.get(`${S.collection}/getOneCollection/${o}`);return n.data}catch(d){return console.log(d),null}};function q(){var j;const o=O(),[t,a]=x.useState((j=o.state)==null?void 0:j.data),[n,d]=x.useState([]),[h,u]=x.useState(!0),[p,g]=x.useState(!0),{id:C}=E(),v=async()=>{try{const r=await z(C);a(r.collection),d(r.matchedSources)}catch{alert("something went wrong :(")}finally{u(!1)}};x.useEffect(()=>{const r=localStorage.getItem("RSS_Fetcher"),c=JSON.parse(r);g(c),t==null||c?v():u(!1)},[]);function w(){var r,c;return e.jsxs(y,{sx:{margin:"4%",border:1,borderRadius:6,borderColor:"white",boxShadow:10},children:[e.jsxs(i,{sx:{},children:[e.jsx(i,{sx:{backgroundColor:"#1e293b",py:"1%",display:"flex",justifyContent:"center"},children:e.jsx(s,{variant:"h5",sx:{textAlign:"center",fontWeight:"bold",color:"white"},children:t==null?void 0:t.name})}),e.jsxs(i,{sx:{ml:"3%",mt:"2%",display:"flex",flexDirection:"row",mb:"2%"},children:[e.jsx(s,{variant:"p",sx:{color:"#000",textAlign:"left",fontWeight:"bold"},children:"Description :"}),e.jsx(s,{variant:"p",sx:{color:"#000",textAlign:"left",ml:"1%"},children:t==null?void 0:t.description})]})]}),e.jsx(s,{variant:"p",sx:{color:"#000",textAlign:"left",fontWeight:"bold",ml:"3%"},children:"Total Sources :"}),e.jsx(s,{variant:"p",sx:{color:"#000",ml:"1%"},children:(r=t==null?void 0:t.sources)==null?void 0:r.length}),e.jsxs(i,{sx:{display:"flex",flexDirection:"column",mx:"auto",my:2,ml:"3%"},children:[e.jsx(i,{sx:{width:"100%"},children:e.jsx(s,{variant:"h6",sx:{color:"#000",fontWeight:"bold"},children:"Sources :"})}),e.jsx(l,{container:!0,sx:{mb:2},children:(c=t==null?void 0:t.sources)==null?void 0:c.map((m,W)=>{const f=m.source_id.split("-")[0],A=f.startsWith("http://")||f.startsWith("https://")?f:`http://${f}`;return e.jsx(l,{item:!0,lg:4,md:4,children:e.jsx(s,{variant:"p",component:"a",href:A,target:"_blank",rel:"noopener noreferrer",sx:{color:"#000",textDecoration:"underline",cursor:"pointer"},children:m.source_id},W)})})})]})]})}function R(){return e.jsxs(y,{sx:{margin:"4%",border:1,borderRadius:6,borderColor:"white",boxShadow:10},children:[e.jsxs(i,{sx:{},children:[e.jsx(i,{sx:{backgroundColor:"#1e293b",py:"1%",display:"flex",justifyContent:"center"},children:e.jsx(s,{variant:"h5",sx:{textAlign:"center",fontWeight:"bold",color:"white"},children:t==null?void 0:t.name})}),e.jsxs(i,{sx:{ml:"3%",mt:"2%",display:"flex",flexDirection:"row",mb:"2%"},children:[e.jsx(s,{variant:"p",sx:{color:"#000",textAlign:"left",fontWeight:"bold"},children:"Description :"}),e.jsx(s,{variant:"p",sx:{color:"#000",textAlign:"left",ml:"1%"},children:t==null?void 0:t.description})]})]}),e.jsx(i,{sx:{display:"flex",flexDirection:"column",mx:"auto",my:2,ml:"3%"},children:e.jsxs(l,{container:!0,sx:{mb:2},children:[e.jsx(l,{sx:{border:1},item:!0,lg:4,md:4,children:e.jsx(s,{variant:"h6",sx:{color:"#000",fontWeight:"bold",textAlign:"center",pt:1.5,pb:1.5},children:"Sources"})}),e.jsx(l,{sx:{border:1,pt:1.5,pb:1.5},item:!0,lg:4,md:4,children:e.jsx(s,{variant:"h6",sx:{color:"#000",fontWeight:"bold",textAlign:"center"},children:"Post Per Week"})}),e.jsx(l,{item:!0,lg:4,md:4}),n==null?void 0:n.map((r,c)=>{const m=r.source.startsWith("http://")||r.source.startsWith("https://")?r.source:`http://${r.source}`;return e.jsxs(e.Fragment,{children:[e.jsx(l,{sx:{border:1,pt:1.5,pb:1.5},item:!0,lg:4,md:4,children:e.jsx(s,{variant:"p",component:"a",href:m,target:"_blank",rel:"noopener noreferrer",sx:{color:"#000",textDecoration:"underline",cursor:"pointer",textAlign:"center",ml:"5%"},children:r.source},c)}),e.jsx(l,{sx:{border:1,pt:1.5,pb:1.5},item:!0,lg:4,md:4,children:e.jsx(s,{sx:{textAlign:"center"},children:r.postsPerWeek})}),e.jsx(l,{item:!0,lg:4,md:4})]})})]})})]})}return h?e.jsx("h1",{children:"Loading...."}):e.jsx(i,{children:p?e.jsx(R,{}):e.jsx(w,{})})}export{q as default};
