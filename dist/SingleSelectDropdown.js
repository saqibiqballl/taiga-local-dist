import{r as o,j as t,aB as g}from"./index.js";function k({options:u=[],selectedValue:r,onSelect:a,labelNValue:i,className:v="",buttonClassName:m="",dropdownClassName:h="",label:w="Select an option",clearable:d=!0}){var p;const[s,n]=o.useState(!1),f=o.useRef(null),c=o.useRef(null);o.useEffect(()=>{const e=({target:l})=>{c.current&&(!s||c.current.contains(l)||f.current.contains(l)||n(!1))};return document.addEventListener("click",e),()=>document.removeEventListener("click",e)},[s]),o.useEffect(()=>{const e=({keyCode:l})=>{!s||l!==27||n(!1)};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[s]);const b=r?(p=u.find(e=>e.value===r))==null?void 0:p.label:w,j=e=>{e.preventDefault(),e.stopPropagation(),a(null),n(!1)};return t.jsxs("div",{className:`relative inline-flex w-full ${v}`,children:[t.jsxs("button",{ref:f,className:`w-full form-select btn justify-between bg-white border-slate-200 hover:border-slate-300 text-slate-500 hover:text-slate-600 ${m}`,"aria-haspopup":"true",onClick:e=>{e.preventDefault(),e.stopPropagation(),n(!s)},"aria-expanded":s,children:[t.jsx("span",{className:"flex items-center overflow-hidden",children:t.jsx("span",{className:"truncate",children:b})}),d&&r&&t.jsx("span",{className:"ml-2 shrink-0 text-slate-400 hover:text-slate-500",onClick:j,children:"Ã—"})]}),t.jsx(g,{show:s,tag:"div",className:`z-10 absolute top-full left-0 w-full bg-white border border-slate-200 py-1.5 rounded shadow-lg overflow-hidden mt-1 ${h}`,enter:"transition ease-out duration-100 transform",enterStart:"opacity-0 -translate-y-2",enterEnd:"opacity-100 translate-y-0",leave:"transition ease-out duration-100",leaveStart:"opacity-100",leaveEnd:"opacity-0",children:t.jsxs("div",{ref:c,className:"font-medium text-sm text-slate-600",onFocus:()=>n(!0),onBlur:()=>n(!1),children:[d&&r&&t.jsx("button",{tabIndex:"0",className:"flex items-center w-full hover:bg-slate-50 py-1 px-3 cursor-pointer text-slate-400 hover:text-slate-600",onClick:e=>{e.preventDefault(),e.stopPropagation(),a(null),n(!1)},children:t.jsx("span",{className:"truncate",children:"Clear selection"})}),u.map((e,l)=>t.jsxs("button",{tabIndex:"0",className:`flex items-center w-full hover:bg-slate-50 py-1 px-3 cursor-pointer ${e.value===r&&"text-violet-500"}`,onClick:x=>{x.preventDefault(),x.stopPropagation(),a(i?e:e.value),n(!1)},children:[t.jsx("svg",{className:`shrink-0 mr-2 fill-current text-violet-500 ${e.value!==r&&"invisible"}`,width:"12",height:"9",viewBox:"0 0 12 9",children:t.jsx("path",{d:"M10.28.28L3.989 6.575 1.695 4.28A1 1 0 00.28 5.695l3 3a1 1 0 001.414 0l7-7A1 1 0 0010.28.28z"})}),t.jsx("span",{className:"truncate",children:e.label})]},l))]})})]})}export{k as S};
