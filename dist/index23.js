import{r as a,Q as E,j as e,V as f,aH as z,u as K,O as p,Z,c as H,K as Q,d as Y,C as P}from"./index.js";import{e as G,c as J,g as W,F as X,S as ee}from"./index42.js";import"./index46.js";import{R as te}from"./index35.js";import{S as se}from"./secureFetch.js";import{t as ae}from"./toastr.js";import{c as re,I as oe}from"./index44.js";import{D as le}from"./DropdownEditMenu.js";import"./index45.js";import"./Datepicker.js";import"./popover.js";import"./floating-ui.dom.js";import"./tslib.es6.js";import"./dayjs.min.js";import"./Grid.js";import"./useTheme.js";import"./listbox.js";import"./render.js";import"./Check.js";import"./createSvgIcon2.js";import"./createSvgIcon.js";import"./resolveComponentProps.js";import"./open-closed.js";import"./MuiDialog.js";import"./DialogTitle.js";import"./Backdrop.js";import"./Modal.js";import"./useSlotProps.js";import"./Paper.js";import"./chartjs-adapter-moment.esm.js";import"./moment.js";import"./marker-shadow.js";import"./leaflet-src.js";import"./index37.js";import"./ZoomIn.js";import"./MultiSelectDropdown.js";import"./transition.js";import"./use-flags.js";import"./index34.js";import"./index39.js";import"./Chip.js";import"./IconButton.js";import"./Menu.js";import"./Grow.js";const ne=({page:o,children:i,hasContent:_,isLastPage:m,changePage:v,category:s})=>(a.useRef(null),E(),_?e.jsx(e.Fragment,{children:i}):e.jsx("div",{className:"col-span-full text-center place-items-center bg-slate-100",id:"NoResults",children:e.jsx("p",{className:"font-medium text-lg",children:"No results found."})}));({...re,...oe});function ie(o){return e.jsx("div",{className:"col-span-full sm:col-span-6 xl:col-span-3 bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700",children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"grow p-5",children:[e.jsx("div",{className:"relative",children:e.jsxs(le,{align:"right",className:"absolute top-0 right-0 inline-flex",children:[e.jsx("li",{children:e.jsx(f,{className:"font-medium text-sm text-slate-600 dark:text-slate-300 hover:text-slate-700 dark:hover:text-slate-200 flex py-1 px-3",to:"#0",children:"Option 1"})}),e.jsx("li",{children:e.jsx(f,{className:"font-medium text-sm text-slate-600 dark:text-slate-300 hover:text-slate-700 dark:hover:text-slate-200 flex py-1 px-3",to:"#0",children:"Option 2"})}),e.jsx("li",{children:e.jsx(f,{className:"font-medium text-sm text-rose-500 hover:text-rose-600 flex py-1 px-3",to:"#0",children:"Remove"})})]})}),e.jsxs("header",{children:[e.jsx("div",{className:"flex justify-center mb-2",children:e.jsxs(f,{className:"relative inline-flex items-start",to:o.link,children:[e.jsx("div",{className:"absolute top-0 right-0 -mr-2 bg-white dark:bg-slate-700 rounded-full shadow","aria-hidden":"true",children:e.jsx("svg",{className:"w-8 h-8 fill-current text-amber-500",viewBox:"0 0 32 32",children:e.jsx("path",{d:"M21 14.077a.75.75 0 01-.75-.75 1.5 1.5 0 00-1.5-1.5.75.75 0 110-1.5 1.5 1.5 0 001.5-1.5.75.75 0 111.5 0 1.5 1.5 0 001.5 1.5.75.75 0 010 1.5 1.5 1.5 0 00-1.5 1.5.75.75 0 01-.75.75zM14 24.077a1 1 0 01-1-1 4 4 0 00-4-4 1 1 0 110-2 4 4 0 004-4 1 1 0 012 0 4 4 0 004 4 1 1 0 010 2 4 4 0 00-4 4 1 1 0 01-1 1z"})})}),e.jsx("img",{className:"rounded-full",src:o.image,width:"64",height:"64",alt:o.name})]})}),e.jsx("div",{className:"text-center",children:e.jsx(f,{className:"inline-flex text-slate-700 dark:text-slate-100 hover:text-slate-900 dark:hover:text-slate-300",to:o.link,children:e.jsx("h2",{className:"text-xl leading-snug justify-center font-semibold",children:o.name})})}),e.jsxs("div",{className:"flex justify-center items-center",children:[e.jsx("span",{className:"text-sm font-medium text-slate-400 -mt-0.5 mr-1",children:"->"})," ",e.jsx("span",{children:o.location})]})]}),e.jsx("div",{className:"text-center mt-2",children:e.jsx("div",{className:"text-sm",children:o.content})})]}),e.jsx("div",{className:"border-t border-slate-200 dark:border-slate-700",children:e.jsx(f,{className:"block text-center text-sm text-violet-500 hover:text-violet-600 dark:hover:text-violet-400 font-medium px-3 py-4",to:o.link,children:e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-4 h-4 fill-current shrink-0 mr-2",viewBox:"0 0 16 16",children:e.jsx("path",{fill:"currentColor",d:"M136.37 187.53a12 12 0 0 1 0 17l-5.94 5.94a60 60 0 0 1-84.88-84.88l24.12-24.11A60 60 0 0 1 152 99a12 12 0 1 1-16 18a36 36 0 0 0-49.37 1.47l-24.1 24.08a36 36 0 0 0 50.92 50.92l5.94-5.94a12 12 0 0 1 16.98 0m74.08-142a60.09 60.09 0 0 0-84.88 0l-5.94 5.94a12 12 0 0 0 17 17l5.94-5.94a36 36 0 0 1 50.92 50.92l-24.11 24.12A36 36 0 0 1 120 139a12 12 0 1 0-16 18a60 60 0 0 0 82.3-2.43l24.12-24.11a60.09 60.09 0 0 0 .03-84.91Z"})}),e.jsx("span",{children:"Open Link"})]})})})]})})}function et(){const{trackPageView:o}=E(),i=z(),_=K(),m=p(t=>t.socialRadar.posts);p(t=>t.socialRadar.allPosts);const v=p(t=>t.socialRadar.filters),s=p(t=>t.socialRadar.fetchSettings);p(t=>t.socialRadar.filters.fetchSetting);const k=p(t=>t.socialRadar.tags.activetags);p(t=>t.socialRadar.tags.alltags);const[ce,T]=a.useState(m>0),[h,j]=a.useState(0);a.useState([]);const[R,L]=a.useState(0),{settingId:g}=Z(),B={engagementNormed:"Most engagement",recent:"Most recent",mostuserfollow:"Most User Followers",mostuserlikes:"Most User likes"},[b,w]=a.useState(10),N=Math.ceil(R/b),[D,y]=a.useState(!1);H();const I=_==null?void 0:_.userPermissions,A="module_socialRadar",C="submodule_socialRadar_resources_view",$=a.useMemo(()=>Q(I,A,C),[I]),[U,O]=a.useState(!1);a.useEffect(()=>{requestAnimationFrame(()=>{document.querySelectorAll("[data-name]").forEach(c=>{const r=c.getAttribute("data-name"),n=$.find(d=>d.id===r);n&&(n.enable||c.remove())})})},[$,U]),a.useEffect(()=>{h===N-1?y(!0):y(!1)},[h]),a.useEffect(()=>(o(),G().then(t=>{i({type:"alltags/set",payload:t})}).catch(t=>console.log(t)),i({type:"userstatus/set",payload:"Not Verified"}),()=>{J().forEach(l=>i(l))}),[]),a.useEffect(()=>{g&&se.post(`${Y}/api/fetch/getfetchsettingsbyid`,{id:g}).then(t=>{t!=null&&t.selectData?(localStorage.setItem("fetchsettingid",g),i({type:"fetchsettings/set",payload:{...t.selectData[0]}}),i({type:"fetchsetting/update",payload:{id:`${g}`}}),O(!0)):ae.error("There is no post available on these settings")}).catch(t=>{console.log(t)})},[g]),a.useEffect(()=>{V(h,v,k)},[v,h,k,g,b]);function V(t,l,c){W(t,l,c,b).then(r=>{const{posts:n,isLastPage:d,totalPosts:x,allPosts:u}=r;L(x),y(d),i({type:"posts/set",payload:[...n]}),i({type:"allposts/set",payload:[...u]})}).catch(r=>console.log(r))}function q(t){page+t>0&&!D&&setPage(page+t)}return a.useState(!1),s!=null&&s.name?e.jsx("div",{className:"flex h-[100dvh] overflow-hidden",children:e.jsx("div",{className:"relative flex flex-col flex-1 overflow-y-auto overflow-x-hidden",children:e.jsx(e.Fragment,{children:e.jsxs("div",{className:"px-4 sm:px-6 lg:px-8 py-8 w-full max-w-9xl mx-auto",children:[e.jsxs("div",{className:"grid grid-cols-2 w-full",children:[e.jsx("div",{className:"grid place-content-start mb-5",children:e.jsx("h1",{className:"text-2xl md:text-3xl text-slate-700 dark:text-slate-100 font-bold",children:`${s==null?void 0:s.name}✨`})}),e.jsx("div",{className:"grid place-content-end mb-5",children:e.jsxs("p",{className:"w-30 p-3 rounded-xl text-xl md:text-xl text-right bg-slate-400 text-slate-700 dark:text-slate-100 font-bold",children:["Total Users Counts ✨ ",R]})})]}),e.jsxs("div",{className:"flex flex-col space-y-10 sm:flex-row sm:space-x-6 sm:space-y-0 md:flex-col md:space-x-0 md:space-y-10 xl:flex-row xl:space-x-6 xl:space-y-0 mt-9",children:[e.jsx("div",{className:"bg-white w-68 dark:bg-slate-800 shadow-lg rounded-xl border border-slate-200 dark:border-slate-700 p-5 max-w-sm",children:s?e.jsx(X,{subModuleId:C,showDate:!0,showPlatforms:!0,type:"users",topics:s!=null&&s.name?[...s==null?void 0:s.topics]:null,showList:["MeiliSearch",`${s==null?void 0:s.name} Topics`,"Keywords"],setLoading:T}):e.jsx(P,{})}),e.jsxs("div",{children:[e.jsx("div",{"data-name":"feature_socialRadar_resources_view_sortFilters",className:"mb-5",children:e.jsx(ee,{SORT_BY:B})}),e.jsxs("div",{className:"text-sm text-slate-500 dark:text-slate-400 italic mb-4",children:[m==null?void 0:m.length," Items"]}),e.jsx("div",{className:"grid place-content-end mb-4 w-full",children:e.jsxs("div",{className:"flex gap-4 ",children:[e.jsx("div",{className:"mr-2 p-3",children:e.jsx("p",{children:"Items Per Page:"})}),e.jsx("div",{children:e.jsx("button",{onClick:t=>{t.preventDefault(),w(10),j(0)},className:"bg-white rounded-xl p-3",children:"10"})}),e.jsx("div",{children:e.jsx("button",{onClick:t=>{t.preventDefault(),w(20),j(0)},className:"bg-white rounded-xl p-3",children:"20"})}),e.jsx("div",{children:e.jsx("button",{onClick:t=>{t.preventDefault(),w(30),j(0)},className:"bg-white rounded-xl p-3 ",children:"30"})})]})}),e.jsx("div",{className:"grid grid-cols-12 gap-6",children:s?e.jsx(ne,{page:h,hasContent:m.length>0,isLastPage:N,category:"Monitoring Page",changePage:t=>q(t),children:m.filter((t,l,c)=>l===c.findIndex(r=>{var n,d,x,u;return((d=(n=r==null?void 0:r.raw)==null?void 0:n.user)==null?void 0:d.username)===((u=(x=t==null?void 0:t.raw)==null?void 0:x.user)==null?void 0:u.username)})).map(t=>{var l,c,r,n,d,x,u,F,S,M;return e.jsx(ie,{id:t._id,name:(c=(l=t==null?void 0:t.raw)==null?void 0:l.user)==null?void 0:c.username,image:((n=(r=t==null?void 0:t.raw)==null?void 0:r.user)==null?void 0:n.profile_image_url)||"",link:`https://twitter.com/${(x=(d=t==null?void 0:t.raw)==null?void 0:d.user)==null?void 0:x.username}`,location:((F=(u=t==null?void 0:t.raw)==null?void 0:u.user)==null?void 0:F.location)||"Null",content:((M=(S=t==null?void 0:t.raw)==null?void 0:S.user)==null?void 0:M.description)||"No desciption present for this user"},t._id)})}):e.jsx(P,{})}),e.jsx("div",{className:"mt-6",children:e.jsx(te,{current:h,total:N,onPageChange:j})})]})]})]})})})}):e.jsx(P,{})}export{et as default};
