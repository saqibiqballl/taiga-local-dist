import{r as s,j as t,aB as I}from"./index.js";const O=({isDisable:h,options:d,selectedValues:c=[],onSelectionChange:v,placeholder:y="",dropdownWidth:b=250})=>{const[r,o]=s.useState(c),[u,f]=s.useState(!1),[p,w]=s.useState(""),[k,g]=s.useState(!1),[l,j]=s.useState(""),[i,x]=s.useState(d),N=s.useRef(null),m=s.useRef(null),S=()=>{console.log("selectedItems",r),w(`${r.length} ${y} Selected`)};s.useEffect(()=>{S(),v(r)},[r]),s.useEffect(()=>{c.length>0&&o(c)},[c]),s.useEffect(()=>{r.length>0&&r.length<d.length?g(!0):g(!1)},[r]),s.useEffect(()=>{if(l){const e=d.filter(a=>{var n;return(n=a.label)==null?void 0:n.toLowerCase().includes(l==null?void 0:l.toLowerCase())});x(e)}else x(d)},[l,d]),s.useEffect(()=>{const e=a=>{m.current&&!m.current.contains(a.target)&&f(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),s.useEffect(()=>{const e=({keyCode:a})=>{a===27&&f(!1)};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)});const E=(e,a)=>{const n=e?[...r,a]:r.filter(L=>L!==a);o(n)},C=e=>{o(e?i.map(a=>a.value):[])};return t.jsxs("div",{className:"relative inline-flex w-full ",children:[t.jsx("button",{ref:N,className:"w-full form-select btn justify-between min-w-44 border-slate-200 hover:border-slate-300 text-slate-500 hover:text-slate-400",onClick:()=>{f(!u)},"aria-expanded":u,children:t.jsx("span",{children:p})}),t.jsx(I,{show:u,tag:"div",className:"z-10 absolute top-full left-0 borderpy-1.5 rounded shadow-lg overflow-hidden mt-1 bg-white dark:bg-gray-800 overflow-auto dark:text-slate-300 ",enter:"transition ease-out duration-100 transform",enterStart:"opacity-0 -translate-y-2",enterEnd:"opacity-100 translate-y-0",leave:"transition ease-out duration-100",leaveStart:"opacity-100",leaveEnd:"opacity-0",children:t.jsxs("div",{ref:m,className:"font-medium text-sm text-slate-600 ",style:{width:b},children:[t.jsx("div",{className:"px-3 py-2",children:t.jsx("input",{type:"text",className:"bg-white border-slate-200 hover:border-slate-300 dark:bg-gray-800 overflow-auto dark:text-slate-300 rounded p-1 ",placeholder:"Search...",value:l,onChange:e=>j(e.target.value)})}),t.jsxs("ul",{className:"max-h-48 overflow-auto",children:[t.jsx("li",{className:"py-1 px-3",children:t.jsxs("label",{className:"flex items-center",children:[t.jsx("input",{type:"checkbox",disabled:h,className:"w-4 h-4 text-violet-600 bg-gray-100 border-gray-300 rounded focus:ring-violet-500 dark:focus:ring-violet-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-slate-300",onChange:e=>C(e.target.checked),ref:e=>{e&&(e.indeterminate=k)}}),t.jsx("span",{className:"text-sm font-medium ml-2",children:"All"})]})}),i==null?void 0:i.map((e,a)=>t.jsx("li",{className:"py-1 px-3",children:t.jsxs("label",{className:"flex items-center",children:[t.jsx("input",{type:"checkbox",className:"w-4 h-4 text-violet-600 bg-gray-100 border-gray-300 rounded focus:ring-violet-500 dark:focus:ring-violet-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-slate-300",disabled:h,checked:r.includes(e==null?void 0:e.value),onChange:n=>E(n.target.checked,e.value)}),t.jsx("span",{className:"text-sm font-medium ml-2",children:e==null?void 0:e.label})]})},a))]})]})})]})};export{O as M};
