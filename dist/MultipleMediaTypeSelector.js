import{r as s,j as t,aB as E}from"./index.js";const h=[{name:"audio_broadcast",short:"audio_broadcast"},{name:"digital_native",short:"digital_native"},{name:"print_native",short:"print_native"},{name:"video_broadcast",short:"video_broadcast"},{name:"other",short:"other"}];function S({selectedCategories:o,oncategoryChange:g}){const[r,i]=s.useState(o),[p,m]=s.useState(!1),[b,v]=s.useState(""),[l,c]=s.useState(!1),x=s.useRef(null),d=s.useRef(null);s.useEffect(()=>{u(r),j()},[r]);const u=e=>{let a=e.join(",").substring(0,20);e.length>=3&&(a=`${e.length} selected`),e.length==0&&(a="Select Media Type"),v(a)};s.useEffect(()=>{i(o)},[]),s.useEffect(()=>{const e=({target:a})=>{d.current&&(!l||d.current.contains(a)||x.current.contains(a)||(c(!1),u(o)))};return document.addEventListener("click",e),()=>document.removeEventListener("click",e)}),s.useEffect(()=>{const e=({keyCode:a})=>{!l||a!==27||(c(!1),u(o))};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)}),s.useEffect(()=>{r.length>0&&r.length<h.length?m(!0):m(!1)},[r]);const k=(e,a)=>{let n=[];if(r.forEach(f=>{n.push(f)}),e.target.checked==!0)r.includes(a)||n.push(a);else{const f=r.findIndex(w=>w==a);n.splice(f,1)}i(n)},y=e=>{if(e==!0){const a=[];h.forEach(n=>{a.push(n.short)}),i(a)}else i([])},j=()=>{g(r)};return t.jsx("div",{children:t.jsxs("div",{className:"relative inline-flex w-full",children:[t.jsxs("button",{ref:x,className:"w-full btn justify-between min-w-44 bg-white dark:bg-slate-800 border-slate-200 dark:border-slate-700 hover:border-slate-300 dark:hover:border-slate-600 text-slate-500 hover:text-slate-600 dark:text-slate-300 dark:hover:text-slate-200","aria-label":"Select date range","aria-haspopup":"true",onClick:()=>{l==!1&&i(o),c(!l)},"aria-expanded":l,children:[t.jsx("span",{className:"flex items-center",children:t.jsx("span",{children:b})}),t.jsx("svg",{className:"shrink-0 ml-1 fill-current text-slate-400",width:"11",height:"7",viewBox:"0 0 11 7",children:t.jsx("path",{d:"M5.4 6.8L0 1.4 1.4 0l4 4 4-4 1.4 1.4z"})})]}),t.jsx(E,{show:l,tag:"div",className:"z-10 absolute top-full left-0 w-full bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 py-1.5 rounded shadow-lg overflow-hidden mt-1",enter:"transition ease-out duration-100 transform",enterStart:"opacity-0 -translate-y-2",enterEnd:"opacity-100 translate-y-0",leave:"transition ease-out duration-100",leaveStart:"opacity-100",leaveEnd:"opacity-0",children:t.jsx("div",{ref:d,className:"font-medium text-sm text-slate-600 dark:text-slate-300",children:t.jsxs("ul",{className:"mb-4 max-h-[200px] overflow-auto",children:[t.jsx("li",{className:"py-1 px-3",children:t.jsxs("label",{className:"flex items-center",children:[t.jsx("input",{type:"checkbox",className:"w-4 h-4 text-violet-600 bg-gray-100 border-gray-300 rounded focus:ring-violet-500 dark:focus:ring-violet-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-slate-300",onChange:e=>{y(e.target.checked)},ref:e=>{e&&(e.indeterminate=p)}}),t.jsx("span",{className:"text-sm font-medium ml-2",children:"All"})]})}),h.map((e,a)=>t.jsx("li",{className:"py-1 px-3",children:t.jsxs("label",{className:"flex items-center",children:[t.jsx("input",{type:"checkbox",checked:!!r.includes(e.short),className:"w-4 h-4 text-violet-600 bg-gray-100 border-gray-300 rounded focus:ring-violet-500 dark:focus:ring-violet-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-slate-300",value:e.short,onChange:n=>{k(n,e.short)}}),t.jsx("span",{className:"text-sm font-medium ml-2",children:e.name})]})},a))]})})})]})})}export{S as M};
