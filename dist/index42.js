import{j as e,aH as ye,O as fe,Q as We,b7 as mt,d as ge,r as p,u as Kt,aB as kt,v as pe,aD as He,G as Te,H as Ue,P as Se,L as Re,aE as _e,z as we,F as Ve,D as K,az as nt,I as Ye,aF as Gt,x as Wt,w as Bt,b8 as Ht,E as Ut,y as Vt,A as Yt,aK as jt,ao as qt}from"./index.js";import{i as ze,C as Xt,D as Ke,a as $e,b as Qt,A as Zt,I as Jt,L as $t,c as er}from"./index44.js";import{I as me}from"./index45.js";import{D as tr}from"./Datepicker.js";import{G as Ft}from"./Grid.js";import{I as xe}from"./listbox.js";import{S as it}from"./secureFetch.js";import{t as Ct}from"./toastr.js";import{M as Be}from"./MuiDialog.js";import"./chartjs-adapter-moment.esm.js";import{d as Nt}from"./dayjs.min.js";import{i as rr,a as ar,M as ur,T as sr,b as or,P as nr}from"./marker-shadow.js";import{L as Tt}from"./leaflet-src.js";import{e as ir,a as lr,N as cr,G as Dr,f as xt,S as dr}from"./index37.js";import{d as hr,a as fr}from"./ZoomIn.js";import{r as gr}from"./createSvgIcon2.js";import{M as pr}from"./MultiSelectDropdown.js";import{c as mr}from"./createSvgIcon.js";import{q as Fr}from"./transition.js";const Cr=mr(e.jsx("path",{d:"M7 14H5v5h5v-2H7zm-2-4h2V7h3V5H5zm12 7h-3v2h5v-5h-2zM14 5v2h3v3h2V5z"}),"Fullscreen"),je=2,Ce=Object.keys(Ke),xr=({selector:t})=>{const a=ye(),u=fe(t),{trackEvent:r}=We();function o(c){a({type:"dates/set",payload:{...u,preset:"custom",from:c}}),r({category:"Filter",action:"Set From Date",name:c})}function l(c){a({type:"dates/set",payload:{...u,preset:"custom",to:c}}),r({category:"Filter",action:"Set To Date",name:c})}function D(c){const d=new Date;let s=new Date;switch(c){case"today":s.setDate(d.getDate()-1);break;case"7days":s.setDate(d.getDate()-7);break;case"month":s=new Date(d.getFullYear(),d.getMonth(),1);break;case"30days":s.setDate(d.getDate()-30);break;case"60days":s.setDate(d.getDate()-60);break;case"year":s=new Date(d.getFullYear(),0,1);break;case"all":s=new Date("2000-01-01");break}a({type:"dates/set",payload:{preset:c,from:mt(s),to:mt(d)}}),r({category:"Filter",action:"Set Date preset ",name:c})}return e.jsxs("div",{className:"pr-8 mr-[-2rem] font-regular",children:[e.jsxs(ze,{value:u.preset,onChange:D,children:[e.jsx(ze.Label,{className:"block font-bold text-sm mt-3 text-slate-500",children:"Date Range"}),e.jsx("div",{className:"gap-x-1 gap-y-1 flex relative flex-wrap mr-[-3rem] font-regular",children:Ce.slice(0,je).map((c,d)=>e.jsx(ze.Option,{value:c,children:e.jsx(ze.Label,{children:e.jsx(Xt,{active:c===u.preset,children:Ke[c]})})},d))}),e.jsx(xe,{value:u.preset,onChange:D,children:e.jsxs("div",{className:"relative pt-2",children:[e.jsxs(xe.Button,{className:`${$e.common} ${Ce.slice(-(Ce.length-je)).find(c=>c===u.preset)?$e.active:$e.default}`,children:[e.jsx("span",{className:`overflow-hidden inline-block  ${Ce.slice(-(Ce.length-je)).find(c=>c===u.preset)?" w-auto ":"  w-0 "}`,children:e.jsx(me,{type:"check",size:"sm"})}),Ce.slice(0,je).find(c=>c===u.preset)?"more":Ke[u.preset],e.jsx(me,{type:"chevron-down",size:"sm",className:"mr-[-0.25rem]"})]}),e.jsx(xe.Options,{className:"absolute font-normal mt-1 max-h-60 w-max overflow-auto z-50 bg-slate-50 rounded-xl py-1 text-base shadow-lg border border-slate-200 focus:outline-none sm:text-sm",children:Ce.slice(-(Ce.length-je)).map((c,d)=>e.jsxs(xe.Option,{className:`cursor-pointer text-sm py-2 pl-2 pr-4 hover:bg-violet-100
                 m-0 flex gap-x-1 items-center ${u.preset===c?"font-bold":""}`,value:c,children:[" ",e.jsx("span",{className:"overflow-hidden inline-block w-[20px] ",children:u.preset===c&&e.jsx(me,{type:"check",size:"sm"})}),Ke[c]]},d))})]})})]}),e.jsx(Ft,{container:!0,children:e.jsx(Ft,{item:!0,md:12,mt:1,onClick:()=>{a({type:"dates/set",payload:{...u,preset:"custom"}})},children:e.jsx(tr,{setFrom:o,setTo:l})})})]})},yr=[{value:"twitter",label:"Twitter"}],Er=({platforms:t})=>{const a=ye(),{trackEvent:u}=We();console.log(t);const r=o=>{const l=t.includes(o)?"removed":"added";a({type:`platforms/${l}`,payload:o}),u({category:"Filter",action:l==="added"?"Add Platform":"Remove Platform",name:o})};return e.jsxs("div",{children:[e.jsx("label",{className:"block font-bold text-sm mt-3 text-slate-500",children:"Platforms"}),yr.map(({value:o,label:l})=>e.jsxs("label",{className:"flex items-center font-bold text-sm mt-3 text-slate-500",children:[e.jsx("input",{type:"checkbox",className:"form-checkbox cursor-pointer",checked:t.includes(o),onChange:()=>r(o)}),e.jsx("span",{className:"ml-2",children:l})]},o))]})},br=()=>{const t=new Date;return new Date().setDate(t.getDate()-7),[{type:"dates/reset"},{type:"topic/set",payload:"all"},{type:"accounts/institutions/set",payload:"all"},{type:"accounts/location/set",payload:"all"},{type:"accounts/identities/set",payload:"all"},{type:"accounts/categories/set",payload:"all"},{type:"platforms/reset"}]},vr=({children:t,...a})=>{const u=ye(),{trackEvent:r}=We();function o(){br().forEach(D=>u(D)),r({category:"Filter",action:"Clear All Filters"})}return e.jsx("div",{...a,children:e.jsx("button",{className:"btn bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700/60 hover:border-gray-300 dark:hover:border-gray-600 text-gray-800 dark:text-gray-300",onClick:o,children:t})})},wr={red:"bg-rose-100 border-rose-300",green:"bg-emerald-100 border-emerald-300",purple:"bg-violet-100 border-violet-300",blue:"bg-violet-100 border-violet-300",pink:"bg-pink-100 border-pink-300"},Ar={red:"bg-red-600 text-slate-300 border-red-600",green:"bg-emerald-600 text-slate-300 border-emerald-600",purple:"bg-violet-600 text-slate-300 border-violet-600",blue:"bg-violet-400 text-slate-300 border-violet-400",pink:" bg-pink-600 text-slate-300 border-pink-600"};function kr({options:t,active:a,header:u,setActive:r,dispatchType:o,hideLabel:l=!1,id:D,...c}){function d(s){if(a.find(n=>n===s)!==void 0){const n=a.filter(m=>m!==s);r(n)}else r([...a,s])}return e.jsx("div",{...c,className:"flex flex-wrap text-sm font-medium gap-x-4 gap-y-6",children:t&&t.map((s,n)=>e.jsxs("div",{onClick:()=>d(s._id),className:`px-3 py-1 rounded-full border flex gap-1 items-center cursor-pointer ${a.find(m=>m===s._id)!==void 0?Ar[s.color]:wr[s.color]}`,children:[a.find(m=>m===s._id)!==void 0&&e.jsx(me,{type:"check",size:"xs"}),s.name]},n))})}const qe={headers:{Accept:"application/json","Content-Type":"application/json","api-key":"SOCIALRADAR_kNfOdiOXgYycGCH8KA"}};async function lt(){const t={...qe,method:"GET"};return await it.get(`${ge}/api/tag`,t)}async function Br(t){const a={...qe,method:"DELETE",body:JSON.stringify(t)};return(await fetch(`${ge}/api/tag/delete`,a)).status===200}async function jr(t){const a={...qe,method:"DELETE",body:JSON.stringify(t)};return(await fetch(`${ge}/api/tag/deleteAll`,a)).status===200}async function Nr(t){const a={...qe,method:"POST",body:JSON.stringify(t)};return await(await it.post(`${ge}/api/tag`,a)).json()}const yt={red:"Red",green:"Green",purple:"Purple",blue:"Blue",pink:"Pink"},Tr=({postId:t,onClose:a})=>{const[u,r]=p.useState("");let o=p.useRef(null),l=p.useRef(null);const D=ye(),c=fe(n=>n.socialRadar.tags.alltags);async function d(){let n=null;try{n=await lt(),D({type:"alltags/set",payload:n})}catch(m){console.log(m)}}async function s(n){const m=o.current.value,k=l.current.value;if(!u||!m||!k)return;(()=>{if(c)for(var S=0;S<c.length;S++){var j=c[S].name,E=c[S];u===j&&Br(E)}})(),Nr({name:u,color:k,description:m,posts:t?[t]:[]}),await d(),a()}return e.jsxs("div",{children:[e.jsx("h4",{className:"mb-3",children:"Create a New Tag"}),e.jsx("label",{className:"text-sm",children:"Tag Name"}),e.jsx("input",{type:"text",id:"tagName",name:"tagName",className:"form-input input px-3 py-1 w-full mb-3",onChange:n=>r(n.target.value)}),e.jsx("label",{className:"text-sm",children:"Tag Description"}),e.jsx("textarea",{className:"form-textarea px-3 py-1 w-full mb-3",id:"tagDesc",name:"tagDesc",ref:o}),e.jsx("label",{className:"text-sm",children:"Tag Color"}),e.jsx("div",{children:e.jsx("select",{className:"form-select w-[10rem] input px-3 py-1 mb-4",ref:l,children:Object.keys(yt).map((n,m)=>e.jsx("option",{value:n,children:yt[n]},m))})}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{className:"btn-lg  bg-violet-500 hover:bg-violet-600 text-slate-300",onClick:s,children:"Confirm"})})]})},Sr={successCreate:"Tag has been created successfully",failCreate:"Unknown error has occured while posting",successDelete:"Tag(s) has been deleted successfully",failDelete:"Failed to delete Tag(s)",none:""};var et;const Rr=()=>{const[t,a]=p.useState(!1),[u,r]=p.useState("none"),o=ye(),[l,D]=p.useState([]),c=fe(n=>n.socialRadar.tags.alltags);p.useEffect(()=>(clearTimeout(et),et=setTimeout(()=>{r("none")},5e3),()=>{clearTimeout(et)}),[u]),p.useEffect(()=>{d()},[]),p.useEffect(()=>{t||d()},[t]);function d(){lt().then(n=>{o({type:"alltags/set",payload:n})}).catch(n=>console.log(n))}function s(){return u.includes("fail")?" bg-red-100 border-red-300 ":u.includes("success")?" bg-emerald-100 border-emerald-300  ":" invisible "}return e.jsxs("div",{className:"flex flex-col justify-between h-full pb-4 px-4 ",children:[u!="none"&&e.jsx("div",{className:"h-[4rem]",children:e.jsx("div",{className:`border px-4 py-4 rounded-xs text-sm ${s()}`,children:Sr[u]})}),t?e.jsx(e.Fragment,{children:e.jsx(Tr,{onClose:()=>a(!1)})}):e.jsxs(e.Fragment,{children:[e.jsxs("section",{className:"pb-4 overflow-x-hidden bg-white border-gray-400 w-full",children:[e.jsx("label",{className:"inline-block  font-bold mb-3 text-sm mt-3 text-slate-700",children:"All Custom Tags"}),e.jsx("div",{className:"pl-4 pr-2 w-3/4",children:e.jsx(kr,{options:c,active:l,setActive:D})})]}),e.jsxs("section",{className:"px-2 flex gap-x-2 justify-end mt-13 ",children:[l.length>0?e.jsxs("button",{variant:"secondary",className:"h-fit btn-lg bg-violet-500 hover:bg-violet-600 text-slate-300",onClick:()=>D([]),children:[e.jsx(me,{type:"x",size:"sm"}),"Cancel"]}):e.jsxs("button",{className:" h-fit btn-lg bg-violet-500 hover:bg-violet-600 text-slate-300",onClick:()=>a(!0),children:[e.jsx(me,{type:"plus",size:"sm"})," Create New Tag"]}),e.jsxs("button",{className:"btn-lg bg-red-500 hover:bg-red-600 text-slate-300",onClick:async n=>{n.preventDefault(),await jr(l)?(D([]),d(),Ct.success("Successful!")):Ct.error("Error Occured")},disabled:!l.length>0,children:[e.jsx(me,{type:"trash-2",size:"sm"}),l.length>0?`Delete ${l.length} Selected Tag(s)`:"Delete Tags"]})]})]})]})},_r=({selector:t,dispatchType:a,type:u,track:r,...o})=>{const l=ye(),D=fe(t),{trackEvent:c}=We();function d(s,n){l(u==="tweetcounts"?{type:a,payload:s}:{type:a,payload:s}),c({...r,name:s})}return D?e.jsx(Qt,{type:"",className:"pr-2",...o,onSelect:d,active:D}):e.jsx("div",{})};function Mr(t){const[a,u]=p.useState(!1),r=p.useRef(null),o=p.useRef(null);return Kt(),p.useEffect(()=>{const l=({target:D})=>{o.current&&(!a||o.current.contains(D)||r.current.contains(D)||u(!1))};return document.addEventListener("click",l),()=>document.removeEventListener("click",l)}),p.useEffect(()=>{},[t==null?void 0:t.options]),p.useEffect(()=>{const l=({keyCode:D})=>{!a||D!==27||u(!1)};return document.addEventListener("keydown",l),()=>document.removeEventListener("keydown",l)}),e.jsxs("div",{className:"relative inline-flex w-full",children:[e.jsxs("button",{ref:r,className:"w-full btn justify-between min-w-44 bg-white dark:bg-slate-800 border-slate-200 dark:border-slate-700 hover:border-slate-300 dark:hover:border-slate-600 text-slate-500 hover:text-slate-600 dark:text-slate-300 dark:hover:text-slate-200","aria-label":"Select date range","aria-haspopup":"true",onClick:()=>u(!a),"aria-expanded":a,children:[e.jsx("span",{className:"flex items-center",children:e.jsx("span",{children:t==null?void 0:t.options[t==null?void 0:t.selected]})}),e.jsx("svg",{className:"shrink-0 ml-1 fill-current text-slate-400",width:"11",height:"7",viewBox:"0 0 11 7",children:e.jsx("path",{d:"M5.4 6.8L0 1.4 1.4 0l4 4 4-4 1.4 1.4z"})})]}),e.jsx(kt,{show:a,tag:"div",className:"z-10 absolute top-full left-0 w-full bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 py-1.5 rounded shadow-lg overflow-hidden mt-1",enter:"transition ease-out duration-100 transform",enterStart:"opacity-0 -translate-y-2",enterEnd:"opacity-100 translate-y-0",leave:"transition ease-out duration-100",leaveStart:"opacity-100",leaveEnd:"opacity-0",children:e.jsx("div",{ref:o,className:"font-medium text-sm text-slate-600 dark:text-slate-300",onFocus:()=>u(!0),onBlur:()=>u(!1),children:t==null?void 0:t.options.map((l,D)=>e.jsxs("button",{tabIndex:"0",className:`flex items-center w-full hover:bg-slate-50 hover:dark:bg-slate-700/20 py-1 px-3 cursor-pointer ${D===(t==null?void 0:t.selected)&&"text-violet-500"}`,onClick:()=>{t==null||t.setSelected(D),u(!1)},children:[e.jsx("svg",{className:`shrink-0 mr-2 fill-current text-violet-500 ${D!==(t==null?void 0:t.selected)&&"invisible"}`,width:"12",height:"9",viewBox:"0 0 12 9",children:e.jsx("path",{d:"M10.28.28L3.989 6.575 1.695 4.28A1 1 0 00.28 5.695l3 3a1 1 0 001.414 0l7-7A1 1 0 0010.28.28z"})}),e.jsx("span",{children:l})]},D))})})]})}const Or=({wordsWithCounts:t})=>{const a=Math.max(...t.map(r=>r.count)),u=[...t].sort((r,o)=>o.count-r.count);return e.jsx("div",{className:"flex flex-wrap gap-1",children:u.map(({word:r,count:o},l)=>{const D=Math.round(o/a*24+12);return e.jsx("span",{className:"inline-block font-bold",style:{fontSize:`${D}px`},children:r},l)})})};pe.register(He,Te,Ue,Se,Re,_e,we);function Lr({data:t,width:a,height:u}){const[r,o]=p.useState(null),l=p.useRef(null),D=p.useRef(null),{currentTheme:c}=Ve(),d=c==="dark",{textColor:s,gridColor:n,tooltipBodyColor:m,tooltipBgColor:k,tooltipBorderColor:B}=Ye;return p.useEffect(()=>{const S=l.current,j=new pe(S,{type:"line",data:t,options:{layout:{padding:20},scales:{y:{border:{display:!1},beginAtZero:!0,ticks:{maxTicksLimit:5,callback:E=>E,color:d?s.dark:s.light},grid:{color:d?n.dark:n.light}},x:{type:"time",time:{parser:"YYYY-MM-DD",unit:"day",displayFormats:{month:"MMM YY"}},border:{display:!1},grid:{display:!1},ticks:{autoSkipPadding:48,maxRotation:0,color:d?s.dark:s.light}}},plugins:{legend:{display:!1},tooltip:{callbacks:{title:E=>Nt(E[0].label).format("MMM DD, YYYY")},bodyColor:d?m.dark:m.light,backgroundColor:d?k.dark:k.light,borderColor:d?B.dark:B.light,titleColor:d?m.dark:m.light}},interaction:{intersect:!1,mode:"nearest"},maintainAspectRatio:!1,resizeDelay:200},plugins:[{id:"htmlLegend",afterUpdate(E,C,y){const h=D.current;if(!h)return;for(;h.firstChild;)h.firstChild.remove();E.options.plugins.legend.labels.generateLabels(E).slice(0,2).forEach(N=>{const _=document.createElement("li");_.style.marginLeft=K().theme.margin[3];const b=document.createElement("button");b.style.display="inline-flex",b.style.alignItems="center",b.style.opacity=N.hidden?".3":"",b.onclick=()=>{E.setDatasetVisibility(N.datasetIndex,!E.isDatasetVisible(N.datasetIndex)),E.update()};const T=document.createElement("span");T.style.display="block",T.style.width=K().theme.width[3],T.style.height=K().theme.height[3],T.style.borderRadius=K().theme.borderRadius.full,T.style.marginRight=K().theme.margin[2],T.style.borderWidth="3px",T.style.borderColor=E.data.datasets[N.datasetIndex].borderColor,T.style.pointerEvents="none";const O=document.createElement("span");O.classList.add("text-slate-500","dark:text-slate-400"),O.style.fontSize=K().theme.fontSize.sm[0],O.style.lineHeight=K().theme.fontSize.sm[1].lineHeight;const V=document.createTextNode(N.text);O.appendChild(V),_.appendChild(b),b.appendChild(T),b.appendChild(O),h.appendChild(_)})}}]});return o(j),()=>j.destroy()},[]),p.useEffect(()=>{r&&(d?(r.options.scales.x.ticks.color=s.dark,r.options.scales.y.ticks.color=s.dark,r.options.scales.y.grid.color=n.dark,r.options.plugins.tooltip.bodyColor=m.dark,r.options.plugins.tooltip.backgroundColor=k.dark,r.options.plugins.tooltip.borderColor=B.dark):(r.options.scales.x.ticks.color=s.light,r.options.scales.y.ticks.color=s.light,r.options.scales.y.grid.color=n.light,r.options.plugins.tooltip.bodyColor=m.light,r.options.plugins.tooltip.backgroundColor=k.light,r.options.plugins.tooltip.borderColor=B.light),r.update("none"))},[c]),e.jsxs(nt.Fragment,{children:[e.jsx("div",{className:"px-5 py-3",children:e.jsxs("div",{className:"flex flex-wrap justify-between items-end",children:[e.jsx("div",{className:"flex items-start"}),e.jsx("div",{className:"grow ml-2 mb-1",children:e.jsx("ul",{ref:D,className:"flex flex-wrap justify-end"})})]})}),e.jsx("div",{className:"grow",children:e.jsx("canvas",{ref:l,width:a,height:u})})]})}pe.register(He,Te,Ue,Se,Re,_e,we);function Pr({data:t,width:a,height:u}){const[r,o]=p.useState(null),l=p.useRef(null),D=p.useRef(null),{currentTheme:c}=Ve(),d=c==="dark",{textColor:s,gridColor:n,tooltipBodyColor:m,tooltipBgColor:k,tooltipBorderColor:B}=Ye;return p.useEffect(()=>{const S=l.current,j=new pe(S,{type:"line",data:t,options:{layout:{padding:20},scales:{y:{border:{display:!1},beginAtZero:!0,ticks:{maxTicksLimit:15,callback:E=>E,color:d?s.dark:s.light},grid:{color:d?n.dark:n.light}},x:{type:"time",time:{parser:"YYYY-MM-DD",unit:"day",displayFormats:{month:"MMM YY"}},border:{display:!1},grid:{display:!1},ticks:{autoSkipPadding:48,maxRotation:0,color:d?s.dark:s.light}}},plugins:{legend:{display:!1},tooltip:{callbacks:{title:E=>Nt(E[0].label).format("MMM DD, YYYY")},bodyColor:d?m.dark:m.light,backgroundColor:d?k.dark:k.light,borderColor:d?B.dark:B.light,titleColor:d?m.dark:m.light}},interaction:{intersect:!1,mode:"nearest"},maintainAspectRatio:!1,resizeDelay:200},plugins:[{id:"htmlLegend",afterUpdate(E,C,y){const h=D.current;if(!h)return;for(;h.firstChild;)h.firstChild.remove();E.options.plugins.legend.labels.generateLabels(E).forEach(N=>{const _=document.createElement("li");_.style.marginLeft=K().theme.margin[3];const b=document.createElement("button");b.style.display="inline-flex",b.style.alignItems="center",b.style.opacity=N.hidden?".3":"",b.onclick=()=>{E.setDatasetVisibility(N.datasetIndex,!E.isDatasetVisible(N.datasetIndex)),E.update()};const T=document.createElement("span");T.style.display="block",T.style.width=K().theme.width[3],T.style.height=K().theme.height[3],T.style.borderRadius=K().theme.borderRadius.full,T.style.marginRight=K().theme.margin[2],T.style.borderWidth="3px",T.style.borderColor=E.data.datasets[N.datasetIndex].borderColor,T.style.pointerEvents="none";const O=document.createElement("span");O.classList.add("text-slate-500","dark:text-slate-400"),O.style.fontSize=K().theme.fontSize.sm[0],O.style.lineHeight=K().theme.fontSize.sm[1].lineHeight;const V=document.createTextNode(N.text);O.appendChild(V),_.appendChild(b),b.appendChild(T),b.appendChild(O),h.appendChild(_)})}}]});return o(j),()=>j.destroy()},[]),p.useEffect(()=>{r&&(d?(r.options.scales.x.ticks.color=s.dark,r.options.scales.y.ticks.color=s.dark,r.options.scales.y.grid.color=n.dark,r.options.plugins.tooltip.bodyColor=m.dark,r.options.plugins.tooltip.backgroundColor=k.dark,r.options.plugins.tooltip.borderColor=B.dark):(r.options.scales.x.ticks.color=s.light,r.options.scales.y.ticks.color=s.light,r.options.scales.y.grid.color=n.light,r.options.plugins.tooltip.bodyColor=m.light,r.options.plugins.tooltip.backgroundColor=k.light,r.options.plugins.tooltip.borderColor=B.light),r.update("none"))},[c]),e.jsxs(nt.Fragment,{children:[e.jsx("div",{className:"px-5 py-3",children:e.jsxs("div",{className:"flex flex-wrap justify-between items-end",children:[e.jsx("div",{className:"flex items-start"}),e.jsx("div",{className:"grow ml-2 mb-1",children:e.jsx("ul",{ref:D,className:"flex flex-wrap justify-end"})})]})}),e.jsx("div",{className:"grow",children:e.jsx("canvas",{ref:l,width:a,height:u})})]})}pe.register(He,Te,Ue,Se,Re,_e,we,Gt,Wt,Bt);function Ir({data:t,width:a,height:u}){const[r,o]=p.useState(null),l=p.useRef(null),D=p.useRef(null),{currentTheme:c}=Ve(),d=c==="dark",{textColor:s,gridColor:n,tooltipBodyColor:m,tooltipBgColor:k,tooltipBorderColor:B}=Ye;return p.useEffect(()=>{const S=l.current,j=new pe(S,{type:"bar",data:t,options:{layout:{padding:20},scales:{y:{border:{display:!1},beginAtZero:!0,ticks:{maxTicksLimit:10,callback:E=>E,color:d?s.dark:s.light},grid:{color:d?n.dark:n.light}}},plugins:{legend:{display:!1},tooltip:{bodyColor:d?m.dark:m.light,backgroundColor:d?k.dark:k.light,borderColor:d?B.dark:B.light,titleColor:d?m.dark:m.light}},interaction:{intersect:!1,mode:"nearest"},maintainAspectRatio:!1,resizeDelay:200},plugins:[{id:"htmlLegend",afterUpdate(E,C,y){const h=D.current;if(!h)return;for(;h.firstChild;)h.firstChild.remove();E.options.plugins.legend.labels.generateLabels(E).slice(0,2).forEach(N=>{const _=document.createElement("li");_.style.marginLeft=K().theme.margin[3];const b=document.createElement("button");b.style.display="inline-flex",b.style.alignItems="center",b.style.opacity=N.hidden?".3":"",b.onclick=()=>{E.setDatasetVisibility(N.datasetIndex,!E.isDatasetVisible(N.datasetIndex)),E.update()};const T=document.createElement("span");T.style.display="block",T.style.width=K().theme.width[3],T.style.height=K().theme.height[3],T.style.borderRadius=K().theme.borderRadius.full,T.style.marginRight=K().theme.margin[2],T.style.borderWidth="3px",T.style.borderColor=E.data.datasets[N.datasetIndex].borderColor,T.style.pointerEvents="none";const O=document.createElement("span");O.classList.add("text-slate-500","dark:text-slate-400"),O.style.fontSize=K().theme.fontSize.sm[0],O.style.lineHeight=K().theme.fontSize.sm[1].lineHeight;const V=document.createTextNode(N.text);O.appendChild(V),_.appendChild(b),b.appendChild(T),b.appendChild(O),h.appendChild(_)})}}]});return o(j),()=>j.destroy()},[]),p.useEffect(()=>{r&&(d?(r.options.scales.x.ticks.color=s.dark,r.options.scales.y.ticks.color=s.dark,r.options.scales.y.grid.color=n.dark,r.options.plugins.tooltip.bodyColor=m.dark,r.options.plugins.tooltip.backgroundColor=k.dark,r.options.plugins.tooltip.borderColor=B.dark):(r.options.scales.x.ticks.color=s.light,r.options.scales.y.ticks.color=s.light,r.options.scales.y.grid.color=n.light,r.options.plugins.tooltip.bodyColor=m.light,r.options.plugins.tooltip.backgroundColor=k.light,r.options.plugins.tooltip.borderColor=B.light),r.update("none"))},[c]),e.jsxs(nt.Fragment,{children:[e.jsx("div",{className:"px-5 py-3",children:e.jsxs("div",{className:"flex flex-wrap justify-between items-end",children:[e.jsx("div",{className:"flex items-start"}),e.jsx("div",{className:"grow ml-2 mb-1",children:e.jsx("ul",{ref:D,className:"flex flex-wrap justify-end"})})]})}),e.jsx("div",{className:"grow",children:e.jsx("canvas",{ref:l,width:a,height:u})})]})}pe.register(He,Te,Ue,Se,Re,_e,we);pe.register(Ht,Ut,_e,we);function zr({data:t,width:a,height:u}){const[r,o]=p.useState(null),l=p.useRef(null),D=p.useRef(null),{currentTheme:c}=Ve(),d=c==="dark",{tooltipTitleColor:s,tooltipBodyColor:n,tooltipBgColor:m,tooltipBorderColor:k}=Ye;return p.useEffect(()=>{const B=l.current,S=new pe(B,{type:"doughnut",data:t,options:{cutout:"80%",layout:{padding:24},plugins:{legend:{display:!1},tooltip:{titleColor:d?s.dark:s.light,bodyColor:d?n.dark:n.light,backgroundColor:d?m.dark:m.light,borderColor:d?k.dark:k.light}},interaction:{intersect:!1,mode:"nearest"},animation:{duration:500},maintainAspectRatio:!1,resizeDelay:200},plugins:[{id:"htmlLegend",afterUpdate(j,E,C){const y=D.current;if(!y)return;for(;y.firstChild;)y.firstChild.remove();j.options.plugins.legend.labels.generateLabels(j).forEach(w=>{const N=document.createElement("li");N.style.margin=K().theme.margin[1];const _=document.createElement("button");_.classList.add("btn-xs","bg-white","dark:bg-slate-800","text-slate-500","dark:text-slate-400","border","border-slate-200","dark:border-slate-700"),_.style.opacity=w.hidden?".3":"",_.onclick=()=>{j.toggleDataVisibility(w.index),j.update()};const b=document.createElement("span");b.style.display="block",b.style.width=K().theme.width[2],b.style.height=K().theme.height[2],b.style.backgroundColor=w.fillStyle,b.style.borderRadius=K().theme.borderRadius.sm,b.style.marginRight=K().theme.margin[1],b.style.pointerEvents="none";const T=document.createElement("span");T.style.display="flex",T.style.alignItems="center";const O=document.createTextNode(w.text);T.appendChild(O),N.appendChild(_),_.appendChild(b),_.appendChild(T),y.appendChild(N)})}}]});return o(S),()=>S.destroy()},[]),p.useEffect(()=>{r&&(d?(r.options.plugins.tooltip.titleColor=s.dark,r.options.plugins.tooltip.bodyColor=n.dark,r.options.plugins.tooltip.backgroundColor=m.dark,r.options.plugins.tooltip.borderColor=k.dark):(r.options.plugins.tooltip.titleColor=s.light,r.options.plugins.tooltip.bodyColor=n.light,r.options.plugins.tooltip.backgroundColor=m.light,r.options.plugins.tooltip.borderColor=k.light),r.update("none"))},[c]),e.jsxs("div",{className:"grow flex flex-col justify-center",children:[e.jsx("div",{children:e.jsx("canvas",{ref:l,width:a,height:u})}),e.jsx("div",{className:"px-5 pt-2 pb-6",children:e.jsx("ul",{ref:D,className:"flex flex-wrap justify-center -m-1"})})]})}const Kr=({data:t,settings:a,szByDate:u})=>{pe.register(Bt,Re,Se,Te,Vt,we,Yt);const r=t.map(m=>m.keywords).flat(),o=t.map(m=>m.topics),l={};r.forEach(m=>{l[m]=(l[m]||0)+1});const D={};o.forEach(m=>{D[m]=(D[m]||0)+1});const c={};t.forEach(m=>{const k=m.authoredAt.substring(0,10);c[k]||(c[k]={}),m.keywords.forEach(B=>{c[k][B]=(c[k][B]||0)+1})});const d={labels:Object.keys(l),datasets:[{label:"Count",data:Object.values(l),backgroundColor:`rgba(${jt(K().theme.colors.violet[500])}, 0.8)`,borderColor:K().theme.colors.violet[500]}]},s={labels:Object.keys(c).sort((m,k)=>m.localeCompare(k)),datasets:Object.keys(l).map((m,k)=>({label:m,backgroundColor:`rgba(${Math.floor(Math.random()*256)},${Math.floor(Math.random()*256)},${Math.floor(Math.random()*256)},0.2)`,borderColor:`rgba(${Math.floor(Math.random()*256)},${Math.floor(Math.random()*256)},${Math.floor(Math.random()*256)},1)`,borderWidth:1,data:Object.values(c).map(B=>B[m]||0)}))},n={labels:Object.keys(D),datasets:[{label:"Count",data:Object.values(D),backgroundColor:Object.keys(D).map(m=>`rgba(${Math.floor(Math.random()*256)},${Math.floor(Math.random()*256)},${Math.floor(Math.random()*256)},0.6)`),borderColor:Object.keys(D).map(m=>`rgba(${Math.floor(Math.random()*256)},${Math.floor(Math.random()*256)},${Math.floor(Math.random()*256)},0)`)}]};return e.jsxs("div",{children:[e.jsxs("div",{className:"mt-6",children:[e.jsx("h2",{className:"font-bold text-center",children:"Posts By Authored Date"}),e.jsx("br",{}),e.jsx(Lr,{data:u,width:389,height:250})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("h2",{className:"font-bold text-center",children:"Top Keywords Frequency"}),e.jsx("br",{}),e.jsx(Ir,{data:d,width:389,height:250})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("h2",{className:"font-bold text-center",children:"Keyword Trends Over Time"}),e.jsx("br",{}),e.jsx(Pr,{data:s,width:389,height:250})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("h2",{className:"font-bold text-center",children:"Topics Distribution"}),e.jsx("br",{}),e.jsx(zr,{data:n,width:389,height:250})]})]})};let Gr=Tt.icon({iconUrl:rr,shadowUrl:ar,iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]});Tt.Marker.prototype.options.icon=Gr;const Wr=({tweets:t})=>e.jsxs(ur,{center:[0,0],zoom:2,style:{height:"400px"},children:[e.jsx(sr,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),t.map(a=>{const{bbox:u,url:r}=a;if(u&&u.length===4){const[o,l,D,c]=u,d=(l+c)/2,s=(o+D)/2;return d!==0||s!==0?e.jsx(or,{position:[d,s],children:e.jsx(nr,{children:e.jsx("a",{href:r,target:"_blank",rel:"noopener noreferrer",children:"view on Twitter"})})},r):null}})]});function tt(t,a){(a==null||a>t.length)&&(a=t.length);for(var u=0,r=Array(a);u<a;u++)r[u]=t[u];return r}function Hr(t){if(Array.isArray(t))return tt(t)}function Ur(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Vr(t,a){if(t){if(typeof t=="string")return tt(t,a);var u={}.toString.call(t).slice(8,-1);return u==="Object"&&t.constructor&&(u=t.constructor.name),u==="Map"||u==="Set"?Array.from(t):u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u)?tt(t,a):void 0}}function Yr(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ct(t){return Hr(t)||Ur(t)||Vr(t)||Yr()}function Dt(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}function qr(t,a){if(typeof t!="object"||!t)return t;var u=t[Symbol.toPrimitive];if(u!==void 0){var r=u.call(t,a||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(t)}function St(t){var a=qr(t,"string");return typeof a=="symbol"?a:a+""}function Et(t,a){for(var u=0;u<a.length;u++){var r=a[u];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,St(r.key),r)}}function dt(t,a,u){return a&&Et(t.prototype,a),u&&Et(t,u),Object.defineProperty(t,"prototype",{writable:!1}),t}function ve(t){return ve=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},ve(t)}function Rt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Rt=function(){return!!t})()}function de(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Xr(t,a){if(a&&(typeof a=="object"||typeof a=="function"))return a;if(a!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return de(t)}function _t(t,a,u){return a=ve(a),Xr(t,Rt()?Reflect.construct(a,u||[],ve(t).constructor):a.apply(t,u))}function Qr(t,a){for(;!{}.hasOwnProperty.call(t,a)&&(t=ve(t))!==null;);return t}function rt(){return rt=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(t,a,u){var r=Qr(t,a);if(r){var o=Object.getOwnPropertyDescriptor(r,a);return o.get?o.get.call(arguments.length<3?t:u):o.value}},rt.apply(null,arguments)}function bt(t,a,u,r){var o=rt(ve(1&r?t.prototype:t),a,u);return 2&r&&typeof o=="function"?function(l){return o.apply(u,l)}:o}function at(t,a){return at=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(u,r){return u.__proto__=r,u},at(t,a)}function Mt(t,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(a&&a.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),a&&at(t,a)}function ue(t,a,u){return(a=St(a))in t?Object.defineProperty(t,a,{value:u,enumerable:!0,configurable:!0,writable:!0}):t[a]=u,t}function Zr(t,a){if(t==null)return{};var u={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(a.includes(r))continue;u[r]=t[r]}return u}function Jr(t,a){if(t==null)return{};var u,r,o=Zr(t,a);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(r=0;r<l.length;r++)u=l[r],a.includes(u)||{}.propertyIsEnumerable.call(t,u)&&(o[u]=t[u])}return o}function vt(t,a){var u=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);a&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),u.push.apply(u,r)}return u}function ne(t){for(var a=1;a<arguments.length;a++){var u=arguments[a]!=null?arguments[a]:{};a%2?vt(Object(u),!0).forEach(function(r){ue(t,r,u[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(u)):vt(Object(u)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(u,r))})}return t}function $r(t){var a=t.texturesCount,u=`
precision highp float;

varying vec4 v_color;
varying vec2 v_diffVector;
varying float v_radius;
varying vec4 v_texture;
varying float v_textureIndex;

uniform sampler2D u_atlas[`.concat(a,`];
uniform float u_correctionRatio;
uniform float u_cameraAngle;
uniform float u_percentagePadding;
uniform bool u_colorizeImages;
uniform bool u_keepWithinCircle;

const vec4 transparent = vec4(0.0, 0.0, 0.0, 0.0);

const float radius = 0.5;

void main(void) {
  float border = 2.0 * u_correctionRatio;
  float dist = length(v_diffVector);
  vec4 color = gl_FragColor;

  float c = cos(-u_cameraAngle);
  float s = sin(-u_cameraAngle);
  vec2 diffVector = mat2(c, s, -s, c) * (v_diffVector);

  // No antialiasing for picking mode:
  #ifdef PICKING_MODE
  border = 0.0;
  color = v_color;

  #else
  // First case: No image to display
  if (v_texture.w <= 0.0) {
    if (!u_colorizeImages) {
      color = v_color;
    }
  }

  // Second case: Image loaded into the texture
  else {
    float paddingRatio = 1.0 + 2.0 * u_percentagePadding;
    float coef = u_keepWithinCircle ? 1.0 : `).concat(Math.SQRT2,`;
    vec2 coordinateInTexture = diffVector * vec2(paddingRatio, -paddingRatio) / v_radius / 2.0 * coef + vec2(0.5, 0.5);
    int index = int(v_textureIndex + 0.5); // +0.5 avoid rounding errors

    bool noTextureFound = false;
    vec4 texel;

    `).concat(ct(new Array(a)).map(function(r,o){return"if (index == ".concat(o,") texel = texture2D(u_atlas[").concat(o,"], (v_texture.xy + coordinateInTexture * v_texture.zw), -1.0);")}).join(`
    else `)+`else {
      texel = texture2D(u_atlas[0], (v_texture.xy + coordinateInTexture * v_texture.zw), -1.0);
      noTextureFound = true;
    }`,`

    if (noTextureFound) {
      color = v_color;
    } else {
      // Colorize all visible image pixels:
      if (u_colorizeImages) {
        color = mix(gl_FragColor, v_color, texel.a);
      }

      // Colorize background pixels, keep image pixel colors:
      else {
        color = vec4(mix(v_color, texel, texel.a).rgb, max(texel.a, v_color.a));
      }

      // Erase pixels "in the padding":
      if (abs(diffVector.x) > v_radius / paddingRatio || abs(diffVector.y) > v_radius / paddingRatio) {
        color = u_colorizeImages ? gl_FragColor : v_color;
      }
    }
  }
  #endif

  // Crop in a circle when u_keepWithinCircle is truthy:
  if (u_keepWithinCircle) {
    if (dist < v_radius - border) {
      gl_FragColor = color;
    } else if (dist < v_radius) {
      gl_FragColor = mix(transparent, color, (v_radius - dist) / border);
    }
  }

  // Crop in a square else:
  else {
    float squareHalfSize = v_radius * `).concat(Math.SQRT1_2*Math.cos(Math.PI/12),`;
    if (abs(diffVector.x) > squareHalfSize || abs(diffVector.y) > squareHalfSize) {
      gl_FragColor = transparent;
    } else {
      gl_FragColor = color;
    }
  }
}
`);return u}var ea=`
attribute vec4 a_id;
attribute vec4 a_color;
attribute vec2 a_position;
attribute float a_size;
attribute float a_angle;
attribute vec4 a_texture;
attribute float a_textureIndex;

uniform mat3 u_matrix;
uniform float u_sizeRatio;
uniform float u_correctionRatio;

varying vec4 v_color;
varying vec2 v_diffVector;
varying float v_radius;
varying vec4 v_texture;
varying float v_textureIndex;

const float bias = 255.0 / 254.0;
const float marginRatio = 1.05;

void main() {
  float size = a_size * u_correctionRatio / u_sizeRatio * 4.0;
  vec2 diffVector = size * vec2(cos(a_angle), sin(a_angle));
  vec2 position = a_position + diffVector * marginRatio;
  gl_Position = vec4(
    (u_matrix * vec3(position, 1)).xy,
    0,
    1
  );

  v_diffVector = diffVector;
  v_radius = size / 2.0 / marginRatio;

  #ifdef PICKING_MODE
  // For picking mode, we use the ID as the color:
  v_color = a_id;
  #else
  // For normal mode, we use the color:
  v_color = a_color;

  // Pass the texture coordinates:
  v_textureIndex = a_textureIndex;
  v_texture = a_texture;
  #endif

  v_color.a *= bias;
}
`,ta=ea;function Ee(){Ee=function(){return a};var t,a={},u=Object.prototype,r=u.hasOwnProperty,o=Object.defineProperty||function(F,f,x){F[f]=x.value},l=typeof Symbol=="function"?Symbol:{},D=l.iterator||"@@iterator",c=l.asyncIterator||"@@asyncIterator",d=l.toStringTag||"@@toStringTag";function s(F,f,x){return Object.defineProperty(F,f,{value:x,enumerable:!0,configurable:!0,writable:!0}),F[f]}try{s({},"")}catch{s=function(f,x,R){return f[x]=R}}function n(F,f,x,R){var A=f&&f.prototype instanceof C?f:C,z=Object.create(A.prototype),X=new $(R||[]);return o(z,"_invoke",{value:V(F,x,X)}),z}function m(F,f,x){try{return{type:"normal",arg:F.call(f,x)}}catch(R){return{type:"throw",arg:R}}}a.wrap=n;var k="suspendedStart",B="suspendedYield",S="executing",j="completed",E={};function C(){}function y(){}function h(){}var w={};s(w,D,function(){return this});var N=Object.getPrototypeOf,_=N&&N(N(Q([])));_&&_!==u&&r.call(_,D)&&(w=_);var b=h.prototype=C.prototype=Object.create(w);function T(F){["next","throw","return"].forEach(function(f){s(F,f,function(x){return this._invoke(f,x)})})}function O(F,f){function x(A,z,X,ee){var te=m(F[A],F,z);if(te.type!=="throw"){var ie=te.arg,Fe=ie.value;return Fe&&typeof Fe=="object"&&r.call(Fe,"__await")?f.resolve(Fe.__await).then(function(le){x("next",le,X,ee)},function(le){x("throw",le,X,ee)}):f.resolve(Fe).then(function(le){ie.value=le,X(ie)},function(le){return x("throw",le,X,ee)})}ee(te.arg)}var R;o(this,"_invoke",{value:function(A,z){function X(){return new f(function(ee,te){x(A,z,ee,te)})}return R=R?R.then(X,X):X()}})}function V(F,f,x){var R=k;return function(A,z){if(R===S)throw Error("Generator is already running");if(R===j){if(A==="throw")throw z;return{value:t,done:!0}}for(x.method=A,x.arg=z;;){var X=x.delegate;if(X){var ee=I(X,x);if(ee){if(ee===E)continue;return ee}}if(x.method==="next")x.sent=x._sent=x.arg;else if(x.method==="throw"){if(R===k)throw R=j,x.arg;x.dispatchException(x.arg)}else x.method==="return"&&x.abrupt("return",x.arg);R=S;var te=m(F,f,x);if(te.type==="normal"){if(R=x.done?j:B,te.arg===E)continue;return{value:te.arg,done:x.done}}te.type==="throw"&&(R=j,x.method="throw",x.arg=te.arg)}}}function I(F,f){var x=f.method,R=F.iterator[x];if(R===t)return f.delegate=null,x==="throw"&&F.iterator.return&&(f.method="return",f.arg=t,I(F,f),f.method==="throw")||x!=="return"&&(f.method="throw",f.arg=new TypeError("The iterator does not provide a '"+x+"' method")),E;var A=m(R,F.iterator,f.arg);if(A.type==="throw")return f.method="throw",f.arg=A.arg,f.delegate=null,E;var z=A.arg;return z?z.done?(f[F.resultName]=z.value,f.next=F.nextLoc,f.method!=="return"&&(f.method="next",f.arg=t),f.delegate=null,E):z:(f.method="throw",f.arg=new TypeError("iterator result is not an object"),f.delegate=null,E)}function se(F){var f={tryLoc:F[0]};1 in F&&(f.catchLoc=F[1]),2 in F&&(f.finallyLoc=F[2],f.afterLoc=F[3]),this.tryEntries.push(f)}function ae(F){var f=F.completion||{};f.type="normal",delete f.arg,F.completion=f}function $(F){this.tryEntries=[{tryLoc:"root"}],F.forEach(se,this),this.reset(!0)}function Q(F){if(F||F===""){var f=F[D];if(f)return f.call(F);if(typeof F.next=="function")return F;if(!isNaN(F.length)){var x=-1,R=function A(){for(;++x<F.length;)if(r.call(F,x))return A.value=F[x],A.done=!1,A;return A.value=t,A.done=!0,A};return R.next=R}}throw new TypeError(typeof F+" is not iterable")}return y.prototype=h,o(b,"constructor",{value:h,configurable:!0}),o(h,"constructor",{value:y,configurable:!0}),y.displayName=s(h,d,"GeneratorFunction"),a.isGeneratorFunction=function(F){var f=typeof F=="function"&&F.constructor;return!!f&&(f===y||(f.displayName||f.name)==="GeneratorFunction")},a.mark=function(F){return Object.setPrototypeOf?Object.setPrototypeOf(F,h):(F.__proto__=h,s(F,d,"GeneratorFunction")),F.prototype=Object.create(b),F},a.awrap=function(F){return{__await:F}},T(O.prototype),s(O.prototype,c,function(){return this}),a.AsyncIterator=O,a.async=function(F,f,x,R,A){A===void 0&&(A=Promise);var z=new O(n(F,f,x,R),A);return a.isGeneratorFunction(f)?z:z.next().then(function(X){return X.done?X.value:z.next()})},T(b),s(b,d,"Generator"),s(b,D,function(){return this}),s(b,"toString",function(){return"[object Generator]"}),a.keys=function(F){var f=Object(F),x=[];for(var R in f)x.push(R);return x.reverse(),function A(){for(;x.length;){var z=x.pop();if(z in f)return A.value=z,A.done=!1,A}return A.done=!0,A}},a.values=Q,$.prototype={constructor:$,reset:function(F){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(ae),!F)for(var f in this)f.charAt(0)==="t"&&r.call(this,f)&&!isNaN(+f.slice(1))&&(this[f]=t)},stop:function(){this.done=!0;var F=this.tryEntries[0].completion;if(F.type==="throw")throw F.arg;return this.rval},dispatchException:function(F){if(this.done)throw F;var f=this;function x(te,ie){return z.type="throw",z.arg=F,f.next=te,ie&&(f.method="next",f.arg=t),!!ie}for(var R=this.tryEntries.length-1;R>=0;--R){var A=this.tryEntries[R],z=A.completion;if(A.tryLoc==="root")return x("end");if(A.tryLoc<=this.prev){var X=r.call(A,"catchLoc"),ee=r.call(A,"finallyLoc");if(X&&ee){if(this.prev<A.catchLoc)return x(A.catchLoc,!0);if(this.prev<A.finallyLoc)return x(A.finallyLoc)}else if(X){if(this.prev<A.catchLoc)return x(A.catchLoc,!0)}else{if(!ee)throw Error("try statement without catch or finally");if(this.prev<A.finallyLoc)return x(A.finallyLoc)}}}},abrupt:function(F,f){for(var x=this.tryEntries.length-1;x>=0;--x){var R=this.tryEntries[x];if(R.tryLoc<=this.prev&&r.call(R,"finallyLoc")&&this.prev<R.finallyLoc){var A=R;break}}A&&(F==="break"||F==="continue")&&A.tryLoc<=f&&f<=A.finallyLoc&&(A=null);var z=A?A.completion:{};return z.type=F,z.arg=f,A?(this.method="next",this.next=A.finallyLoc,E):this.complete(z)},complete:function(F,f){if(F.type==="throw")throw F.arg;return F.type==="break"||F.type==="continue"?this.next=F.arg:F.type==="return"?(this.rval=this.arg=F.arg,this.method="return",this.next="end"):F.type==="normal"&&f&&(this.next=f),E},finish:function(F){for(var f=this.tryEntries.length-1;f>=0;--f){var x=this.tryEntries[f];if(x.finallyLoc===F)return this.complete(x.completion,x.afterLoc),ae(x),E}},catch:function(F){for(var f=this.tryEntries.length-1;f>=0;--f){var x=this.tryEntries[f];if(x.tryLoc===F){var R=x.completion;if(R.type==="throw"){var A=R.arg;ae(x)}return A}}throw Error("illegal catch attempt")},delegateYield:function(F,f,x){return this.delegate={iterator:Q(F),resultName:f,nextLoc:x},this.method==="next"&&(this.arg=t),E}},a}function wt(t,a,u,r,o,l,D){try{var c=t[l](D),d=c.value}catch(s){return void u(s)}c.done?a(d):Promise.resolve(d).then(r,o)}function ht(t){return function(){var a=this,u=arguments;return new Promise(function(r,o){var l=t.apply(a,u);function D(d){wt(l,r,o,D,c,"next",d)}function c(d){wt(l,r,o,D,c,"throw",d)}D(void 0)})}}var ft={size:{mode:"max",value:512},objectFit:"cover",correctCentering:!1,maxTextureSize:4096,debounceTimeout:500,crossOrigin:"anonymous"},ra=1;function ut(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u=a.crossOrigin;return new Promise(function(r,o){var l=new Image;l.addEventListener("load",function(){r(l)},{once:!0}),l.addEventListener("error",function(D){o(D.error)},{once:!0}),u&&l.setAttribute("crossOrigin",u),l.src=t})}function aa(t){return st.apply(this,arguments)}function st(){return st=ht(Ee().mark(function t(a){var u,r,o,l,D,c,d,s,n,m,k,B,S,j=arguments;return Ee().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:if(u=j.length>1&&j[1]!==void 0?j[1]:{},r=u.size,o=u.crossOrigin,o!=="use-credentials"){C.next=7;break}return C.next=4,fetch(a,{credentials:"include"});case 4:l=C.sent,C.next=10;break;case 7:return C.next=9,fetch(a);case 9:l=C.sent;case 10:return C.next=12,l.text();case 12:if(D=C.sent,c=new DOMParser().parseFromString(D,"image/svg+xml"),d=c.documentElement,s=d.getAttribute("width"),n=d.getAttribute("height"),!(!s||!n)){C.next=19;break}throw new Error("loadSVGImage: cannot use `size` if target SVG has no definite dimensions.");case 19:return typeof r=="number"&&(d.setAttribute("width",""+r),d.setAttribute("height",""+r)),m=new XMLSerializer().serializeToString(c),k=new Blob([m],{type:"image/svg+xml"}),B=URL.createObjectURL(k),S=ut(B),S.finally(function(){return URL.revokeObjectURL(B)}),C.abrupt("return",S);case 26:case"end":return C.stop()}},t)})),st.apply(this,arguments)}function ua(t){return ot.apply(this,arguments)}function ot(){return ot=ht(Ee().mark(function t(a){var u,r,o,l,D,c,d=arguments;return Ee().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(r=d.length>1&&d[1]!==void 0?d[1]:{},o=r.size,l=r.crossOrigin,D=((u=a.split(/[#?]/)[0].split(".").pop())===null||u===void 0?void 0:u.trim().toLowerCase())==="svg",!(D&&o)){n.next=16;break}return n.prev=3,n.next=6,aa(a,{size:o,crossOrigin:l});case 6:c=n.sent,n.next=14;break;case 9:return n.prev=9,n.t0=n.catch(3),n.next=13,ut(a,{crossOrigin:l});case 13:c=n.sent;case 14:n.next=19;break;case 16:return n.next=18,ut(a,{crossOrigin:l});case 18:c=n.sent;case 19:return n.abrupt("return",c);case 20:case"end":return n.stop()}},t,null,[[3,9]])})),ot.apply(this,arguments)}function sa(t,a,u){var r=u.objectFit,o=u.size,l=u.correctCentering,D=r==="contain"?Math.max(t.width,t.height):Math.min(t.width,t.height),c=o.mode==="auto"?D:o.mode==="force"?o.value:Math.min(o.value,D),d=(t.width-D)/2,s=(t.height-D)/2;if(l){var n=a.getCorrectionOffset(t,D);d=n.x,s=n.y}return{sourceX:d,sourceY:s,sourceSize:D,destinationSize:c}}function oa(t,a,u){for(var r=a.canvas,o=r.width,l=r.height,D=[],c=u.x,d=u.y,s=u.rowHeight,n=u.maxRowWidth,m={},k=0,B=t.length;k<B;k++){var S=t[k],j=S.key,E=S.image,C=S.sourceSize,y=S.sourceX,h=S.sourceY,w=S.destinationSize,N=w+ra;d+N>l||c+N>o&&d+N+s>l||(c+N>o&&(n=Math.max(n,c),c=0,d+=s,s=N),D.push({key:j,image:E,sourceX:y,sourceY:h,sourceSize:C,destinationX:c,destinationY:d,destinationSize:w}),m[j]={x:c,y:d,size:w},c+=N,s=Math.max(s,N))}n=Math.max(n,c);for(var _=n,b=d+s,T=0,O=D.length;T<O;T++){var V=D[T],I=V.image,se=V.sourceSize,ae=V.sourceX,$=V.sourceY,Q=V.destinationSize,F=V.destinationX,f=V.destinationY;a.drawImage(I,ae,$,se,se,F,f,Q,Q)}return{atlas:m,texture:a.getImageData(0,0,_,b),cursor:{x:c,y:d,rowHeight:s,maxRowWidth:n}}}function na(t,a,u){var r=t.atlas,o=t.textures,l=t.cursor,D={atlas:ne({},r),textures:ct(o.slice(0,-1)),cursor:ne({},l)},c=[];for(var d in a){var s,n=a[d];if(n.status==="ready"){var m=(s=r[d])===null||s===void 0?void 0:s.textureIndex;typeof m!="number"&&c.push(ne({key:d},n))}}for(var k=function(){var S=oa(c,u,D.cursor),j=S.atlas,E=S.texture,C=S.cursor;D.cursor=C;var y=[];c.forEach(function(h){j[h.key]?D.atlas[h.key]=ne(ne({},j[h.key]),{},{textureIndex:D.textures.length}):y.push(h)}),D.textures.push(E),c=y,c.length&&(D.cursor={x:0,y:0,rowHeight:0,maxRowWidth:0},u.clearRect(0,0,u.canvas.width,u.canvas.height))};c.length;)k();return D}var ia=function(){function t(){Dt(this,t),this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d",{willReadFrequently:!0})}return dt(t,[{key:"getCorrectionOffset",value:function(u,r){this.canvas.width=r,this.canvas.height=r,this.context.clearRect(0,0,r,r),this.context.drawImage(u,0,0,r,r);for(var o=this.context.getImageData(0,0,r,r).data,l=new Uint8ClampedArray(o.length/4),D=0;D<o.length;D++)l[D]=o[D*4+3];for(var c=0,d=0,s=0,n=0;n<r;n++)for(var m=0;m<r;m++){var k=l[n*r+m];s+=k,c+=k*m,d+=k*n}var B=c/s,S=d/s;return{x:B-r/2,y:S-r/2}}}]),t}(),Ge=function(t){Mt(a,t);function a(){var u,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Dt(this,a),u=_t(this,a),ue(de(u),"canvas",document.createElement("canvas")),ue(de(u),"ctx",u.canvas.getContext("2d",{willReadFrequently:!0})),ue(de(u),"corrector",new ia),ue(de(u),"imageStates",{}),ue(de(u),"textures",[u.ctx.getImageData(0,0,1,1)]),ue(de(u),"lastTextureCursor",{x:0,y:0,rowHeight:0,maxRowWidth:0}),ue(de(u),"atlas",{}),u.options=ne(ne({},ft),r),u.canvas.width=u.options.maxTextureSize,u.canvas.height=u.options.maxTextureSize,u}return dt(a,[{key:"scheduleGenerateTexture",value:function(){var r=this;typeof this.frameId!="number"&&(typeof this.options.debounceTimeout=="number"?this.frameId=window.setTimeout(function(){r.generateTextures(),r.frameId=void 0},this.options.debounceTimeout):this.generateTextures())}},{key:"generateTextures",value:function(){var r=na({atlas:this.atlas,textures:this.textures,cursor:this.lastTextureCursor},this.imageStates,this.ctx),o=r.atlas,l=r.textures,D=r.cursor;this.atlas=o,this.textures=l,this.lastTextureCursor=D,this.emit(a.NEW_TEXTURE_EVENT,{atlas:o,textures:l})}},{key:"registerImage",value:function(){var u=ht(Ee().mark(function o(l){var D,c;return Ee().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(!this.imageStates[l]){s.next=2;break}return s.abrupt("return");case 2:return this.imageStates[l]={status:"loading"},s.prev=3,D=this.options.size,s.next=7,ua(l,{size:D.mode==="force"?D.value:void 0,crossOrigin:this.options.crossOrigin||void 0});case 7:c=s.sent,this.imageStates[l]=ne({status:"ready",image:c},sa(c,this.corrector,this.options)),this.scheduleGenerateTexture(),s.next=15;break;case 12:s.prev=12,s.t0=s.catch(3),this.imageStates[l]={status:"error"};case 15:case"end":return s.stop()}},o,this,[[3,12]])}));function r(o){return u.apply(this,arguments)}return r}()},{key:"getAtlas",value:function(){return this.atlas}},{key:"getTextures",value:function(){return this.textures}}]),a}(ir.EventEmitter);ue(Ge,"NEW_TEXTURE_EVENT","newTexture");var la=["drawHover","drawLabel","drawingMode","keepWithinCircle","padding","colorAttribute","imageAttribute"],Ot=WebGLRenderingContext,At=Ot.UNSIGNED_BYTE,Ne=Ot.FLOAT,ca=ne(ne({},ft),{},{drawingMode:"background",keepWithinCircle:!0,drawLabel:void 0,drawHover:void 0,padding:0,colorAttribute:"color",imageAttribute:"image"}),Da=["u_sizeRatio","u_correctionRatio","u_cameraAngle","u_percentagePadding","u_matrix","u_colorizeImages","u_keepWithinCircle","u_atlas"];function Lt(t){var a,u=document.createElement("canvas").getContext("webgl"),r=Math.min(u.getParameter(u.MAX_TEXTURE_SIZE),ft.maxTextureSize);u.canvas.remove();var o=ne(ne(ne({},ca),{maxTextureSize:r}),t||{}),l=o.drawHover,D=o.drawLabel,c=o.drawingMode,d=o.keepWithinCircle,s=o.padding,n=o.colorAttribute,m=o.imageAttribute,k=Jr(o,la),B=new Ge(k);return a=function(S){Mt(j,S);function j(E,C,y){var h;return Dt(this,j),h=_t(this,j,[E,C,y]),ue(de(h),"drawLabel",D),ue(de(h),"drawHover",l),ue(de(h),"textureManagerCallback",null),h.textureManagerCallback=function(w){var N=w.atlas,_=w.textures,b=_.length!==h.textures.length;h.atlas=N,h.textureImages=_,b&&h.upgradeShaders(),h.bindTextures(),h.latestRenderParams&&h.render(h.latestRenderParams),h.renderer&&h.renderer.refresh&&h.renderer.refresh()},B.on(Ge.NEW_TEXTURE_EVENT,h.textureManagerCallback),h.atlas=B.getAtlas(),h.textureImages=B.getTextures(),h.textures=h.textureImages.map(function(){return E.createTexture()}),h.bindTextures(),h}return dt(j,[{key:"getDefinition",value:function(){return{VERTICES:3,VERTEX_SHADER_SOURCE:ta,FRAGMENT_SHADER_SOURCE:$r({texturesCount:B.getTextures().length}),METHOD:WebGLRenderingContext.TRIANGLES,UNIFORMS:Da,ATTRIBUTES:[{name:"a_position",size:2,type:Ne},{name:"a_size",size:1,type:Ne},{name:"a_color",size:4,type:At,normalized:!0},{name:"a_id",size:4,type:At,normalized:!0},{name:"a_texture",size:4,type:Ne},{name:"a_textureIndex",size:1,type:Ne}],CONSTANT_ATTRIBUTES:[{name:"a_angle",size:1,type:Ne}],CONSTANT_DATA:[[j.ANGLE_1],[j.ANGLE_2],[j.ANGLE_3]]}}},{key:"upgradeShaders",value:function(){var C=this.getDefinition(),y=this.normalProgram,h=y.program,w=y.buffer,N=y.vertexShader,_=y.fragmentShader,b=y.gl;b.deleteProgram(h),b.deleteBuffer(w),b.deleteShader(N),b.deleteShader(_),this.normalProgram=this.getProgramInfo("normal",b,C.VERTEX_SHADER_SOURCE,C.FRAGMENT_SHADER_SOURCE,null)}},{key:"kill",value:function(){var C,y=(C=this.normalProgram)===null||C===void 0?void 0:C.gl;if(y)for(var h=0;h<this.textures.length;h++)y.deleteTexture(this.textures[h]);this.textureManagerCallback&&(B.off(Ge.NEW_TEXTURE_EVENT,this.textureManagerCallback),this.textureManagerCallback=null),bt(j,"kill",this,3)([])}},{key:"bindTextures",value:function(){for(var C=this.normalProgram.gl,y=0;y<this.textureImages.length;y++){if(y>=this.textures.length){var h=C.createTexture();h&&this.textures.push(h)}C.activeTexture(C.TEXTURE0+y),C.bindTexture(C.TEXTURE_2D,this.textures[y]),C.texImage2D(C.TEXTURE_2D,0,C.RGBA,C.RGBA,C.UNSIGNED_BYTE,this.textureImages[y]),C.generateMipmap(C.TEXTURE_2D)}}},{key:"renderProgram",value:function(C,y){if(!y.isPicking)for(var h=y.gl,w=0;w<this.textureImages.length;w++)h.activeTexture(h.TEXTURE0+w),h.bindTexture(h.TEXTURE_2D,this.textures[w]);bt(j,"renderProgram",this,3)([C,y])}},{key:"processVisibleItem",value:function(C,y,h){var w=this.array,N=lr(h[n]),_=h[m],b=_?this.atlas[_]:void 0;if(typeof _=="string"&&!b&&B.registerImage(_),w[y++]=h.x,w[y++]=h.y,w[y++]=h.size,w[y++]=N,w[y++]=C,b&&typeof b.textureIndex=="number"){var T=this.textureImages[b.textureIndex],O=T.width,V=T.height;w[y++]=b.x/O,w[y++]=b.y/V,w[y++]=b.size/O,w[y++]=b.size/V,w[y++]=b.textureIndex}else w[y++]=0,w[y++]=0,w[y++]=0,w[y++]=0,w[y++]=0}},{key:"setUniforms",value:function(C,y){var h=y.gl,w=y.uniformLocations,N=w.u_sizeRatio,_=w.u_correctionRatio,b=w.u_matrix,T=w.u_atlas,O=w.u_colorizeImages,V=w.u_keepWithinCircle,I=w.u_cameraAngle,se=w.u_percentagePadding;this.latestRenderParams=C,h.uniform1f(_,C.correctionRatio),h.uniform1f(N,d?C.sizeRatio:C.sizeRatio/Math.SQRT2),h.uniform1f(I,C.cameraAngle),h.uniform1f(se,s),h.uniformMatrix3fv(b,!1,C.matrix),h.uniform1iv(T,ct(new Array(this.textureImages.length)).map(function(ae,$){return $})),h.uniform1i(O,c==="color"?1:0),h.uniform1i(V,d?1:0)}}]),j}(cr),ue(a,"ANGLE_1",0),ue(a,"ANGLE_2",2*Math.PI/3),ue(a,"ANGLE_3",4*Math.PI/3),ue(a,"textureManager",B),a}var da=Lt();Lt({keepWithinCircle:!1,size:{mode:"force",value:256},drawingMode:"color",correctCentering:!0});const ha=()=>/[#*0-9]\uFE0F?\u20E3|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26AA\u26B0\u26B1\u26BD\u26BE\u26C4\u26C8\u26CF\u26D1\u26E9\u26F0-\u26F5\u26F7\u26F8\u26FA\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B55\u3030\u303D\u3297\u3299]\uFE0F?|[\u261D\u270C\u270D](?:\uD83C[\uDFFB-\uDFFF]|\uFE0F)?|[\u270A\u270B](?:\uD83C[\uDFFB-\uDFFF])?|[\u23E9-\u23EC\u23F0\u23F3\u25FD\u2693\u26A1\u26AB\u26C5\u26CE\u26D4\u26EA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2795-\u2797\u27B0\u27BF\u2B50]|\u26D3\uFE0F?(?:\u200D\uD83D\uDCA5)?|\u26F9(?:\uD83C[\uDFFB-\uDFFF]|\uFE0F)?(?:\u200D[\u2640\u2642]\uFE0F?)?|\u2764\uFE0F?(?:\u200D(?:\uD83D\uDD25|\uD83E\uDE79))?|\uD83C(?:[\uDC04\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]\uFE0F?|[\uDF85\uDFC2\uDFC7](?:\uD83C[\uDFFB-\uDFFF])?|[\uDFC4\uDFCA](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDFCB\uDFCC](?:\uD83C[\uDFFB-\uDFFF]|\uFE0F)?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF43\uDF45-\uDF4A\uDF4C-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uDDE6\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF]|\uDDE7\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF]|\uDDE8\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF7\uDDFA-\uDDFF]|\uDDE9\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF]|\uDDEA\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA]|\uDDEB\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7]|\uDDEC\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE]|\uDDED\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA]|\uDDEE\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9]|\uDDEF\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5]|\uDDF0\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF]|\uDDF1\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE]|\uDDF2\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF]|\uDDF3\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF]|\uDDF4\uD83C\uDDF2|\uDDF5\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE]|\uDDF6\uD83C\uDDE6|\uDDF7\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC]|\uDDF8\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF]|\uDDF9\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF]|\uDDFA\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF]|\uDDFB\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA]|\uDDFC\uD83C[\uDDEB\uDDF8]|\uDDFD\uD83C\uDDF0|\uDDFE\uD83C[\uDDEA\uDDF9]|\uDDFF\uD83C[\uDDE6\uDDF2\uDDFC]|\uDF44(?:\u200D\uD83D\uDFEB)?|\uDF4B(?:\u200D\uD83D\uDFE9)?|\uDFC3(?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D(?:[\u2640\u2642]\uFE0F?(?:\u200D\u27A1\uFE0F?)?|\u27A1\uFE0F?))?|\uDFF3\uFE0F?(?:\u200D(?:\u26A7\uFE0F?|\uD83C\uDF08))?|\uDFF4(?:\u200D\u2620\uFE0F?|\uDB40\uDC67\uDB40\uDC62\uDB40(?:\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDC73\uDB40\uDC63\uDB40\uDC74|\uDC77\uDB40\uDC6C\uDB40\uDC73)\uDB40\uDC7F)?)|\uD83D(?:[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3]\uFE0F?|[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC](?:\uD83C[\uDFFB-\uDFFF])?|[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4\uDEB5](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD74\uDD90](?:\uD83C[\uDFFB-\uDFFF]|\uFE0F)?|[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC25\uDC27-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE41\uDE43\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED7\uDEDC-\uDEDF\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uDC08(?:\u200D\u2B1B)?|\uDC15(?:\u200D\uD83E\uDDBA)?|\uDC26(?:\u200D(?:\u2B1B|\uD83D\uDD25))?|\uDC3B(?:\u200D\u2744\uFE0F?)?|\uDC41\uFE0F?(?:\u200D\uD83D\uDDE8\uFE0F?)?|\uDC68(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDC68\uDC69]\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFE])))?))?|\uDC69(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?[\uDC68\uDC69]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?|\uDC69\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?))|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFE])))?))?|\uDC6F(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDD75(?:\uD83C[\uDFFB-\uDFFF]|\uFE0F)?(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDE2E(?:\u200D\uD83D\uDCA8)?|\uDE35(?:\u200D\uD83D\uDCAB)?|\uDE36(?:\u200D\uD83C\uDF2B\uFE0F?)?|\uDE42(?:\u200D[\u2194\u2195]\uFE0F?)?|\uDEB6(?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D(?:[\u2640\u2642]\uFE0F?(?:\u200D\u27A1\uFE0F?)?|\u27A1\uFE0F?))?)|\uD83E(?:[\uDD0C\uDD0F\uDD18-\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5\uDEC3-\uDEC5\uDEF0\uDEF2-\uDEF8](?:\uD83C[\uDFFB-\uDFFF])?|[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD\uDDCF\uDDD4\uDDD6-\uDDDD](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDDDE\uDDDF](?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD0D\uDD0E\uDD10-\uDD17\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCC\uDDD0\uDDE0-\uDDFF\uDE70-\uDE7C\uDE80-\uDE89\uDE8F-\uDEC2\uDEC6\uDECE-\uDEDC\uDEDF-\uDEE9]|\uDD3C(?:\u200D[\u2640\u2642]\uFE0F?|\uD83C[\uDFFB-\uDFFF])?|\uDDCE(?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D(?:[\u2640\u2642]\uFE0F?(?:\u200D\u27A1\uFE0F?)?|\u27A1\uFE0F?))?|\uDDD1(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1|\uDDD1\u200D\uD83E\uDDD2(?:\u200D\uD83E\uDDD2)?|\uDDD2(?:\u200D\uD83E\uDDD2)?))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFC-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFD-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFD\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFE]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?))?|\uDEF1(?:\uD83C(?:\uDFFB(?:\u200D\uD83E\uDEF2\uD83C[\uDFFC-\uDFFF])?|\uDFFC(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFD-\uDFFF])?|\uDFFD(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])?|\uDFFE(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFD\uDFFF])?|\uDFFF(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFE])?))?)/g;var gt={},fa=qt;Object.defineProperty(gt,"__esModule",{value:!0});var Pt=gt.default=void 0,ga=fa(gr()),pa=e;Pt=gt.default=(0,ga.default)((0,pa.jsx)("path",{d:"M12 2C6.49 2 2 6.49 2 12s4.49 10 10 10 10-4.49 10-10S17.51 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m3-8c0 1.66-1.34 3-3 3s-3-1.34-3-3 1.34-3 3-3 3 1.34 3 3"}),"Adjust");const ma="data:image/png;base64,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",Fa=({tweetData:t,fetchSettings:a})=>{const u=p.createRef(),[r,o]=p.useState(null),[l,D]=p.useState(null),[c,d]=p.useState(new Map);p.useState(1);const[s,n]=p.useState([]),[m,k]=p.useState(""),[B,S]=p.useState(null);let j=new Set;const E=i=>{let U=(i==null?void 0:i.toLowerCase().replace(/[^a-z0-9\s]/gi,"").replace(ha(),"").replace(/[^\w\s]/g,"")).split(/\s+/);return U=U.filter(L=>j.has(L)),U};a.topics.forEach(({name:i,subtopics:M})=>{j.add(i==null?void 0:i.toLowerCase()),M.split(",").forEach(U=>j.add(U==null?void 0:U.toLowerCase().trim()))}),[...a.andKeywords,...a.orKeywords].forEach(i=>j.add(i==null?void 0:i.toLowerCase()));const[C,y]=p.useState({original:0,retweet:0,quoted:0}),[h,w]=p.useState(null),[N,_]=p.useState([]),[b,T]=p.useState([]),[O,V]=p.useState(5),[I,se]=p.useState(!0),[ae,$]=p.useState(!0),[Q,F]=p.useState(!0),f=p.useMemo(()=>{const i=[];I&&i.push("retweeted"),ae&&i.push("quoted"),Q&&i.push("original");const M=t.map(L=>{var W,q;const Y=(q=(W=L.raw)==null?void 0:W.post)==null?void 0:q.referenced_tweets;let re="original";if(Y&&Y.length>0){const Z=Y[0].type;i.includes(Z)&&(re=Z)}return{...L,type:re}}).filter(L=>i.includes(L.type)),U=M.reduce((L,Y)=>(L[Y.type]++,L),{original:0,retweet:0,quoted:0});return y(U),M},[t,I,ae,Q]),x={retweetColor:"purple",quotedColor:"green",tweetColor:"#cccccc"},R=i=>i==="retweet"&&I?x.retweetColor:i==="quoted"&&ae?x.quotedColor:i==="original"&&Q?x.tweetColor:"white",A=i=>i.size>O?"red":i.size>2&&i.size<=O?"yellow":"#97C2FC";function z(){const M=new Set,U="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let L="",Y=!1;for(;!Y;){L="";for(let re=0;re<10;re++){const W=Math.floor(Math.random()*U.length);L+=U[W]}M.has(L)||(M.add(L),Y=!0)}return L}const X=()=>{const i=[],M=[],U=new Map,L=new Map,Y=new Map,re=new Set,W=new Set;f.forEach(({author:q,raw:{user:Z,post:J},type:H})=>{var Pe;const{text:ce,entities:ke}=J,Je=E(ce);ke&&((Pe=ke.hashtags)==null?void 0:Pe.length)>0&&ke.hashtags.forEach(v=>{const P=`#${v.tag}`;U.has(P)||U.set(P,[]),U.get(P).push({user:Z,type:H})}),Je.forEach(v=>{L.has(v)||L.set(v,[]),L.get(v).push({user:Z,type:H})})});for(const[q,Z]of U){const J=new Set(Z.map(H=>H.user.id));J.size>=2&&(re.add(q),i.push({key:q,user:!1,attributes:{size:J.size,label:q,color:A(J)}}),Z.forEach(({user:H,type:ce})=>{J.has(H.id)&&(Y.set(H.username,H),M.push({key:z(),source:q,user:!1,target:H.username,type:ce,attributes:{type:"arrow",size:.5,color:R(ce)}}),J.delete(H.id))}))}for(const[q,Z]of L){const J=new Set(Z.map(H=>H.user.id));J.size>=2&&(W.add(q),i.push({key:q,user:!1,attributes:{size:J.size,label:q,color:A(J)}}),Z.forEach(({user:H,type:ce})=>{J.has(H.id)&&(Y.set(H.username,H),M.push({key:z(),source:q,user:!0,target:H.username,type:ce,attributes:{type:"arrow",size:.5,color:R(ce)}}),J.delete(H.id))}))}_(Array.from(re)),T(Array.from(W));for(const[q,Z]of Y){const J={key:q,user:!0,attributes:{size:2,label:Z.username,image:Z.profile_image_url}};i.push(J)}return{nodes:i,edges:M}},ee=p.useMemo(X,[f,O,I,ae,Q]),te=p.useMemo(()=>{const{nodes:i,edges:M}=ee,U=new Set(i.filter(W=>s.includes(W.key)||W.user===!0).map(W=>W.key)),L=M.filter(W=>U.has(W.source)&&U.has(W.target)),Y=new Set;return L.forEach(W=>{Y.add(W.source),Y.add(W.target)}),{nodes:i.filter(W=>U.has(W.key)&&Y.has(W.key)),edges:L}},[ee,s]),ie=(i,M=1)=>{if(!r)return;if(r.getGraph().getNodeAttributes(i)){const Y=r.getCamera(),re=r.getNodeDisplayData(i);if(re){const{x:W,y:q,size:Z}=re,ce=Math.max(.1,Math.min(6,M*W*q*(Z/50)));Y.animate({x:W,y:q,ratio:ce},{duration:500,easing:"quadraticInOut"})}}},Fe=i=>{const M=i.target.value;console.log("selectedValue",M),M&&ie(M)},le=i=>{const M=i.target.value;M&&ie(M)},pt=i=>{const M=Number(i.target.value);V(M)},Ae=p.useCallback(i=>{const{name:M,checked:U}=i.target;M==="filterRetweeted"&&se(L=>!L),M==="filterQuoted"&&$(L=>!L),M==="filterTweet"&&F(L=>!L)},[]),Le=(i,M)=>Math.random()*(M-i)+i,Xe=(i,M,U)=>{const L=i.x-M.x,Y=i.y-M.y;return Math.sqrt(L*L+Y*Y)<U},Qe=(i,M,U,L,Y,re)=>{let W,q,Z=0;const J=100;do if(W=Le(M,U),q=Le(L,Y),Z++,Z>J){console.warn("Couldn't find a non-overlapping position after max attempts");break}while(i.some(H=>Xe({x:W,y:q},H,re)));return{x:W,y:q}};p.useEffect(()=>{if(r){const v=r.getCamera().getState();S(v)}const i=new Dr({multi:!0}),{nodes:M,edges:U}=te,L=150,Y=3e3,re=3e3,W=M.map((v,P,De)=>{let be,Ie;if(c.has(v.key))({x:be,y:Ie}=c.get(v.key));else{const{x:It,y:zt}=Qe(De.slice(0,P),0,Y,0,re,L);be=It,Ie=zt,c.set(v.key,{x:be,y:Ie})}return{key:v.key,user:v.user,attributes:{...v.attributes,x:be,y:Ie}}}),q=10,Z=50;W.forEach(v=>{const P=v.attributes.size,De=Math.max(q,Math.min(P,Z)),be={x:v.attributes.x,y:v.attributes.y,size:De,color:v.attributes.color,image:v.user&&ma,label:v.user?"":`${v.attributes.label} (${P})`,fullLabel:v.user?`@${v.attributes.label}`:null};i.addNode(v.key,be)}),U.forEach(v=>{i.hasEdge(v.source,v.target)?i.updateEdge(v.source,v.target,v.attributes):i.addEdge(v.source,v.target,v.attributes)});const J=xt.inferSettings(i);xt.assign(i,{settings:J,iterations:50});const H=new dr(i,u.current,{defaultNodeType:"image",renderEdgeLabels:!0,enableEdgeHoverEvents:!0,nodeProgramClasses:{image:da},allowInvalidContainer:!0}),ce=H.getCamera();D(ce),B&&ce.setState(B),H.on("enterNode",v=>{const P=i.getNodeAttributes(v.node);P.fullLabel&&i.setNodeAttribute(v.node,"label",P.fullLabel),w(v.node),ke(v.node),Je(v.node)}),H.on("leaveNode",v=>{i.getNodeAttributes(v.node).fullLabel&&i.setNodeAttribute(v.node,"label",""),w(null),Pe()});const ke=v=>{i.forEachNode(P=>{const De=P===v||i.neighbors(v).includes(P);i.getNodeAttribute(P,"")||i.setNodeAttribute(P,"",i.getNodeAttribute(P,"color")),i.setNodeAttribute(P,"color",De?i.getNodeAttribute(P,""):"#eee"),i.setNodeAttribute(P,"hidden",!De)}),i.forEachEdge(P=>{const De=i.extremities(P).includes(v);i.getEdgeAttribute(P,"")||i.setEdgeAttribute(P,"",i.getEdgeAttribute(P,"color")),i.setEdgeAttribute(P,"color",De?i.getEdgeAttribute(P,""):"#eee"),i.setEdgeAttribute(P,"hidden",!De),i.setEdgeAttribute(P,"size",De?2:.5)}),H.refresh()},Je=v=>{r.getGraph().forEachNeighbor(v,P=>{r.getGraph().setNodeAttribute(P,"color","rgba(255, 215, 0, 0.7)")}),r.refresh()},Pe=()=>{i.forEachNode(v=>{i.setNodeAttribute(v,"color",i.getNodeAttribute(v,"")),i.setNodeAttribute(v,"hidden",!1)}),i.forEachEdge(v=>{i.setEdgeAttribute(v,"color",i.getEdgeAttribute(v,"")),i.setEdgeAttribute(v,"hidden",!1),i.setEdgeAttribute(v,"size",.5)}),H.refresh()};return i.forEachNode(v=>{if(c.has(v)){const{x:P,y:De}=c.get(v);i.setNodeAttribute(v,"x",P),i.setNodeAttribute(v,"y",De)}}),H.refresh(),o(H),()=>{i.forEachNode((v,P)=>{c.set(v,{x:P.x,y:P.y})}),H.kill()}},[te]);const Ze=()=>{if(l){const i=l.getState().ratio/1.5;l.animate({ratio:i},{duration:200})}},g=()=>{if(l){const i=l.getState().ratio*1.5;l.animate({ratio:i},{duration:200})}},G=i=>{i.preventDefault(),i.stopPropagation(),l&&l.animate({x:.5,y:.5,ratio:1},{duration:200})},he=()=>{document.fullscreenElement?document.exitFullscreen&&document.exitFullscreen():document.documentElement.requestFullscreen()},oe=p.useMemo(()=>[...N.map(i=>({label:i,value:i})),...b.map(i=>({label:i,value:i}))],[N,b]);return p.useEffect(()=>{n([...N,...b])},[N,b]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"overflow-hidden",style:{position:"fixed",zIndex:"9999"},children:[e.jsxs("div",{className:"flex flex-col md:flex-row gap-8 w-full",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("select",{className:"form-select w-full",id:"hashtags",onChange:Fe,children:[e.jsx("option",{value:"",children:"Select a hashtag"}),N.map(i=>e.jsx("option",{value:i,children:i},i))]})}),e.jsx("div",{className:"flex-1",children:e.jsxs("select",{className:"form-select w-full",id:"words",onChange:le,children:[e.jsx("option",{value:"",children:"Select a word"}),b.map(i=>e.jsx("option",{value:i,children:i},i))]})}),e.jsx("div",{className:"flex-2",children:e.jsx(pr,{options:oe,selectedValues:s,onSelectionChange:i=>{n(i)},placeholder:"Clusters"})}),e.jsx("div",{className:"flex-1",children:e.jsx("input",{type:"number",value:O,onChange:pt,className:"form-input w-full",min:"1",placeholder:"Set limit for many connections"})}),e.jsxs("div",{className:"flex-1 bg-white p-2 rounded-xl",children:[e.jsx("input",{type:"checkbox",name:"filterRetweeted",className:"w-4 h-4 text-violet-600 bg-gray-100 border-gray-300 rounded",checked:I,onChange:Ae}),e.jsxs("label",{className:"ms-2 text-sm font-medium",style:{color:x.retweetColor},children:["Is Retweeted (",C.retweet,")"]})]}),e.jsxs("div",{className:"flex-1 bg-white p-2 rounded-xl",children:[e.jsx("input",{type:"checkbox",name:"filterQuoted",className:"w-4 h-4 text-violet-600 bg-gray-100 border-gray-300 rounded",checked:ae,onChange:Ae}),e.jsxs("label",{className:"ms-2 text-sm font-medium",style:{color:x.quotedColor},children:["Is Quoted (",C.quoted,")"]})]}),e.jsxs("div",{className:"flex-1 bg-white p-2 rounded-xl",children:[e.jsx("input",{type:"checkbox",name:"filterTweet",className:"w-4 h-4 text-violet-600 bg-gray-100 border-gray-300 rounded",checked:Q,onChange:Ae}),e.jsxs("label",{className:"ms-2 text-sm font-medium",style:{color:x.tweetColor},children:["Is Tweet (",C.original,")"]})]})]}),e.jsxs("div",{style:{position:"fixed",zIndex:"9999",right:"70px",top:"20px"},className:"flex items-center space-x-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx("input",{id:"node-user-search",name:"node-user-search",value:m,onChange:i=>{k(i.target.value)},onKeyDown:i=>{i.key==="Enter"&&(i.preventDefault(),ie(m))},className:"form-input w-full pl-9 bg-white dark:bg-slate-800",type:"search",placeholder:"Search nodes and users"}),e.jsx("button",{className:"absolute inset-0 right-auto group","aria-label":"Search",children:e.jsxs("svg",{className:"w-4 h-4 shrink-0 fill-current text-slate-400 dark:text-slate-500 group-hover:text-slate-500 dark:group-hover:text-slate-400 ml-3 mr-2",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{d:"M7 14c-3.86 0-7-3.14-7-7s3.14-7 7-7 7 3.14 7 7-3.14 7-7 7zM7 2C4.243 2 2 4.243 2 7s2.243 5 5 5 5-2.243 5-5-2.243-5-5-5z"}),e.jsx("path",{d:"M15.707 14.293L13.314 11.9a8.019 8.019 0 01-1.414 1.414l2.393 2.393a.997.997 0 001.414 0 .999.999 0 000-1.414z"})]})})]}),e.jsx("button",{onClick:Ze,className:"btn bg-gray-900 text-gray-100 hover:bg-gray-800 dark:bg-gray-100 dark:text-gray-800 dark:hover:bg-white",children:e.jsx(hr,{})}),e.jsx("button",{onClick:g,className:"btn bg-gray-900 text-gray-100 hover:bg-gray-800 dark:bg-gray-100 dark:text-gray-800 dark:hover:bg-white",children:e.jsx(fr,{})}),e.jsx("button",{onClick:G,className:"btn bg-gray-900 text-gray-100 hover:bg-gray-800 dark:bg-gray-100 dark:text-gray-800 dark:hover:bg-white",children:e.jsx(Pt,{})}),e.jsx("button",{onClick:he,className:"btn bg-gray-900 text-gray-100 hover:bg-gray-800 dark:bg-gray-100 dark:text-gray-800 dark:hover:bg-white",children:e.jsx(Cr,{})})]})]}),e.jsx("div",{ref:u,style:{height:"800px",width:"100%"},onWheel:i=>{if(l){const M=l.getState().ratio*(1-i.deltaY/1e3);l.animate({ratio:M},{duration:200})}i.preventDefault()}})]})};function Ca({options:t,selected:a,setSelected:u}){const[r,o]=p.useState(a),[l,D]=p.useState(!1),[c,d]=p.useState(""),[s,n]=p.useState(!1),m=p.useRef(null),k=p.useRef(null);p.useEffect(()=>{B(r)},[r]);const B=C=>{let y=C.join(",").substring(0,20);C.length>=3&&(y=`${C.length} selected`),C.length==0&&(y="Select Locations"),d(y)};p.useEffect(()=>{o(a)},[]),p.useEffect(()=>{const C=({target:y})=>{k.current&&(!s||k.current.contains(y)||m.current.contains(y)||(n(!1),B(a)))};return document.addEventListener("click",C),()=>document.removeEventListener("click",C)}),p.useEffect(()=>{const C=({keyCode:y})=>{!s||y!==27||(n(!1),B(a))};return document.addEventListener("keydown",C),()=>document.removeEventListener("keydown",C)}),p.useEffect(()=>{r.length>0&&r.length<t.length?D(!0):D(!1)},[r]);const S=(C,y)=>{let h=[];if(r.forEach(w=>{h.push(w)}),C.target.checked==!0)r.includes(y)||h.push(y);else{const w=r.findIndex(N=>N==y);h.splice(w,1)}o(h)},j=C=>{if(C==!0){const y=[];t.forEach(h=>{y.push(h)}),o(y)}else o([])},E=()=>{u(r),n(!1)};return e.jsxs("div",{className:"relative inline-flex",children:[e.jsxs("button",{ref:m,className:"w-full btn justify-between min-w-44 bg-white dark:bg-slate-800 border-slate-200 dark:border-slate-700 hover:border-slate-300 dark:hover:border-slate-600 text-slate-500 hover:text-slate-600 dark:text-slate-300 dark:hover:text-slate-200","aria-label":"Select date range","aria-haspopup":"true",onClick:()=>{s==!1&&o(a),n(!s)},"aria-expanded":s,children:[e.jsx("span",{className:"flex items-center",children:e.jsx("span",{children:c})}),e.jsx("svg",{className:"shrink-0 ml-1 fill-current text-slate-400",width:"11",height:"7",viewBox:"0 0 11 7",children:e.jsx("path",{d:"M5.4 6.8L0 1.4 1.4 0l4 4 4-4 1.4 1.4z"})})]}),e.jsx(kt,{show:s,tag:"div",className:"z-10 absolute top-full left-0 w-full bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 py-1.5 rounded shadow-lg overflow-hidden mt-1",enter:"transition ease-out duration-100 transform",enterStart:"opacity-0 -translate-y-2",enterEnd:"opacity-100 translate-y-0",leave:"transition ease-out duration-100",leaveStart:"opacity-100",leaveEnd:"opacity-0",children:e.jsxs("div",{ref:k,className:"font-medium text-sm text-slate-600 dark:text-slate-300",children:[e.jsxs("ul",{className:"mb-4 max-h-[200px] overflow-auto",children:[e.jsx("li",{className:"py-1 px-3",children:e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",className:"w-4 h-4 text-violet-600 bg-gray-100 border-gray-300 rounded focus:ring-violet-500 dark:focus:ring-violet-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-slate-300",onChange:C=>{j(C.target.checked)},ref:C=>{C&&(C.indeterminate=l)}}),e.jsx("span",{className:"text-sm font-medium ml-2",children:"All"})]})}),t.map((C,y)=>e.jsx("li",{className:"py-1 px-3",children:e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:!!r.includes(C),className:"w-4 h-4 text-violet-600 bg-gray-100 border-gray-300 rounded focus:ring-violet-500 dark:focus:ring-violet-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-slate-300",value:C,onChange:h=>{S(h,C)}}),e.jsx("span",{className:"text-sm font-medium ml-2",children:C})]})},y))]}),e.jsx("div",{className:"py-2 px-3 border-t border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-700/20",children:e.jsx("ul",{className:"flex items-center justify-end",children:e.jsx("li",{children:e.jsx("button",{className:"btn-xs bg-violet-500 hover:bg-violet-600 text-slate-300",onClick:()=>E(),onBlur:()=>E(),children:"Apply"})})})})]})})]})}const Ia=({subModuleId:t,showDate:a,showList:u,topics:r,type:o,showPlatforms:l,setCheckRendered:D})=>{const c=ye(),d=fe(g=>g.socialRadar.filters),s=fe(g=>g.socialRadar.fetchSettings);fe(g=>g.socialRadar.posts);const n=fe(g=>g.socialRadar.allPosts),[m,k]=p.useState(0),[B,S]=p.useState([]),[j,E]=p.useState([]),[C,y]=p.useState(0),[h,w]=p.useState(!1),[N,_]=p.useState(!1),[b,T]=p.useState(!1),[O,V]=p.useState(!1),[I,se]=p.useState(!1),[ae,$]=p.useState(!1),[Q,F]=p.useState(!1),[f,x]=p.useState(!1),[R,A]=p.useState([]);p.useState(0);const z=["All","Verified","Not Verified"],{platforms:X}=d,[ee,te]=p.useState(!1);p.useEffect(()=>{c({type:"retweet/set",payload:h})},[h]),p.useEffect(()=>{T(!1),se(!1),F(!1)},[n]);const ie=async()=>{if((n==null?void 0:n.length)>0)try{const g=await it.post(`${ge}/api/modifyandmigration/keywordscount`,{posts:[...n.map(G=>G._id)]});g?A([...g]):console.error(g)}catch(g){console.error(g)}};p.useEffect(()=>{ie()},[d,n]),p.useEffect(()=>{((s==null?void 0:s.andKeywords.length)>0||(s==null?void 0:s.andKeywords.length)>0)&&E(["all",...s==null?void 0:s.andKeywords,...s==null?void 0:s.orKeywords])},[s==null?void 0:s.andKeywords,s==null?void 0:s.orKeywords]),p.useEffect(()=>{["all",...s==null?void 0:s.locations][m]&&c({type:"userlocation/set",payload:["all",...s==null?void 0:s.locations][m]})},[m,s==null?void 0:s.locations]),p.useEffect(()=>{c({type:"userlocations/set",payload:B})},[B]),p.useEffect(()=>{c({type:"userstatus/set",payload:z[C]})},[C]),p.useEffect(()=>{(n==null?void 0:n.length)>0&&le(n)},[n]);const Fe=fe(g=>g.socialRadar.tags.activetags);p.useEffect(()=>{lt().then(g=>{c({type:"alltags/set",payload:g}),D(!0)}).catch(g=>console.log(g))},[]);const le=g=>{const G={};return g.forEach(oe=>{const i=oe.authoredAt.split("T")[0];G[i]=(G[i]||0)+1}),Object.keys(G).map(oe=>({name:oe,uv:G[oe],pv:2400,amt:2400,label:oe,data:G[oe]}))};function pt(g){c({type:"activetags/set",payload:g})}const Ae={},Le={},Xe=[{header:`${s==null?void 0:s.name} Topics`,name:`${s==null?void 0:s.name} Topics`||"Undefined Topics",options:r?{all:"All",...r.map(g=>g==null?void 0:g.name).reduce((g,G)=>(g[G]=G,g),Ae)}:null,selector:g=>g.socialRadar.filters.topic,dispatchType:"topic/set",track:{category:"Filter",action:"Set Topic"}},{header:"Account Categories",options:Zt,selector:g=>g.filters.accounts.categories,dispatchType:"accounts/categories/set",track:{category:"Filter",action:"Set Account Category"},adjust:" mr-[-2rem] "},{header:"Account Identity",options:Jt,selector:g=>g.filters.accounts.identities,dispatchType:"accounts/identities/set",track:{category:"Filter",action:"Set Account Identity"}},{header:"Account Location",options:$t,selector:g=>g.filters.accounts.location,dispatchType:"account/location/set",track:{category:"Filter",action:"Set Account Location"}},{header:"Account Type",options:er,selector:g=>g.filters.accounts.institutions,dispatchType:"account/institutions/set",track:{category:"Filter",action:"Set Account Institution"}},{header:"And Keywords",name:"And Keywords",options:(s==null?void 0:s.andKeywords.length)>0?{all:"All",...s==null?void 0:s.andKeywords.map(g=>g).reduce((g,G)=>(g[G]=G,g),Le)}:null,selector:g=>g.filters.andKeywords,dispatchType:"andkeywords/set",track:{category:"Filter",action:"andkeywords"}},{header:"OR Keywords",name:"OR Keywords",options:(s==null?void 0:s.orKeywords.length)>0?{all:"All",...s==null?void 0:s.orKeywords.map(g=>g).reduce((g,G)=>(g[G]=G,g),{})}:null,selector:g=>g.filters.orKeywords,dispatchType:"orkeywords/set",track:{category:"Filter",action:"orkeywords"}},{header:"Keywords",name:"Keywords",options:(s==null?void 0:s.orKeywords.length)>0||(s==null?void 0:s.andKeywords.length)>0?{all:"All",...s==null?void 0:s.andKeywords.concat(s==null?void 0:s.orKeywords).map(g=>g).reduce((g,G)=>(g[G]=G,g),{})}:null,selector:g=>g.socialRadar.filters.keywords,dispatchType:"keywords/set",track:{category:"Filter",action:"keywords"}}],[Qe,Ze]=p.useState();return p.useEffect(()=>{const g=le(n);g.sort((i,M)=>i.name.localeCompare(M.name));const G=g.map((i,M)=>i.label),he=g.map((i,M)=>i.data),oe={labels:G,datasets:[{label:"Count",data:he,fill:!0,backgroundColor:`rgba(${jt(K().theme.colors.blue[500])}, 0.08)`,borderColor:K().theme.colors.violet[500],borderWidth:1,tension:0,pointRadius:0,pointHoverRadius:3,pointBackgroundColor:K().theme.colors.violet[500],pointHoverBackgroundColor:K().theme.colors.violet[500],pointBorderWidth:0,pointHoverBorderWidth:0,clip:20}]};Ze(oe)},[n]),e.jsxs("section",{className:"flex flex-col mt-0 h-full overflow-hidden",children:[e.jsxs("header",{className:"sticky top-0 z-50",children:[e.jsx("div",{className:"flex items-center justify-between mt-2 ",children:e.jsx(vr,{children:e.jsx("span",{className:"text-xs",onClick:()=>{w(!1),y(0),S([])},children:"Clear Filters"})})}),e.jsx("div",{"data-name":t==="submodule_socialRadar_resources_view"?"feature_socialRadar_resources_view_dateRange":"feature_socialRadar_projectView_dateRange",className:"flex items-center justify-between mt-2",children:a&&e.jsx(xr,{selector:g=>g.socialRadar.filters.dates})})]}),e.jsxs("div",{className:"overflow-x-hidden flex-grow hoverscroll",children:[null,o==="posts"?Xe.filter(g=>u.includes(g.header)).map((g,G)=>e.jsx("div",{"data-name":g.name==="ProduceFarm Topics"?"feature_socialRadar_projectView_topics":g.name==="Keywords"?"feature_socialRadar_projectView_keywords":void 0,children:p.createElement(_r,{...g,key:G})})):null,e.jsxs("div",{"data-name":t==="submodule_socialRadar_resources_view"?"feature_socialRadar_resources_view_userBasedLocation":"feature_socialRadar_projectView_userBasedLocation",className:"grid  items-center ",children:[e.jsx("label",{className:"block font-bold text-sm mt-3 text-slate-500",children:"User Based Location"}),e.jsx(Ca,{options:[...s==null?void 0:s.locations],selected:B,setSelected:S})]}),e.jsxs("div",{"data-name":t==="submodule_socialRadar_resources_view"?"feature_socialRadar_resources_view_userStatus":"feature_socialRadar_projectView_userStatus",className:"grid  items-center ",children:[e.jsx("label",{className:"block font-bold text-sm mt-3 text-slate-500",children:"User Status"}),e.jsx(Mr,{options:z,selected:C,setSelected:y})]}),o==="posts"&&e.jsxs("div",{"data-name":"feature_socialRadar_projectView_retweets",className:"grid",children:[e.jsx("label",{className:"block font-bold text-sm mt-3 text-slate-500",children:"Retweets"}),e.jsx("input",{type:"checkbox",checked:h,onChange:()=>w(!h),className:"sr-only peer"}),e.jsx("div",{className:"relative cursor-pointer w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-violet-300 dark:peer-focus:ring-violet-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-slate-300 peer-checked:bg-violet-500",onClick:()=>w(!h)})]}),o==="posts"?e.jsxs("div",{"data-name":"feature_socialRadar_projectView_displayGraph",className:"grid items-center",children:[e.jsx("label",{className:"block font-bold text-sm mt-3 text-slate-500",children:"Display Graph"}),(n==null?void 0:n.length)>0?e.jsx("button",{className:"btn bg-gray-900 text-gray-100 hover:bg-gray-800 dark:bg-gray-100 dark:text-gray-800 dark:hover:bg-white",onClick:g=>{g.stopPropagation(),_(!0)},children:"Display Graph"}):e.jsx("p",{className:"text-red-600",children:"Please Filter the posts first"}),N&&e.jsx(Be,{id:"Posts-Graph-Modal",open:N,setOpen:()=>_(!1),title:"Filtered Posts By Authored At Data",fullWidth:!0,maxWidth:"md",paperOverflow:!0,children:e.jsx(Kr,{data:[...n],szByDate:Qe})})]}):null,o==="posts"?e.jsxs("div",{"data-name":"feature_socialRadar_projectView_displayMostRepeatedWords",className:"grid  items-center  ",children:[e.jsx("label",{className:"block font-bold text-sm mt-3 text-slate-500",children:"Display Most Repeated Words"}),(n==null?void 0:n.length)>0?e.jsx("button",{className:"btn bg-gray-900 text-gray-100 hover:bg-gray-800 dark:bg-gray-100 dark:text-gray-800 dark:hover:bg-white",onClick:g=>{g.stopPropagation(),V(!0)},children:"Display Keywords"}):e.jsx("p",{className:"text-red-600",children:"Please Filter the posts first"}),O&&e.jsx(Be,{id:"posts-keyword-count",open:O,setOpen:()=>V(!1),title:"Filtered Posts Keywords Count",fullWidth:!0,maxWidth:"md",paperOverflow:!0,children:R.length>0?e.jsx(Or,{wordsWithCounts:[...R.filter(g=>g.count>1)]}):null})]}):null,o==="posts"?e.jsxs("div",{"data-name":"feature_socialRadar_projectView_displayTweetsOnMap",className:"grid  items-center  ",children:[e.jsx("label",{className:"block font-bold text-sm mt-3 text-slate-500",children:"Display Tweets On Map"}),(n==null?void 0:n.length)>0?e.jsx("button",{className:"btn bg-gray-900 text-gray-100 hover:bg-gray-800 dark:bg-gray-100 dark:text-gray-800 dark:hover:bg-white",onClick:g=>{g.stopPropagation(),se(!0),I?$(!0):setTimeout(()=>{$(!0)},100)},children:"Display Map"}):e.jsx("p",{className:"text-red-600",children:"Please Filter the posts first"}),I&&e.jsx(Be,{id:"MapWithTweets-1234",open:ae,setOpen:()=>$(!1),title:"Filtered Posts Tweets On Map Those have Geo Locations",fullWidth:!0,maxWidth:"md",children:e.jsx("div",{className:"",children:n.length>0?e.jsx(Wr,{tweets:n==null?void 0:n.filter(g=>{var G,he;return(he=(G=g==null?void 0:g.raw)==null?void 0:G.places)==null?void 0:he.geo}).map(g=>{var G,he,oe,i;return{...(he=(G=g==null?void 0:g.raw)==null?void 0:G.places)==null?void 0:he.geo,content:(i=(oe=g==null?void 0:g.raw)==null?void 0:oe.places)==null?void 0:i.name,url:g.url}})}):null})})]}):null,o==="posts"?e.jsxs("div",{"data-name":"feature_socialRadar_projectView_displayTweetsOnNetwork",className:"grid  items-center  ",children:[e.jsx("label",{className:"block font-bold text-sm mt-3 text-slate-500",children:"Display Tweets On Network"}),(n==null?void 0:n.length)>0?e.jsx("button",{className:"btn bg-gray-900 text-gray-100 hover:bg-gray-800 dark:bg-gray-100 dark:text-gray-800 dark:hover:bg-white",onClick:g=>{g.stopPropagation(),F(!0),Q?x(!0):setTimeout(()=>{x(!0)},100)},children:"Display Network"}):e.jsx("p",{className:"text-red-600",children:"Please Filter the posts first"}),Q&&e.jsx(Be,{id:"Posts-Network-Modal",open:f,setOpen:()=>x(!1),title:"Filtered Posts Tweets Network Visualization",fullScreen:!0,maxWidth:"md",children:e.jsx("div",{className:"overflow-hidden",children:n.length>0?e.jsx(Fa,{tweetData:n,fetchSettings:s}):null})})]}):null,e.jsx("div",{"data-name":t==="submodule_socialRadar_resources_view"?"feature_socialRadar_resources_view_platforms":"feature_socialRadar_projectView_platforms",children:l&&e.jsx(Er,{platforms:X})})]}),e.jsx(Be,{title:"Manage Tags",open:ee,setOpen:()=>te(!1),fullWidth:!0,maxWidth:"md",children:e.jsx(Rr,{})})]})},Me={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","api-key":"SOCIALRADAR_kNfOdiOXgYycGCH8KA"}};function Oe(t){const{dates:a,topic:u,accounts:r,platforms:o,page:l,sortBy:D,sortMostFollow:c,sortMostLike:d,sortMostVerified:s,search:n,tags:m,fetchSetting:k,fetchSettingId:B,andKeywords:S,orKeywords:j,keywords:E,userLocation:C,userLocations:y,userStatus:h,postsPerPage:w,retweet:N}=t,{curatedOnly:_,categories:b,identities:T,institutions:O,location:V}=r,I={platforms:o,page:l,sortBy:D,search:n},{from:se,to:ae}=a,$=new Date(se);$.setMinutes($.getMinutes()+$.getTimezoneOffset());const Q=new Date(ae);return Q.setMinutes(Q.getMinutes()+Q.getTimezoneOffset()),Q.setDate(Q.getDate()+1),I.dates={from:$,to:Q},I.postsPerPage=w,h!="All"&&(I.raw={user:{verified:h==="Verified"}}),u!=="all"&&(I.topic=u),S!=="all"&&(I.andKeywords=S),j!=="all"&&(I.orKeywords=j),E!=="all"&&(I.keywords=E),C!=="all"&&(I.userlocation=C),I.userlocations=y,_&&(b!=="all"&&(I.category=b),T!=="all"&&(I.identity=T),O!=="all"&&(I.institutions=O==="institutional"),V!=="all"&&(I.georgia=V==="georgia"),m&&m.length&&(I.tags=m)),B!==""&&(I.fetchSettingId=B),c&&(I.sortMostFollow=c),d&&(I.sortMostLike=d),s&&(I.sortMostVerified=s),I.retweet=N,I}async function za(t,a={},u=[],r){const o={...a,postsPerPage:r};o.tags=u;const l=Oe(o),D={...Me,body:JSON.stringify(l)},c=await fetch(`${ge}/api/post/users/${t}`,D),{posts:d,lastPage:s,postCount:n,allPosts:m}=await c.json();return{posts:d,isLastPage:s,totalPosts:n,allPosts:m}}async function Ka(t,a={},u=[],r,o){const l={...a,postsPerPage:r,fetchSettingId:o};l.tags=u;const D=Oe(l),c={...Me,body:JSON.stringify(D)},d=await fetch(`${ge}/api/post/${t}`,c),{posts:s,lastPage:n,postCount:m,allPosts:k,mostFollow:B,mostLike:S,verified:j,trend:E}=await d.json();return{posts:s,isLastPage:n,totalPosts:m,allPosts:k,mostFollow:B,mostLike:S,verified:j,trend:E}}async function Ga(t={},a){const u={...t,postsPerPage:10,fetchSettingId:a},r=Oe(u),o={...Me,body:JSON.stringify(r)},l=await fetch(`${ge}/api/post/fetch/MostFollow`,o),{mostFollow:D}=await l.json();return D}async function Wa(t={},a){const u={...t,postsPerPage:10,fetchSettingId:a},r=Oe(u),o={...Me,body:JSON.stringify(r)},l=await fetch(`${ge}/api/post/fetch/MostLike`,o),{mostLike:D}=await l.json();return D}async function Ha(t={},a){const u={...t,postsPerPage:10,fetchSettingId:a},r=Oe(u),o={...Me,body:JSON.stringify(r)},l=await fetch(`${ge}/api/post/fetch/verified`,o),{mostLike:D}=await l.json();return D}const Ua=t=>{const a=fe(o=>o.socialRadar.filters.sortBy),u=ye();function r(o){u({type:"sortBy/set",payload:o})}return e.jsx("div",{className:"w-full mb-4",children:e.jsx(xe,{value:a,onChange:r,children:e.jsxs("div",{className:"relative",children:[e.jsxs(xe.Button,{className:"relative w-full py-2 pl-3 pr-10 text-left bg-white border border-gray-300 rounded-md shadow-sm cursor-default focus:outline-none focus-visible:ring-2 focus-visible:ring-violet-500 focus-visible:border-violet-500 sm:text-sm",children:[e.jsx("span",{className:"block truncate",children:t==null?void 0:t.SORT_BY[a]}),e.jsx("span",{className:"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none",children:e.jsx(me,{type:"chevron-down",size:"sm",className:"text-slate-400"})})]}),e.jsx(Fr,{as:p.Fragment,leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e.jsx(xe.Options,{className:"absolute w-full py-1 mt-1 overflow-auto text-base bg-white rounded-md shadow-lg max-h-60 ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm z-10",children:Object.keys(t==null?void 0:t.SORT_BY).map((o,l)=>e.jsx(xe.Option,{className:({active:D})=>`${D?"text-slate-300 bg-violet-600":"text-slate-900"}
                    cursor-default select-none relative py-2 pl-10 pr-4`,value:o,children:({selected:D,active:c})=>e.jsxs(e.Fragment,{children:[e.jsx("span",{className:`${D?"font-medium":"font-normal"} block truncate`,children:t==null?void 0:t.SORT_BY[o]}),D&&e.jsx("span",{className:`${c?"text-slate-300":"text-violet-600"} absolute inset-y-0 left-0 flex items-center pl-3`,children:e.jsx(me,{type:"check",size:"sm"})})]})},l))})})]})})})};export{Ia as F,Ua as S,Wa as a,Ha as b,br as c,Ka as d,lt as e,Ga as f,za as g};
