const Ht=["top","right","bottom","left"],q=Math.min,R=Math.max,ot=Math.round,it=Math.floor,F=t=>({x:t,y:t}),Nt={left:"right",right:"left",bottom:"top",top:"bottom"},Vt={start:"end",end:"start"};function ut(t,e,n){return R(t,q(e,n))}function $(t,e){return typeof t=="function"?t(e):t}function z(t){return t.split("-")[0]}function Q(t){return t.split("-")[1]}function ht(t){return t==="x"?"y":"x"}function gt(t){return t==="y"?"height":"width"}function V(t){return["top","bottom"].includes(z(t))?"y":"x"}function pt(t){return ht(V(t))}function $t(t,e,n){n===void 0&&(n=!1);const i=Q(t),o=pt(t),s=gt(o);let r=o==="x"?i===(n?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(r=st(r)),[r,st(r)]}function zt(t){const e=st(t);return[dt(t),e,dt(e)]}function dt(t){return t.replace(/start|end/g,e=>Vt[e])}function _t(t,e,n){const i=["left","right"],o=["right","left"],s=["top","bottom"],r=["bottom","top"];switch(t){case"top":case"bottom":return n?e?o:i:e?i:o;case"left":case"right":return e?s:r;default:return[]}}function It(t,e,n,i){const o=Q(t);let s=_t(z(t),n==="start",i);return o&&(s=s.map(r=>r+"-"+o),e&&(s=s.concat(s.map(dt)))),s}function st(t){return t.replace(/left|right|bottom|top/g,e=>Nt[e])}function jt(t){return{top:0,right:0,bottom:0,left:0,...t}}function Lt(t){return typeof t!="number"?jt(t):{top:t,right:t,bottom:t,left:t}}function rt(t){const{x:e,y:n,width:i,height:o}=t;return{width:i,height:o,top:n,left:e,right:e+i,bottom:n+o,x:e,y:n}}function bt(t,e,n){let{reference:i,floating:o}=t;const s=V(e),r=pt(e),c=gt(r),l=z(e),f=s==="y",d=i.x+i.width/2-o.width/2,u=i.y+i.height/2-o.height/2,h=i[c]/2-o[c]/2;let a;switch(l){case"top":a={x:d,y:i.y-o.height};break;case"bottom":a={x:d,y:i.y+i.height};break;case"right":a={x:i.x+i.width,y:u};break;case"left":a={x:i.x-o.width,y:u};break;default:a={x:i.x,y:i.y}}switch(Q(e)){case"start":a[r]-=h*(n&&f?-1:1);break;case"end":a[r]+=h*(n&&f?-1:1);break}return a}const Yt=async(t,e,n)=>{const{placement:i="bottom",strategy:o="absolute",middleware:s=[],platform:r}=n,c=s.filter(Boolean),l=await(r.isRTL==null?void 0:r.isRTL(e));let f=await r.getElementRects({reference:t,floating:e,strategy:o}),{x:d,y:u}=bt(f,i,l),h=i,a={},m=0;for(let g=0;g<c.length;g++){const{name:p,fn:x}=c[g],{x:w,y,data:b,reset:v}=await x({x:d,y:u,initialPlacement:i,placement:h,strategy:o,middlewareData:a,rects:f,platform:r,elements:{reference:t,floating:e}});d=w??d,u=y??u,a={...a,[p]:{...a[p],...b}},v&&m<=50&&(m++,typeof v=="object"&&(v.placement&&(h=v.placement),v.rects&&(f=v.rects===!0?await r.getElementRects({reference:t,floating:e,strategy:o}):v.rects),{x:d,y:u}=bt(f,h,l)),g=-1)}return{x:d,y:u,placement:h,strategy:o,middlewareData:a}};async function tt(t,e){var n;e===void 0&&(e={});const{x:i,y:o,platform:s,rects:r,elements:c,strategy:l}=t,{boundary:f="clippingAncestors",rootBoundary:d="viewport",elementContext:u="floating",altBoundary:h=!1,padding:a=0}=$(e,t),m=Lt(a),p=c[h?u==="floating"?"reference":"floating":u],x=rt(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(p)))==null||n?p:p.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(c.floating)),boundary:f,rootBoundary:d,strategy:l})),w=u==="floating"?{x:i,y:o,width:r.floating.width,height:r.floating.height}:r.reference,y=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c.floating)),b=await(s.isElement==null?void 0:s.isElement(y))?await(s.getScale==null?void 0:s.getScale(y))||{x:1,y:1}:{x:1,y:1},v=rt(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:w,offsetParent:y,strategy:l}):w);return{top:(x.top-v.top+m.top)/b.y,bottom:(v.bottom-x.bottom+m.bottom)/b.y,left:(x.left-v.left+m.left)/b.x,right:(v.right-x.right+m.right)/b.x}}const qt=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:i,placement:o,rects:s,platform:r,elements:c,middlewareData:l}=e,{element:f,padding:d=0}=$(t,e)||{};if(f==null)return{};const u=Lt(d),h={x:n,y:i},a=pt(o),m=gt(a),g=await r.getDimensions(f),p=a==="y",x=p?"top":"left",w=p?"bottom":"right",y=p?"clientHeight":"clientWidth",b=s.reference[m]+s.reference[a]-h[a]-s.floating[m],v=h[a]-s.reference[a],O=await(r.getOffsetParent==null?void 0:r.getOffsetParent(f));let A=O?O[y]:0;(!A||!await(r.isElement==null?void 0:r.isElement(O)))&&(A=c.floating[y]||s.floating[m]);const H=b/2-v/2,D=A/2-g[m]/2-1,T=q(u[x],D),_=q(u[w],D),P=T,I=A-g[m]-_,M=A/2-g[m]/2+H,L=ut(P,M,I),U=!l.arrow&&Q(o)!=null&&M!==L&&s.reference[m]/2-(M<P?T:_)-g[m]/2<0,N=U?M<P?M-P:M-I:0;return{[a]:h[a]+N,data:{[a]:L,centerOffset:M-L-N,...U&&{alignmentOffset:N}},reset:U}}}),Xt=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,i;const{placement:o,middlewareData:s,rects:r,initialPlacement:c,platform:l,elements:f}=e,{mainAxis:d=!0,crossAxis:u=!0,fallbackPlacements:h,fallbackStrategy:a="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:g=!0,...p}=$(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const x=z(o),w=V(c),y=z(c)===c,b=await(l.isRTL==null?void 0:l.isRTL(f.floating)),v=h||(y||!g?[st(c)]:zt(c)),O=m!=="none";!h&&O&&v.push(...It(c,g,m,b));const A=[c,...v],H=await tt(e,p),D=[];let T=((i=s.flip)==null?void 0:i.overflows)||[];if(d&&D.push(H[x]),u){const L=$t(o,r,b);D.push(H[L[0]],H[L[1]])}if(T=[...T,{placement:o,overflows:D}],!D.every(L=>L<=0)){var _,P;const L=(((_=s.flip)==null?void 0:_.index)||0)+1,U=A[L];if(U){var I;const j=u==="alignment"?w!==V(U):!1,k=((I=T[0])==null?void 0:I.overflows[0])>0;if(!j||k)return{data:{index:L,overflows:T},reset:{placement:U}}}let N=(P=T.filter(j=>j.overflows[0]<=0).sort((j,k)=>j.overflows[1]-k.overflows[1])[0])==null?void 0:P.placement;if(!N)switch(a){case"bestFit":{var M;const j=(M=T.filter(k=>{if(O){const Y=V(k.placement);return Y===w||Y==="y"}return!0}).map(k=>[k.placement,k.overflows.filter(Y=>Y>0).reduce((Y,Bt)=>Y+Bt,0)]).sort((k,Y)=>k[1]-Y[1])[0])==null?void 0:M[0];j&&(N=j);break}case"initialPlacement":N=c;break}if(o!==N)return{reset:{placement:N}}}return{}}}};function At(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Ot(t){return Ht.some(e=>t[e]>=0)}const Ut=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:i="referenceHidden",...o}=$(t,e);switch(i){case"referenceHidden":{const s=await tt(e,{...o,elementContext:"reference"}),r=At(s,n.reference);return{data:{referenceHiddenOffsets:r,referenceHidden:Ot(r)}}}case"escaped":{const s=await tt(e,{...o,altBoundary:!0}),r=At(s,n.floating);return{data:{escapedOffsets:r,escaped:Ot(r)}}}default:return{}}}}};async function Kt(t,e){const{placement:n,platform:i,elements:o}=t,s=await(i.isRTL==null?void 0:i.isRTL(o.floating)),r=z(n),c=Q(n),l=V(n)==="y",f=["left","top"].includes(r)?-1:1,d=s&&l?-1:1,u=$(e,t);let{mainAxis:h,crossAxis:a,alignmentAxis:m}=typeof u=="number"?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:u.mainAxis||0,crossAxis:u.crossAxis||0,alignmentAxis:u.alignmentAxis};return c&&typeof m=="number"&&(a=c==="end"?m*-1:m),l?{x:a*d,y:h*f}:{x:h*f,y:a*d}}const Gt=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,i;const{x:o,y:s,placement:r,middlewareData:c}=e,l=await Kt(e,t);return r===((n=c.offset)==null?void 0:n.placement)&&(i=c.arrow)!=null&&i.alignmentOffset?{}:{x:o+l.x,y:s+l.y,data:{...l,placement:r}}}}},Jt=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:i,placement:o}=e,{mainAxis:s=!0,crossAxis:r=!1,limiter:c={fn:p=>{let{x,y:w}=p;return{x,y:w}}},...l}=$(t,e),f={x:n,y:i},d=await tt(e,l),u=V(z(o)),h=ht(u);let a=f[h],m=f[u];if(s){const p=h==="y"?"top":"left",x=h==="y"?"bottom":"right",w=a+d[p],y=a-d[x];a=ut(w,a,y)}if(r){const p=u==="y"?"top":"left",x=u==="y"?"bottom":"right",w=m+d[p],y=m-d[x];m=ut(w,m,y)}const g=c.fn({...e,[h]:a,[u]:m});return{...g,data:{x:g.x-n,y:g.y-i,enabled:{[h]:s,[u]:r}}}}}},Qt=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:i,placement:o,rects:s,middlewareData:r}=e,{offset:c=0,mainAxis:l=!0,crossAxis:f=!0}=$(t,e),d={x:n,y:i},u=V(o),h=ht(u);let a=d[h],m=d[u];const g=$(c,e),p=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const y=h==="y"?"height":"width",b=s.reference[h]-s.floating[y]+p.mainAxis,v=s.reference[h]+s.reference[y]-p.mainAxis;a<b?a=b:a>v&&(a=v)}if(f){var x,w;const y=h==="y"?"width":"height",b=["top","left"].includes(z(o)),v=s.reference[u]-s.floating[y]+(b&&((x=r.offset)==null?void 0:x[u])||0)+(b?0:p.crossAxis),O=s.reference[u]+s.reference[y]+(b?0:((w=r.offset)==null?void 0:w[u])||0)-(b?p.crossAxis:0);m<v?m=v:m>O&&(m=O)}return{[h]:a,[u]:m}}}},Zt=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,i;const{placement:o,rects:s,platform:r,elements:c}=e,{apply:l=()=>{},...f}=$(t,e),d=await tt(e,f),u=z(o),h=Q(o),a=V(o)==="y",{width:m,height:g}=s.floating;let p,x;u==="top"||u==="bottom"?(p=u,x=h===(await(r.isRTL==null?void 0:r.isRTL(c.floating))?"start":"end")?"left":"right"):(x=u,p=h==="end"?"top":"bottom");const w=g-d.top-d.bottom,y=m-d.left-d.right,b=q(g-d[p],w),v=q(m-d[x],y),O=!e.middlewareData.shift;let A=b,H=v;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(H=y),(i=e.middlewareData.shift)!=null&&i.enabled.y&&(A=w),O&&!h){const T=R(d.left,0),_=R(d.right,0),P=R(d.top,0),I=R(d.bottom,0);a?H=m-2*(T!==0||_!==0?T+_:R(d.left,d.right)):A=g-2*(P!==0||I!==0?P+I:R(d.top,d.bottom))}await l({...e,availableWidth:H,availableHeight:A});const D=await r.getDimensions(c.floating);return m!==D.width||g!==D.height?{reset:{rects:!0}}:{}}}};function ct(){return typeof window<"u"}function Z(t){return Et(t)?(t.nodeName||"").toLowerCase():"#document"}function C(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function B(t){var e;return(e=(Et(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Et(t){return ct()?t instanceof Node||t instanceof C(t).Node:!1}function E(t){return ct()?t instanceof Element||t instanceof C(t).Element:!1}function W(t){return ct()?t instanceof HTMLElement||t instanceof C(t).HTMLElement:!1}function Rt(t){return!ct()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof C(t).ShadowRoot}function nt(t){const{overflow:e,overflowX:n,overflowY:i,display:o}=S(t);return/auto|scroll|overlay|hidden|clip/.test(e+i+n)&&!["inline","contents"].includes(o)}function te(t){return["table","td","th"].includes(Z(t))}function lt(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function xt(t){const e=wt(),n=E(t)?S(t):t;return["transform","translate","scale","rotate","perspective"].some(i=>n[i]?n[i]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(i=>(n.willChange||"").includes(i))||["paint","layout","strict","content"].some(i=>(n.contain||"").includes(i))}function ee(t){let e=X(t);for(;W(e)&&!J(e);){if(xt(e))return e;if(lt(e))return null;e=X(e)}return null}function wt(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function J(t){return["html","body","#document"].includes(Z(t))}function S(t){return C(t).getComputedStyle(t)}function ft(t){return E(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function X(t){if(Z(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Rt(t)&&t.host||B(t);return Rt(e)?e.host:e}function St(t){const e=X(t);return J(e)?t.ownerDocument?t.ownerDocument.body:t.body:W(e)&&nt(e)?e:St(e)}function et(t,e,n){var i;e===void 0&&(e=[]),n===void 0&&(n=!0);const o=St(t),s=o===((i=t.ownerDocument)==null?void 0:i.body),r=C(o);if(s){const c=mt(r);return e.concat(r,r.visualViewport||[],nt(o)?o:[],c&&n?et(c):[])}return e.concat(o,et(o,[],n))}function mt(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Dt(t){const e=S(t);let n=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const o=W(t),s=o?t.offsetWidth:n,r=o?t.offsetHeight:i,c=ot(n)!==s||ot(i)!==r;return c&&(n=s,i=r),{width:n,height:i,$:c}}function yt(t){return E(t)?t:t.contextElement}function G(t){const e=yt(t);if(!W(e))return F(1);const n=e.getBoundingClientRect(),{width:i,height:o,$:s}=Dt(e);let r=(s?ot(n.width):n.width)/i,c=(s?ot(n.height):n.height)/o;return(!r||!Number.isFinite(r))&&(r=1),(!c||!Number.isFinite(c))&&(c=1),{x:r,y:c}}const ne=F(0);function Pt(t){const e=C(t);return!wt()||!e.visualViewport?ne:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function ie(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==C(t)?!1:e}function K(t,e,n,i){e===void 0&&(e=!1),n===void 0&&(n=!1);const o=t.getBoundingClientRect(),s=yt(t);let r=F(1);e&&(i?E(i)&&(r=G(i)):r=G(t));const c=ie(s,n,i)?Pt(s):F(0);let l=(o.left+c.x)/r.x,f=(o.top+c.y)/r.y,d=o.width/r.x,u=o.height/r.y;if(s){const h=C(s),a=i&&E(i)?C(i):i;let m=h,g=mt(m);for(;g&&i&&a!==m;){const p=G(g),x=g.getBoundingClientRect(),w=S(g),y=x.left+(g.clientLeft+parseFloat(w.paddingLeft))*p.x,b=x.top+(g.clientTop+parseFloat(w.paddingTop))*p.y;l*=p.x,f*=p.y,d*=p.x,u*=p.y,l+=y,f+=b,m=C(g),g=mt(m)}}return rt({width:d,height:u,x:l,y:f})}function vt(t,e){const n=ft(t).scrollLeft;return e?e.left+n:K(B(t)).left+n}function Mt(t,e,n){n===void 0&&(n=!1);const i=t.getBoundingClientRect(),o=i.left+e.scrollLeft-(n?0:vt(t,i)),s=i.top+e.scrollTop;return{x:o,y:s}}function oe(t){let{elements:e,rect:n,offsetParent:i,strategy:o}=t;const s=o==="fixed",r=B(i),c=e?lt(e.floating):!1;if(i===r||c&&s)return n;let l={scrollLeft:0,scrollTop:0},f=F(1);const d=F(0),u=W(i);if((u||!u&&!s)&&((Z(i)!=="body"||nt(r))&&(l=ft(i)),W(i))){const a=K(i);f=G(i),d.x=a.x+i.clientLeft,d.y=a.y+i.clientTop}const h=r&&!u&&!s?Mt(r,l,!0):F(0);return{width:n.width*f.x,height:n.height*f.y,x:n.x*f.x-l.scrollLeft*f.x+d.x+h.x,y:n.y*f.y-l.scrollTop*f.y+d.y+h.y}}function se(t){return Array.from(t.getClientRects())}function re(t){const e=B(t),n=ft(t),i=t.ownerDocument.body,o=R(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),s=R(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let r=-n.scrollLeft+vt(t);const c=-n.scrollTop;return S(i).direction==="rtl"&&(r+=R(e.clientWidth,i.clientWidth)-o),{width:o,height:s,x:r,y:c}}function ce(t,e){const n=C(t),i=B(t),o=n.visualViewport;let s=i.clientWidth,r=i.clientHeight,c=0,l=0;if(o){s=o.width,r=o.height;const f=wt();(!f||f&&e==="fixed")&&(c=o.offsetLeft,l=o.offsetTop)}return{width:s,height:r,x:c,y:l}}function le(t,e){const n=K(t,!0,e==="fixed"),i=n.top+t.clientTop,o=n.left+t.clientLeft,s=W(t)?G(t):F(1),r=t.clientWidth*s.x,c=t.clientHeight*s.y,l=o*s.x,f=i*s.y;return{width:r,height:c,x:l,y:f}}function Ct(t,e,n){let i;if(e==="viewport")i=ce(t,n);else if(e==="document")i=re(B(t));else if(E(e))i=le(e,n);else{const o=Pt(t);i={x:e.x-o.x,y:e.y-o.y,width:e.width,height:e.height}}return rt(i)}function kt(t,e){const n=X(t);return n===e||!E(n)||J(n)?!1:S(n).position==="fixed"||kt(n,e)}function fe(t,e){const n=e.get(t);if(n)return n;let i=et(t,[],!1).filter(c=>E(c)&&Z(c)!=="body"),o=null;const s=S(t).position==="fixed";let r=s?X(t):t;for(;E(r)&&!J(r);){const c=S(r),l=xt(r);!l&&c.position==="fixed"&&(o=null),(s?!l&&!o:!l&&c.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||nt(r)&&!l&&kt(t,r))?i=i.filter(d=>d!==r):o=c,r=X(r)}return e.set(t,i),i}function ae(t){let{element:e,boundary:n,rootBoundary:i,strategy:o}=t;const r=[...n==="clippingAncestors"?lt(e)?[]:fe(e,this._c):[].concat(n),i],c=r[0],l=r.reduce((f,d)=>{const u=Ct(e,d,o);return f.top=R(u.top,f.top),f.right=q(u.right,f.right),f.bottom=q(u.bottom,f.bottom),f.left=R(u.left,f.left),f},Ct(e,c,o));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function ue(t){const{width:e,height:n}=Dt(t);return{width:e,height:n}}function de(t,e,n){const i=W(e),o=B(e),s=n==="fixed",r=K(t,!0,s,e);let c={scrollLeft:0,scrollTop:0};const l=F(0);function f(){l.x=vt(o)}if(i||!i&&!s)if((Z(e)!=="body"||nt(o))&&(c=ft(e)),i){const a=K(e,!0,s,e);l.x=a.x+e.clientLeft,l.y=a.y+e.clientTop}else o&&f();s&&!i&&o&&f();const d=o&&!i&&!s?Mt(o,c):F(0),u=r.left+c.scrollLeft-l.x-d.x,h=r.top+c.scrollTop-l.y-d.y;return{x:u,y:h,width:r.width,height:r.height}}function at(t){return S(t).position==="static"}function Tt(t,e){if(!W(t)||S(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return B(t)===n&&(n=n.ownerDocument.body),n}function Ft(t,e){const n=C(t);if(lt(t))return n;if(!W(t)){let o=X(t);for(;o&&!J(o);){if(E(o)&&!at(o))return o;o=X(o)}return n}let i=Tt(t,e);for(;i&&te(i)&&at(i);)i=Tt(i,e);return i&&J(i)&&at(i)&&!xt(i)?n:i||ee(t)||n}const me=async function(t){const e=this.getOffsetParent||Ft,n=this.getDimensions,i=await n(t.floating);return{reference:de(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function he(t){return S(t).direction==="rtl"}const ge={convertOffsetParentRelativeRectToViewportRelativeRect:oe,getDocumentElement:B,getClippingRect:ae,getOffsetParent:Ft,getElementRects:me,getClientRects:se,getDimensions:ue,getScale:G,isElement:E,isRTL:he};function Wt(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function pe(t,e){let n=null,i;const o=B(t);function s(){var c;clearTimeout(i),(c=n)==null||c.disconnect(),n=null}function r(c,l){c===void 0&&(c=!1),l===void 0&&(l=1),s();const f=t.getBoundingClientRect(),{left:d,top:u,width:h,height:a}=f;if(c||e(),!h||!a)return;const m=it(u),g=it(o.clientWidth-(d+h)),p=it(o.clientHeight-(u+a)),x=it(d),y={rootMargin:-m+"px "+-g+"px "+-p+"px "+-x+"px",threshold:R(0,q(1,l))||1};let b=!0;function v(O){const A=O[0].intersectionRatio;if(A!==l){if(!b)return r();A?r(!1,A):i=setTimeout(()=>{r(!1,1e-7)},1e3)}A===1&&!Wt(f,t.getBoundingClientRect())&&r(),b=!1}try{n=new IntersectionObserver(v,{...y,root:o.ownerDocument})}catch{n=new IntersectionObserver(v,y)}n.observe(t)}return r(!0),s}function xe(t,e,n,i){i===void 0&&(i={});const{ancestorScroll:o=!0,ancestorResize:s=!0,elementResize:r=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:l=!1}=i,f=yt(t),d=o||s?[...f?et(f):[],...et(e)]:[];d.forEach(x=>{o&&x.addEventListener("scroll",n,{passive:!0}),s&&x.addEventListener("resize",n)});const u=f&&c?pe(f,n):null;let h=-1,a=null;r&&(a=new ResizeObserver(x=>{let[w]=x;w&&w.target===f&&a&&(a.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var y;(y=a)==null||y.observe(e)})),n()}),f&&!l&&a.observe(f),a.observe(e));let m,g=l?K(t):null;l&&p();function p(){const x=K(t);g&&!Wt(g,x)&&n(),g=x,m=requestAnimationFrame(p)}return n(),()=>{var x;d.forEach(w=>{o&&w.removeEventListener("scroll",n),s&&w.removeEventListener("resize",n)}),u==null||u(),(x=a)==null||x.disconnect(),a=null,l&&cancelAnimationFrame(m)}}const we=Gt,ye=Jt,ve=Xt,be=Zt,Ae=Ut,Oe=qt,Re=Qt,Ce=(t,e,n)=>{const i=new Map,o={platform:ge,...n},s={...o.platform,_c:i};return Yt(t,e,{...o,platform:s})};export{be as a,Oe as b,Ce as c,xe as d,ve as f,Ae as h,Re as l,we as o,ye as s};
